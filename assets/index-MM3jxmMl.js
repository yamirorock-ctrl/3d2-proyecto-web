function nS(t,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var i=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(i,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),i}var Md={exports:{}},Bo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function rS(){if(Dg)return Bo;Dg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:u,ref:o!==void 0?o:null,props:l}}return Bo.Fragment=e,Bo.jsx=i,Bo.jsxs=i,Bo}var kg;function sS(){return kg||(kg=1,Md.exports=rS()),Md.exports}var _=sS(),Dd={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function oS(){if(Ug)return Ie;Ug=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function P(U,ee,pe){this.props=U,this.context=ee,this.refs=N,this.updater=pe||T}P.prototype.isReactComponent={},P.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function V(){}V.prototype=P.prototype;function M(U,ee,pe){this.props=U,this.context=ee,this.refs=N,this.updater=pe||T}var j=M.prototype=new V;j.constructor=M,A(j,P.prototype),j.isPureReactComponent=!0;var B=Array.isArray;function X(){}var Q={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function ae(U,ee,pe){var K=pe.ref;return{$$typeof:t,type:U,key:ee,ref:K!==void 0?K:null,props:pe}}function _e(U,ee){return ae(U.type,ee,U.props)}function Ce(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function Ee(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return ee[pe]})}var Pe=/\/+/g;function ot(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?Ee(""+U.key):ee.toString(36)}function se(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(X,X):(U.status="pending",U.then(function(ee){U.status==="pending"&&(U.status="fulfilled",U.value=ee)},function(ee){U.status==="pending"&&(U.status="rejected",U.reason=ee)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function R(U,ee,pe,K,ue){var me=typeof U;(me==="undefined"||me==="boolean")&&(U=null);var Re=!1;if(U===null)Re=!0;else switch(me){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(U.$$typeof){case t:case e:Re=!0;break;case v:return Re=U._init,R(Re(U._payload),ee,pe,K,ue)}}if(Re)return ue=ue(U),Re=K===""?"."+ot(U,0):K,B(ue)?(pe="",Re!=null&&(pe=Re.replace(Pe,"$&/")+"/"),R(ue,ee,pe,"",function($t){return $t})):ue!=null&&(Ce(ue)&&(ue=_e(ue,pe+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(Pe,"$&/")+"/")+Re)),ee.push(ue)),1;Re=0;var Me=K===""?".":K+":";if(B(U))for(var Ye=0;Ye<U.length;Ye++)K=U[Ye],me=Me+ot(K,Ye),Re+=R(K,ee,pe,me,ue);else if(Ye=E(U),typeof Ye=="function")for(U=Ye.call(U),Ye=0;!(K=U.next()).done;)K=K.value,me=Me+ot(K,Ye++),Re+=R(K,ee,pe,me,ue);else if(me==="object"){if(typeof U.then=="function")return R(se(U),ee,pe,K,ue);throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Re}function $(U,ee,pe){if(U==null)return U;var K=[],ue=0;return R(U,K,"","",function(me){return ee.call(pe,me,ue++)}),K}function ie(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},we={map:$,forEach:function(U,ee,pe){$(U,function(){ee.apply(this,arguments)},pe)},count:function(U){var ee=0;return $(U,function(){ee++}),ee},toArray:function(U){return $(U,function(ee){return ee})||[]},only:function(U){if(!Ce(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ie.Activity=x,Ie.Children=we,Ie.Component=P,Ie.Fragment=i,Ie.Profiler=o,Ie.PureComponent=M,Ie.StrictMode=s,Ie.Suspense=h,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Q.H.useMemoCache(U)}},Ie.cache=function(U){return function(){return U.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(U,ee,pe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var K=A({},U.props),ue=U.key;if(ee!=null)for(me in ee.key!==void 0&&(ue=""+ee.key),ee)!ce.call(ee,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ee.ref===void 0||(K[me]=ee[me]);var me=arguments.length-2;if(me===1)K.children=pe;else if(1<me){for(var Re=Array(me),Me=0;Me<me;Me++)Re[Me]=arguments[Me+2];K.children=Re}return ae(U.type,ue,K)},Ie.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ie.createElement=function(U,ee,pe){var K,ue={},me=null;if(ee!=null)for(K in ee.key!==void 0&&(me=""+ee.key),ee)ce.call(ee,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=ee[K]);var Re=arguments.length-2;if(Re===1)ue.children=pe;else if(1<Re){for(var Me=Array(Re),Ye=0;Ye<Re;Ye++)Me[Ye]=arguments[Ye+2];ue.children=Me}if(U&&U.defaultProps)for(K in Re=U.defaultProps,Re)ue[K]===void 0&&(ue[K]=Re[K]);return ae(U,me,ue)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(U){return{$$typeof:d,render:U}},Ie.isValidElement=Ce,Ie.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ie}},Ie.memo=function(U,ee){return{$$typeof:m,type:U,compare:ee===void 0?null:ee}},Ie.startTransition=function(U){var ee=Q.T,pe={};Q.T=pe;try{var K=U(),ue=Q.S;ue!==null&&ue(pe,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(X,fe)}catch(me){fe(me)}finally{ee!==null&&pe.types!==null&&(ee.types=pe.types),Q.T=ee}},Ie.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ie.use=function(U){return Q.H.use(U)},Ie.useActionState=function(U,ee,pe){return Q.H.useActionState(U,ee,pe)},Ie.useCallback=function(U,ee){return Q.H.useCallback(U,ee)},Ie.useContext=function(U){return Q.H.useContext(U)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(U,ee){return Q.H.useDeferredValue(U,ee)},Ie.useEffect=function(U,ee){return Q.H.useEffect(U,ee)},Ie.useEffectEvent=function(U){return Q.H.useEffectEvent(U)},Ie.useId=function(){return Q.H.useId()},Ie.useImperativeHandle=function(U,ee,pe){return Q.H.useImperativeHandle(U,ee,pe)},Ie.useInsertionEffect=function(U,ee){return Q.H.useInsertionEffect(U,ee)},Ie.useLayoutEffect=function(U,ee){return Q.H.useLayoutEffect(U,ee)},Ie.useMemo=function(U,ee){return Q.H.useMemo(U,ee)},Ie.useOptimistic=function(U,ee){return Q.H.useOptimistic(U,ee)},Ie.useReducer=function(U,ee,pe){return Q.H.useReducer(U,ee,pe)},Ie.useRef=function(U){return Q.H.useRef(U)},Ie.useState=function(U){return Q.H.useState(U)},Ie.useSyncExternalStore=function(U,ee,pe){return Q.H.useSyncExternalStore(U,ee,pe)},Ie.useTransition=function(){return Q.H.useTransition()},Ie.version="19.2.0",Ie}var Pg;function Rf(){return Pg||(Pg=1,Dd.exports=oS()),Dd.exports}var O=Rf();const Jl=fu(O);var kd={exports:{}},zo={},Ud={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function aS(){return Og||(Og=1,(function(t){function e(R,$){var ie=R.length;R.push($);e:for(;0<ie;){var fe=ie-1>>>1,we=R[fe];if(0<o(we,$))R[fe]=$,R[ie]=we,ie=fe;else break e}}function i(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var $=R[0],ie=R.pop();if(ie!==$){R[0]=ie;e:for(var fe=0,we=R.length,U=we>>>1;fe<U;){var ee=2*(fe+1)-1,pe=R[ee],K=ee+1,ue=R[K];if(0>o(pe,ie))K<we&&0>o(ue,pe)?(R[fe]=ue,R[K]=ie,fe=K):(R[fe]=pe,R[ee]=ie,fe=ee);else if(K<we&&0>o(ue,ie))R[fe]=ue,R[K]=ie,fe=K;else break e}}return $}function o(R,$){var ie=R.sortIndex-$.sortIndex;return ie!==0?ie:R.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],v=1,x=null,b=3,E=!1,T=!1,A=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function j(R){for(var $=i(m);$!==null;){if($.callback===null)s(m);else if($.startTime<=R)s(m),$.sortIndex=$.expirationTime,e(h,$);else break;$=i(m)}}function B(R){if(A=!1,j(R),!T)if(i(h)!==null)T=!0,X||(X=!0,Ee());else{var $=i(m);$!==null&&se(B,$.startTime-R)}}var X=!1,Q=-1,ce=5,ae=-1;function _e(){return N?!0:!(t.unstable_now()-ae<ce)}function Ce(){if(N=!1,X){var R=t.unstable_now();ae=R;var $=!0;try{e:{T=!1,A&&(A=!1,V(Q),Q=-1),E=!0;var ie=b;try{t:{for(j(R),x=i(h);x!==null&&!(x.expirationTime>R&&_e());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,b=x.priorityLevel;var we=fe(x.expirationTime<=R);if(R=t.unstable_now(),typeof we=="function"){x.callback=we,j(R),$=!0;break t}x===i(h)&&s(h),j(R)}else s(h);x=i(h)}if(x!==null)$=!0;else{var U=i(m);U!==null&&se(B,U.startTime-R),$=!1}}break e}finally{x=null,b=ie,E=!1}$=void 0}}finally{$?Ee():X=!1}}}var Ee;if(typeof M=="function")Ee=function(){M(Ce)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ot=Pe.port2;Pe.port1.onmessage=Ce,Ee=function(){ot.postMessage(null)}}else Ee=function(){P(Ce,0)};function se(R,$){Q=P(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(R){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var ie=b;b=$;try{return R()}finally{b=ie}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ie=b;b=R;try{return $()}finally{b=ie}},t.unstable_scheduleCallback=function(R,$,ie){var fe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?fe+ie:fe):ie=fe,R){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ie+we,R={id:v++,callback:$,priorityLevel:R,startTime:ie,expirationTime:we,sortIndex:-1},ie>fe?(R.sortIndex=ie,e(m,R),i(h)===null&&R===i(m)&&(A?(V(Q),Q=-1):A=!0,se(B,ie-fe))):(R.sortIndex=we,e(h,R),T||E||(T=!0,X||(X=!0,Ee()))),R},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(R){var $=b;return function(){var ie=b;b=$;try{return R.apply(this,arguments)}finally{b=ie}}}})(Pd)),Pd}var Lg;function lS(){return Lg||(Lg=1,Ud.exports=aS()),Ud.exports}var Od={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function uS(){if(qg)return kt;qg=1;var t=Rf();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(h,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:h,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kt.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,v)},kt.flushSync=function(h){var m=u.T,v=s.p;try{if(u.T=null,s.p=2,h)return h()}finally{u.T=m,s.p=v,s.d.f()}},kt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},kt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},kt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,x=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:E}):v==="script"&&s.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},kt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},kt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=d(v,m.crossOrigin);s.d.L(h,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},kt.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=d(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},kt.requestFormReset=function(h){s.d.r(h)},kt.unstable_batchedUpdates=function(h,m){return h(m)},kt.useFormState=function(h,m,v){return u.H.useFormState(h,m,v)},kt.useFormStatus=function(){return u.H.useHostTransitionStatus()},kt.version="19.2.0",kt}var Bg;function cS(){if(Bg)return Od.exports;Bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Od.exports=uS(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function dS(){if(zg)return zo;zg=1;var t=lS(),e=Rf(),i=cS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(s(188))}function m(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,c=r;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){a=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return h(g),n;if(y===c)return h(g),r;y=y.sibling}throw Error(s(188))}if(a.return!==c.return)a=g,c=y;else{for(var S=!1,w=g.child;w;){if(w===a){S=!0,a=g,c=y;break}if(w===c){S=!0,c=g,a=y;break}w=w.sibling}if(!S){for(w=y.child;w;){if(w===a){S=!0,a=y,c=g;break}if(w===c){S=!0,c=y,a=g;break}w=w.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function Ee(n){return n===null||typeof n!="object"?null:(n=Ce&&n[Ce]||n["@@iterator"],typeof n=="function"?n:null)}var Pe=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Pe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case P:return"Profiler";case N:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case ae:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case M:return n.displayName||"Context";case V:return(n._context.displayName||"Context")+".Consumer";case j:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case ce:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var se=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},fe=[],we=-1;function U(n){return{current:n}}function ee(n){0>we||(n.current=fe[we],fe[we]=null,we--)}function pe(n,r){we++,fe[we]=n.current,n.current=r}var K=U(null),ue=U(null),me=U(null),Re=U(null);function Me(n,r){switch(pe(me,r),pe(ue,n),pe(K,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?tg(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=tg(r),n=ng(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(K),pe(K,n)}function Ye(){ee(K),ee(ue),ee(me)}function $t(n){n.memoizedState!==null&&pe(Re,n);var r=K.current,a=ng(r,n.type);r!==a&&(pe(ue,n),pe(K,a))}function wr(n){ue.current===n&&(ee(K),ee(ue)),Re.current===n&&(ee(Re),Po._currentValue=ie)}var Bs,oa;function Pn(n){if(Bs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Bs=r&&r[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+n+oa}var rn=!1;function zs(n,r){if(!n||rn)return"";rn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var Y=W}Reflect.construct(n,[],re)}else{try{re.call()}catch(W){Y=W}n.call(re.prototype)}}else{try{throw Error()}catch(W){Y=W}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],w=y[1];if(S&&w){var D=S.split(`
`),J=w.split(`
`);for(g=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(c===D.length||g===J.length)for(c=D.length-1,g=J.length-1;1<=c&&0<=g&&D[c]!==J[g];)g--;for(;1<=c&&0<=g;c--,g--)if(D[c]!==J[g]){if(c!==1||g!==1)do if(c--,g--,0>g||D[c]!==J[g]){var Z=`
`+D[c].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=c&&0<=g);break}}}finally{rn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Pn(a):""}function aa(n,r){switch(n.tag){case 26:case 27:case 5:return Pn(n.type);case 16:return Pn("Lazy");case 13:return n.child!==r&&r!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return zs(n.type,!1);case 11:return zs(n.type.render,!1);case 1:return zs(n.type,!0);case 31:return Pn("Activity");default:return""}}function zi(n){try{var r="",a=null;do r+=aa(n,a),a=n,n=n.return;while(n);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Vi=Object.prototype.hasOwnProperty,Hi=t.unstable_scheduleCallback,Gi=t.unstable_cancelCallback,la=t.unstable_shouldYield,ua=t.unstable_requestPaint,Mt=t.unstable_now,ca=t.unstable_getCurrentPriorityLevel,Vs=t.unstable_ImmediatePriority,Hs=t.unstable_UserBlockingPriority,ji=t.unstable_NormalPriority,da=t.unstable_LowPriority,Gs=t.unstable_IdlePriority,fa=t.log,ha=t.unstable_setDisableYieldValue,si=null,Tt=null;function Cn(n){if(typeof fa=="function"&&ha(n),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(si,n)}catch{}}var Ot=Math.clz32?Math.clz32:Su,js=Math.log,ma=Math.LN2;function Su(n){return n>>>=0,n===0?32:31-(js(n)/ma|0)|0}var Ft=256,Tr=262144,Cr=4194304;function An(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ar(n,r,a){var c=n.pendingLanes;if(c===0)return 0;var g=0,y=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var w=c&134217727;return w!==0?(c=w&~y,c!==0?g=An(c):(S&=w,S!==0?g=An(S):a||(a=w&~n,a!==0&&(g=An(a))))):(w=c&~y,w!==0?g=An(w):S!==0?g=An(S):a||(a=c&~n,a!==0&&(g=An(a)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,a=r&-r,y>=a||y===32&&(a&4194048)!==0)?r:g}function $i(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Eu(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pa(){var n=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),n}function $s(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Fi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function wu(n,r,a,c,g,y){var S=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,J=n.hiddenUpdates;for(a=S&~a;0<a;){var Z=31-Ot(a),re=1<<Z;w[Z]=0,D[Z]=-1;var Y=J[Z];if(Y!==null)for(J[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}a&=~re}c!==0&&ga(n,c,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~r))}function ga(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-Ot(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function ya(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-Ot(a),g=1<<c;g&r|n[c]&r&&(n[c]|=r),a&=~g}}function va(n,r){var a=r&-r;return a=(a&42)!==0?1:Nr(a),(a&(n.suspendedLanes|r))!==0?0:a}function Nr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _a(){var n=$.p;return n!==0?n:(n=window.event,n===void 0?32:Tg(n.type))}function xa(n,r){var a=$.p;try{return $.p=n,r()}finally{$.p=a}}var Nn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Nn,Dt="__reactProps$"+Nn,oi="__reactContainer$"+Nn,Js="__reactEvents$"+Nn,Tu="__reactListeners$"+Nn,Cu="__reactHandles$"+Nn,ba="__reactResources$"+Nn,Ji="__reactMarker$"+Nn;function Ys(n){delete n[bt],delete n[Dt],delete n[Js],delete n[Tu],delete n[Cu]}function ai(n){var r=n[bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[oi]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=ug(n);n!==null;){if(a=n[bt])return a;n=ug(n)}return r}n=a,a=n.parentNode}return null}function li(n){if(n=n[bt]||n[oi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function ui(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function sn(n){var r=n[ba];return r||(r=n[ba]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(n){n[Ji]=!0}var On=new Set,Sa={};function on(n,r){Rn(n,r),Rn(n+"Capture",r)}function Rn(n,r){for(Sa[n]=r,n=0;n<r.length;n++)On.add(r[n])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ea={},Rr={};function Nu(n){return Vi.call(Rr,n)?!0:Vi.call(Ea,n)?!1:Au.test(n)?Rr[n]=!0:(Ea[n]=!0,!1)}function Ir(n,r,a){if(Nu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function C(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function k(n,r,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+c)}}function I(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function z(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function G(n,r,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(S){a=""+S,y.call(this,S)}}),Object.defineProperty(n,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function q(n){if(!n._valueTracker){var r=z(n)?"checked":"value";n._valueTracker=G(n,r,""+n[r])}}function te(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=z(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function oe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var de=/[\n"\\]/g;function le(n){return n.replace(de,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function he(n,r,a,c,g,y,S,w){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),r!=null?S==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+I(r)):n.value!==""+I(r)&&(n.value=""+I(r)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),r!=null?De(n,S,I(r)):a!=null?De(n,S,I(a)):c!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+I(w):n.removeAttribute("name")}function xe(n,r,a,c,g,y,S,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){q(n);return}a=a!=null?""+I(a):"",r=r!=null?""+I(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=w?n.checked:!!c,n.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S),q(n)}function De(n,r,a){r==="number"&&oe(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Oe(n,r,a,c){if(n=n.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=r.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&c&&(n[a].defaultSelected=!0)}else{for(a=""+I(a),r=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,c&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function He(n,r,a){if(r!=null&&(r=""+I(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+I(a):""}function ut(n,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(s(92));if(se(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=I(r),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),q(n)}function Xe(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var qt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ci(n,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,a):typeof a!="number"||a===0||qt.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Mr(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var g in r)c=r[g],r.hasOwnProperty(g)&&a[g]!==c&&ci(n,g,c)}else for(var y in r)r.hasOwnProperty(y)&&ci(n,y,r[y])}function Ks(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(n){return Zf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function yn(){}var kr=null;function Ru(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ur=null,Pr=null;function eh(n){var r=li(n);if(r&&(n=r.stateNode)){var a=n[Dt]||null;e:switch(n=r.stateNode,r.type){case"input":if(he(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+le(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var g=c[Dt]||null;if(!g)throw Error(s(90));he(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===n.form&&te(c)}break e;case"textarea":He(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Oe(n,!!a.multiple,r,!1)}}}var Iu=!1;function th(n,r,a){if(Iu)return n(r,a);Iu=!0;try{var c=n(r);return c}finally{if(Iu=!1,(Ur!==null||Pr!==null)&&(cl(),Ur&&(r=Ur,n=Pr,Pr=Ur=null,eh(r),n)))for(r=0;r<n.length;r++)eh(n[r])}}function Xs(n,r){var a=n.stateNode;if(a===null)return null;var c=a[Dt]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=!1;if(Ln)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Mu=!1}var di=null,Du=null,wa=null;function nh(){if(wa)return wa;var n,r=Du,a=r.length,c,g="value"in di?di.value:di.textContent,y=g.length;for(n=0;n<a&&r[n]===g[n];n++);var S=a-n;for(c=1;c<=S&&r[a-c]===g[y-c];c++);return wa=g.slice(n,1<c?1-c:void 0)}function Ta(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ca(){return!0}function ih(){return!1}function Bt(n){function r(a,c,g,y,S){this._reactName=a,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ca:ih,this.isPropagationStopped=ih,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),r}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Bt(Yi),Zs=x({},Yi,{view:0,detail:0}),ex=Bt(Zs),ku,Uu,eo,Na=x({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==eo&&(eo&&n.type==="mousemove"?(ku=n.screenX-eo.screenX,Uu=n.screenY-eo.screenY):Uu=ku=0,eo=n),ku)},movementY:function(n){return"movementY"in n?n.movementY:Uu}}),rh=Bt(Na),tx=x({},Na,{dataTransfer:0}),nx=Bt(tx),ix=x({},Zs,{relatedTarget:0}),Pu=Bt(ix),rx=x({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),sx=Bt(rx),ox=x({},Yi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ax=Bt(ox),lx=x({},Yi,{data:0}),sh=Bt(lx),ux={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fx(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=dx[n])?!!r[n]:!1}function Ou(){return fx}var hx=x({},Zs,{key:function(n){if(n.key){var r=ux[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ta(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(n){return n.type==="keypress"?Ta(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ta(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mx=Bt(hx),px=x({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=Bt(px),gx=x({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),yx=Bt(gx),vx=x({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_x=Bt(vx),xx=x({},Na,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=Bt(xx),Sx=x({},Yi,{newState:0,oldState:0}),Ex=Bt(Sx),wx=[9,13,27,32],Lu=Ln&&"CompositionEvent"in window,to=null;Ln&&"documentMode"in document&&(to=document.documentMode);var Tx=Ln&&"TextEvent"in window&&!to,ah=Ln&&(!Lu||to&&8<to&&11>=to),lh=" ",uh=!1;function ch(n,r){switch(n){case"keyup":return wx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Or=!1;function Cx(n,r){switch(n){case"compositionend":return dh(r);case"keypress":return r.which!==32?null:(uh=!0,lh);case"textInput":return n=r.data,n===lh&&uh?null:n;default:return null}}function Ax(n,r){if(Or)return n==="compositionend"||!Lu&&ch(n,r)?(n=nh(),wa=Du=di=null,Or=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ah&&r.locale!=="ko"?null:r.data;default:return null}}var Nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Nx[n.type]:r==="textarea"}function hh(n,r,a,c){Ur?Pr?Pr.push(c):Pr=[c]:Ur=c,r=yl(r,"onChange"),0<r.length&&(a=new Aa("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var no=null,io=null;function Rx(n){Kp(n,0)}function Ra(n){var r=ui(n);if(te(r))return n}function mh(n,r){if(n==="change")return r}var ph=!1;if(Ln){var qu;if(Ln){var Bu="oninput"in document;if(!Bu){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),Bu=typeof gh.oninput=="function"}qu=Bu}else qu=!1;ph=qu&&(!document.documentMode||9<document.documentMode)}function yh(){no&&(no.detachEvent("onpropertychange",vh),io=no=null)}function vh(n){if(n.propertyName==="value"&&Ra(io)){var r=[];hh(r,io,n,Ru(n)),th(Rx,r)}}function Ix(n,r,a){n==="focusin"?(yh(),no=r,io=a,no.attachEvent("onpropertychange",vh)):n==="focusout"&&yh()}function Mx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ra(io)}function Dx(n,r){if(n==="click")return Ra(r)}function kx(n,r){if(n==="input"||n==="change")return Ra(r)}function Ux(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Jt=typeof Object.is=="function"?Object.is:Ux;function ro(n,r){if(Jt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var g=a[c];if(!Vi.call(r,g)||!Jt(n[g],r[g]))return!1}return!0}function _h(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xh(n,r){var a=_h(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_h(a)}}function bh(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?bh(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Sh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=oe(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=oe(n.document)}return r}function zu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Px=Ln&&"documentMode"in document&&11>=document.documentMode,Lr=null,Vu=null,so=null,Hu=!1;function Eh(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hu||Lr==null||Lr!==oe(c)||(c=Lr,"selectionStart"in c&&zu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),so&&ro(so,c)||(so=c,c=yl(Vu,"onSelect"),0<c.length&&(r=new Aa("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Lr)))}function Ki(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var qr={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},Gu={},wh={};Ln&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Qi(n){if(Gu[n])return Gu[n];if(!qr[n])return n;var r=qr[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in wh)return Gu[n]=r[a];return n}var Th=Qi("animationend"),Ch=Qi("animationiteration"),Ah=Qi("animationstart"),Ox=Qi("transitionrun"),Lx=Qi("transitionstart"),qx=Qi("transitioncancel"),Nh=Qi("transitionend"),Rh=new Map,ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ju.push("scrollEnd");function vn(n,r){Rh.set(n,r),on(r,[n])}var Ia=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},an=[],Br=0,$u=0;function Ma(){for(var n=Br,r=$u=Br=0;r<n;){var a=an[r];an[r++]=null;var c=an[r];an[r++]=null;var g=an[r];an[r++]=null;var y=an[r];if(an[r++]=null,c!==null&&g!==null){var S=c.pending;S===null?g.next=g:(g.next=S.next,S.next=g),c.pending=g}y!==0&&Ih(a,g,y)}}function Da(n,r,a,c){an[Br++]=n,an[Br++]=r,an[Br++]=a,an[Br++]=c,$u|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Fu(n,r,a,c){return Da(n,r,a,c),ka(n)}function Xi(n,r){return Da(n,null,null,r),ka(n)}function Ih(n,r,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var g=!1,y=n.return;y!==null;)y.childLanes|=a,c=y.alternate,c!==null&&(c.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&r!==null&&(g=31-Ot(a),n=y.hiddenUpdates,c=n[g],c===null?n[g]=[r]:c.push(r),r.lane=a|536870912),y):null}function ka(n){if(50<No)throw No=0,td=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var zr={};function Bx(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(n,r,a,c){return new Bx(n,r,a,c)}function Ju(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qn(n,r){var a=n.alternate;return a===null?(a=Yt(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Mh(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ua(n,r,a,c,g,y){var S=0;if(c=n,typeof n=="function")Ju(n)&&(S=1);else if(typeof n=="string")S=jb(n,a,K.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ae:return n=Yt(31,a,r,g),n.elementType=ae,n.lanes=y,n;case A:return Wi(a.children,g,y,r);case N:S=8,g|=24;break;case P:return n=Yt(12,a,r,g|2),n.elementType=P,n.lanes=y,n;case B:return n=Yt(13,a,r,g),n.elementType=B,n.lanes=y,n;case X:return n=Yt(19,a,r,g),n.elementType=X,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:S=10;break e;case V:S=9;break e;case j:S=11;break e;case Q:S=14;break e;case ce:S=16,c=null;break e}S=29,a=Error(s(130,n===null?"null":typeof n,"")),c=null}return r=Yt(S,a,r,g),r.elementType=n,r.type=c,r.lanes=y,r}function Wi(n,r,a,c){return n=Yt(7,n,c,r),n.lanes=a,n}function Yu(n,r,a){return n=Yt(6,n,null,r),n.lanes=a,n}function Dh(n){var r=Yt(18,null,null,0);return r.stateNode=n,r}function Ku(n,r,a){return r=Yt(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var kh=new WeakMap;function ln(n,r){if(typeof n=="object"&&n!==null){var a=kh.get(n);return a!==void 0?a:(r={value:n,source:r,stack:zi(r)},kh.set(n,r),r)}return{value:n,source:r,stack:zi(r)}}var Vr=[],Hr=0,Pa=null,oo=0,un=[],cn=0,fi=null,In=1,Mn="";function Bn(n,r){Vr[Hr++]=oo,Vr[Hr++]=Pa,Pa=n,oo=r}function Uh(n,r,a){un[cn++]=In,un[cn++]=Mn,un[cn++]=fi,fi=n;var c=In;n=Mn;var g=32-Ot(c)-1;c&=~(1<<g),a+=1;var y=32-Ot(r)+g;if(30<y){var S=g-g%5;y=(c&(1<<S)-1).toString(32),c>>=S,g-=S,In=1<<32-Ot(r)+g|a<<g|c,Mn=y+n}else In=1<<y|a<<g|c,Mn=n}function Qu(n){n.return!==null&&(Bn(n,1),Uh(n,1,0))}function Xu(n){for(;n===Pa;)Pa=Vr[--Hr],Vr[Hr]=null,oo=Vr[--Hr],Vr[Hr]=null;for(;n===fi;)fi=un[--cn],un[cn]=null,Mn=un[--cn],un[cn]=null,In=un[--cn],un[cn]=null}function Ph(n,r){un[cn++]=In,un[cn++]=Mn,un[cn++]=fi,In=r.id,Mn=r.overflow,fi=n}var Ct=null,it=null,Ve=!1,hi=null,dn=!1,Wu=Error(s(519));function mi(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ao(ln(r,n)),Wu}function Oh(n){var r=n.stateNode,a=n.type,c=n.memoizedProps;switch(r[bt]=n,r[Dt]=c,a){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(a=0;a<Io.length;a++)qe(Io[a],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),xe(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),ut(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||Zp(r.textContent,a)?(c.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),c.onScroll!=null&&qe("scroll",r),c.onScrollEnd!=null&&qe("scrollend",r),c.onClick!=null&&(r.onclick=yn),r=!0):r=!1,r||mi(n,!0)}function Lh(n){for(Ct=n.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:Ct=Ct.return}}function Gr(n){if(n!==Ct)return!1;if(!Ve)return Lh(n),Ve=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||gd(n.type,n.memoizedProps)),a=!a),a&&it&&mi(n),Lh(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));it=lg(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));it=lg(n)}else r===27?(r=it,Ni(n.type)?(n=bd,bd=null,it=n):it=r):it=Ct?hn(n.stateNode.nextSibling):null;return!0}function Zi(){it=Ct=null,Ve=!1}function Zu(){var n=hi;return n!==null&&(Gt===null?Gt=n:Gt.push.apply(Gt,n),hi=null),n}function ao(n){hi===null?hi=[n]:hi.push(n)}var ec=U(null),er=null,zn=null;function pi(n,r,a){pe(ec,r._currentValue),r._currentValue=a}function Vn(n){n._currentValue=ec.current,ee(ec)}function tc(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function nc(n,r,a,c){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var w=y;y=g;for(var D=0;D<r.length;D++)if(w.context===r[D]){y.lanes|=a,w=y.alternate,w!==null&&(w.lanes|=a),tc(y.return,a,n),c||(S=null);break e}y=w.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(s(341));S.lanes|=a,y=S.alternate,y!==null&&(y.lanes|=a),tc(S,a,n),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===n){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function jr(n,r,a,c){n=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var w=g.type;Jt(g.pendingProps.value,S.value)||(n!==null?n.push(w):n=[w])}}else if(g===Re.current){if(S=g.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Po):n=[Po])}g=g.return}n!==null&&nc(r,n,a,c),r.flags|=262144}function Oa(n){for(n=n.firstContext;n!==null;){if(!Jt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function tr(n){er=n,zn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function At(n){return qh(er,n)}function La(n,r){return er===null&&tr(n),qh(n,r)}function qh(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zn===null){if(n===null)throw Error(s(308));zn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else zn=zn.next=r;return a}var zx=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Vx=t.unstable_scheduleCallback,Hx=t.unstable_NormalPriority,gt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new zx,data:new Map,refCount:0}}function lo(n){n.refCount--,n.refCount===0&&Vx(Hx,function(){n.controller.abort()})}var uo=null,rc=0,$r=0,Fr=null;function Gx(n,r){if(uo===null){var a=uo=[];rc=0,$r=ad(),Fr={status:"pending",value:void 0,then:function(c){a.push(c)}}}return rc++,r.then(Bh,Bh),r}function Bh(){if(--rc===0&&uo!==null){Fr!==null&&(Fr.status="fulfilled");var n=uo;uo=null,$r=0,Fr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function jx(n,r){var a=[],c={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var g=0;g<a.length;g++)(0,a[g])(r)},function(g){for(c.status="rejected",c.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),c}var zh=R.S;R.S=function(n,r){Ep=Mt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Gx(n,r),zh!==null&&zh(n,r)};var nr=U(null);function sc(){var n=nr.current;return n!==null?n:tt.pooledCache}function qa(n,r){r===null?pe(nr,nr.current):pe(nr,r.pool)}function Vh(){var n=sc();return n===null?null:{parent:gt._currentValue,pool:n}}var Jr=Error(s(460)),oc=Error(s(474)),Ba=Error(s(542)),za={then:function(){}};function Hh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gh(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(yn,yn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$h(n),n;default:if(typeof r.status=="string")r.then(yn,yn);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=c}},function(c){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$h(n),n}throw rr=r,Jr}}function ir(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(rr=a,Jr):a}}var rr=null;function jh(){if(rr===null)throw Error(s(459));var n=rr;return rr=null,n}function $h(n){if(n===Jr||n===Ba)throw Error(s(483))}var Yr=null,co=0;function Va(n){var r=co;return co+=1,Yr===null&&(Yr=[]),Gh(Yr,n,r)}function fo(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ha(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Fh(n){function r(H,L){if(n){var F=H.deletions;F===null?(H.deletions=[L],H.flags|=16):F.push(L)}}function a(H,L){if(!n)return null;for(;L!==null;)r(H,L),L=L.sibling;return null}function c(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function g(H,L){return H=qn(H,L),H.index=0,H.sibling=null,H}function y(H,L,F){return H.index=F,n?(F=H.alternate,F!==null?(F=F.index,F<L?(H.flags|=67108866,L):F):(H.flags|=67108866,L)):(H.flags|=1048576,L)}function S(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function w(H,L,F,ne){return L===null||L.tag!==6?(L=Yu(F,H.mode,ne),L.return=H,L):(L=g(L,F),L.return=H,L)}function D(H,L,F,ne){var Te=F.type;return Te===A?Z(H,L,F.props.children,ne,F.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ce&&ir(Te)===L.type)?(L=g(L,F.props),fo(L,F),L.return=H,L):(L=Ua(F.type,F.key,F.props,null,H.mode,ne),fo(L,F),L.return=H,L)}function J(H,L,F,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Ku(F,H.mode,ne),L.return=H,L):(L=g(L,F.children||[]),L.return=H,L)}function Z(H,L,F,ne,Te){return L===null||L.tag!==7?(L=Wi(F,H.mode,ne,Te),L.return=H,L):(L=g(L,F),L.return=H,L)}function re(H,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Yu(""+L,H.mode,F),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return F=Ua(L.type,L.key,L.props,null,H.mode,F),fo(F,L),F.return=H,F;case T:return L=Ku(L,H.mode,F),L.return=H,L;case ce:return L=ir(L),re(H,L,F)}if(se(L)||Ee(L))return L=Wi(L,H.mode,F,null),L.return=H,L;if(typeof L.then=="function")return re(H,Va(L),F);if(L.$$typeof===M)return re(H,La(H,L),F);Ha(H,L)}return null}function Y(H,L,F,ne){var Te=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Te!==null?null:w(H,L,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return F.key===Te?D(H,L,F,ne):null;case T:return F.key===Te?J(H,L,F,ne):null;case ce:return F=ir(F),Y(H,L,F,ne)}if(se(F)||Ee(F))return Te!==null?null:Z(H,L,F,ne,null);if(typeof F.then=="function")return Y(H,L,Va(F),ne);if(F.$$typeof===M)return Y(H,L,La(H,F),ne);Ha(H,F)}return null}function W(H,L,F,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(F)||null,w(L,H,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return H=H.get(ne.key===null?F:ne.key)||null,D(L,H,ne,Te);case T:return H=H.get(ne.key===null?F:ne.key)||null,J(L,H,ne,Te);case ce:return ne=ir(ne),W(H,L,F,ne,Te)}if(se(ne)||Ee(ne))return H=H.get(F)||null,Z(L,H,ne,Te,null);if(typeof ne.then=="function")return W(H,L,F,Va(ne),Te);if(ne.$$typeof===M)return W(H,L,F,La(L,ne),Te);Ha(L,ne)}return null}function ye(H,L,F,ne){for(var Te=null,Ge=null,be=L,Ue=L=0,ze=null;be!==null&&Ue<F.length;Ue++){be.index>Ue?(ze=be,be=null):ze=be.sibling;var je=Y(H,be,F[Ue],ne);if(je===null){be===null&&(be=ze);break}n&&be&&je.alternate===null&&r(H,be),L=y(je,L,Ue),Ge===null?Te=je:Ge.sibling=je,Ge=je,be=ze}if(Ue===F.length)return a(H,be),Ve&&Bn(H,Ue),Te;if(be===null){for(;Ue<F.length;Ue++)be=re(H,F[Ue],ne),be!==null&&(L=y(be,L,Ue),Ge===null?Te=be:Ge.sibling=be,Ge=be);return Ve&&Bn(H,Ue),Te}for(be=c(be);Ue<F.length;Ue++)ze=W(be,H,Ue,F[Ue],ne),ze!==null&&(n&&ze.alternate!==null&&be.delete(ze.key===null?Ue:ze.key),L=y(ze,L,Ue),Ge===null?Te=ze:Ge.sibling=ze,Ge=ze);return n&&be.forEach(function(ki){return r(H,ki)}),Ve&&Bn(H,Ue),Te}function Ae(H,L,F,ne){if(F==null)throw Error(s(151));for(var Te=null,Ge=null,be=L,Ue=L=0,ze=null,je=F.next();be!==null&&!je.done;Ue++,je=F.next()){be.index>Ue?(ze=be,be=null):ze=be.sibling;var ki=Y(H,be,je.value,ne);if(ki===null){be===null&&(be=ze);break}n&&be&&ki.alternate===null&&r(H,be),L=y(ki,L,Ue),Ge===null?Te=ki:Ge.sibling=ki,Ge=ki,be=ze}if(je.done)return a(H,be),Ve&&Bn(H,Ue),Te;if(be===null){for(;!je.done;Ue++,je=F.next())je=re(H,je.value,ne),je!==null&&(L=y(je,L,Ue),Ge===null?Te=je:Ge.sibling=je,Ge=je);return Ve&&Bn(H,Ue),Te}for(be=c(be);!je.done;Ue++,je=F.next())je=W(be,H,Ue,je.value,ne),je!==null&&(n&&je.alternate!==null&&be.delete(je.key===null?Ue:je.key),L=y(je,L,Ue),Ge===null?Te=je:Ge.sibling=je,Ge=je);return n&&be.forEach(function(tS){return r(H,tS)}),Ve&&Bn(H,Ue),Te}function et(H,L,F,ne){if(typeof F=="object"&&F!==null&&F.type===A&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case E:e:{for(var Te=F.key;L!==null;){if(L.key===Te){if(Te=F.type,Te===A){if(L.tag===7){a(H,L.sibling),ne=g(L,F.props.children),ne.return=H,H=ne;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ce&&ir(Te)===L.type){a(H,L.sibling),ne=g(L,F.props),fo(ne,F),ne.return=H,H=ne;break e}a(H,L);break}else r(H,L);L=L.sibling}F.type===A?(ne=Wi(F.props.children,H.mode,ne,F.key),ne.return=H,H=ne):(ne=Ua(F.type,F.key,F.props,null,H.mode,ne),fo(ne,F),ne.return=H,H=ne)}return S(H);case T:e:{for(Te=F.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(H,L.sibling),ne=g(L,F.children||[]),ne.return=H,H=ne;break e}else{a(H,L);break}else r(H,L);L=L.sibling}ne=Ku(F,H.mode,ne),ne.return=H,H=ne}return S(H);case ce:return F=ir(F),et(H,L,F,ne)}if(se(F))return ye(H,L,F,ne);if(Ee(F)){if(Te=Ee(F),typeof Te!="function")throw Error(s(150));return F=Te.call(F),Ae(H,L,F,ne)}if(typeof F.then=="function")return et(H,L,Va(F),ne);if(F.$$typeof===M)return et(H,L,La(H,F),ne);Ha(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(H,L.sibling),ne=g(L,F),ne.return=H,H=ne):(a(H,L),ne=Yu(F,H.mode,ne),ne.return=H,H=ne),S(H)):a(H,L)}return function(H,L,F,ne){try{co=0;var Te=et(H,L,F,ne);return Yr=null,Te}catch(be){if(be===Jr||be===Ba)throw be;var Ge=Yt(29,be,null,H.mode);return Ge.lanes=ne,Ge.return=H,Ge}finally{}}}var sr=Fh(!0),Jh=Fh(!1),gi=!1;function ac(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function yi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vi(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Fe&2)!==0){var g=c.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),c.pending=r,r=ka(n),Ih(n,null,a),r}return Da(n,c,r,a),ka(n)}function ho(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,ya(n,a)}}function uc(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,a=a.next}while(a!==null);y===null?g=y=r:y=y.next=r}else g=y=r;a={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var cc=!1;function mo(){if(cc){var n=Fr;if(n!==null)throw n}}function po(n,r,a,c){cc=!1;var g=n.updateQueue;gi=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var D=w,J=D.next;D.next=null,S===null?y=J:S.next=J,S=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==S&&(w===null?Z.firstBaseUpdate=J:w.next=J,Z.lastBaseUpdate=D))}if(y!==null){var re=g.baseState;S=0,Z=J=D=null,w=y;do{var Y=w.lane&-536870913,W=Y!==w.lane;if(W?(Be&Y)===Y:(c&Y)===Y){Y!==0&&Y===$r&&(cc=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=n,Ae=w;Y=r;var et=a;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){re=ye.call(et,re,Y);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,Y=typeof ye=="function"?ye.call(et,re,Y):ye,Y==null)break e;re=x({},re,Y);break e;case 2:gi=!0}}Y=w.callback,Y!==null&&(n.flags|=64,W&&(n.flags|=8192),W=g.callbacks,W===null?g.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(J=Z=W,D=re):Z=Z.next=W,S|=Y;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;W=w,w=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);Z===null&&(D=re),g.baseState=D,g.firstBaseUpdate=J,g.lastBaseUpdate=Z,y===null&&(g.shared.lanes=0),Ei|=S,n.lanes=S,n.memoizedState=re}}function Yh(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Kh(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Yh(a[n],r)}var Kr=U(null),Ga=U(0);function Qh(n,r){n=Qn,pe(Ga,n),pe(Kr,r),Qn=n|r.baseLanes}function dc(){pe(Ga,Qn),pe(Kr,Kr.current)}function fc(){Qn=Ga.current,ee(Kr),ee(Ga)}var Kt=U(null),fn=null;function _i(n){var r=n.alternate;pe(mt,mt.current&1),pe(Kt,n),fn===null&&(r===null||Kr.current!==null||r.memoizedState!==null)&&(fn=n)}function hc(n){pe(mt,mt.current),pe(Kt,n),fn===null&&(fn=n)}function Xh(n){n.tag===22?(pe(mt,mt.current),pe(Kt,n),fn===null&&(fn=n)):xi()}function xi(){pe(mt,mt.current),pe(Kt,Kt.current)}function Qt(n){ee(Kt),fn===n&&(fn=null),ee(mt)}var mt=U(0);function ja(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||xd(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hn=0,ke=null,We=null,yt=null,$a=!1,Qr=!1,or=!1,Fa=0,go=0,Xr=null,$x=0;function dt(){throw Error(s(321))}function mc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Jt(n[a],r[a]))return!1;return!0}function pc(n,r,a,c,g,y){return Hn=y,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?Um:Ic,or=!1,y=a(c,g),or=!1,Qr&&(y=Zh(r,a,c,g)),Wh(n),y}function Wh(n){R.H=_o;var r=We!==null&&We.next!==null;if(Hn=0,yt=We=ke=null,$a=!1,go=0,Xr=null,r)throw Error(s(300));n===null||vt||(n=n.dependencies,n!==null&&Oa(n)&&(vt=!0))}function Zh(n,r,a,c){ke=n;var g=0;do{if(Qr&&(Xr=null),go=0,Qr=!1,25<=g)throw Error(s(301));if(g+=1,yt=We=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=Pm,y=r(a,c)}while(Qr);return y}function Fx(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?yo(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(ke.flags|=1024),r}function gc(){var n=Fa!==0;return Fa=0,n}function yc(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function vc(n){if($a){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}$a=!1}Hn=0,yt=We=ke=null,Qr=!1,go=Fa=0,Xr=null}function Lt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?ke.memoizedState=yt=n:yt=yt.next=n,yt}function pt(){if(We===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=yt===null?ke.memoizedState:yt.next;if(r!==null)yt=r,We=n;else{if(n===null)throw ke.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},yt===null?ke.memoizedState=yt=n:yt=yt.next=n}return yt}function Ja(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(n){var r=go;return go+=1,Xr===null&&(Xr=[]),n=Gh(Xr,n,r),r=ke,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Um:Ic),n}function Ya(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yo(n);if(n.$$typeof===M)return At(n)}throw Error(s(438,String(n)))}function _c(n){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ja(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),c=0;c<n;c++)a[c]=_e;return r.index++,a}function Gn(n,r){return typeof r=="function"?r(n):r}function Ka(n){var r=pt();return xc(r,We,n)}function xc(n,r,a){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var g=n.baseQueue,y=c.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}r.baseQueue=g=y,c.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{r=g.next;var w=S=null,D=null,J=r,Z=!1;do{var re=J.lane&-536870913;if(re!==J.lane?(Be&re)===re:(Hn&re)===re){var Y=J.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),re===$r&&(Z=!0);else if((Hn&Y)===Y){J=J.next,Y===$r&&(Z=!0);continue}else re={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(w=D=re,S=y):D=D.next=re,ke.lanes|=Y,Ei|=Y;re=J.action,or&&a(y,re),y=J.hasEagerState?J.eagerState:a(y,re)}else Y={lane:re,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(w=D=Y,S=y):D=D.next=Y,ke.lanes|=re,Ei|=re;J=J.next}while(J!==null&&J!==r);if(D===null?S=y:D.next=w,!Jt(y,n.memoizedState)&&(vt=!0,Z&&(a=Fr,a!==null)))throw a;n.memoizedState=y,n.baseState=S,n.baseQueue=D,c.lastRenderedState=y}return g===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function bc(n){var r=pt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=a.dispatch,g=a.pending,y=r.memoizedState;if(g!==null){a.pending=null;var S=g=g.next;do y=n(y,S.action),S=S.next;while(S!==g);Jt(y,r.memoizedState)||(vt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,c]}function em(n,r,a){var c=ke,g=pt(),y=Ve;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=r();var S=!Jt((We||g).memoizedState,a);if(S&&(g.memoizedState=a,vt=!0),g=g.queue,wc(im.bind(null,c,g,n),[n]),g.getSnapshot!==r||S||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,Wr(9,{destroy:void 0},nm.bind(null,c,g,a,r),null),tt===null)throw Error(s(349));y||(Hn&127)!==0||tm(c,r,a)}return a}function tm(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=Ja(),ke.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function nm(n,r,a,c){r.value=a,r.getSnapshot=c,rm(r)&&sm(n)}function im(n,r,a){return a(function(){rm(r)&&sm(n)})}function rm(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Jt(n,a)}catch{return!0}}function sm(n){var r=Xi(n,2);r!==null&&jt(r,n,2)}function Sc(n){var r=Lt();if(typeof n=="function"){var a=n;if(n=a(),or){Cn(!0);try{a()}finally{Cn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:n},r}function om(n,r,a,c){return n.baseState=a,xc(n,We,typeof c=="function"?c:Gn)}function Jx(n,r,a,c,g){if(Wa(n))throw Error(s(485));if(n=r.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};R.T!==null?a(!0):y.isTransition=!1,c(y),a=r.pending,a===null?(y.next=r.pending=y,am(r,y)):(y.next=a.next,r.pending=a.next=y)}}function am(n,r){var a=r.action,c=r.payload,g=n.state;if(r.isTransition){var y=R.T,S={};R.T=S;try{var w=a(g,c),D=R.S;D!==null&&D(S,w),lm(n,r,w)}catch(J){Ec(n,r,J)}finally{y!==null&&S.types!==null&&(y.types=S.types),R.T=y}}else try{y=a(g,c),lm(n,r,y)}catch(J){Ec(n,r,J)}}function lm(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){um(n,r,c)},function(c){return Ec(n,r,c)}):um(n,r,a)}function um(n,r,a){r.status="fulfilled",r.value=a,cm(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,am(n,a)))}function Ec(n,r,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,cm(r),r=r.next;while(r!==c)}n.action=null}function cm(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function dm(n,r){return r}function fm(n,r){if(Ve){var a=tt.formState;if(a!==null){e:{var c=ke;if(Ve){if(it){t:{for(var g=it,y=dn;g.nodeType!==8;){if(!y){g=null;break t}if(g=hn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){it=hn(g.nextSibling),c=g.data==="F!";break e}}mi(c)}c=!1}c&&(r=a[0])}}return a=Lt(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:r},a.queue=c,a=Mm.bind(null,ke,c),c.dispatch=a,c=Sc(!1),y=Rc.bind(null,ke,!1,c.queue),c=Lt(),g={state:r,dispatch:null,action:n,pending:null},c.queue=g,a=Jx.bind(null,ke,g,y,a),g.dispatch=a,c.memoizedState=n,[r,a,!1]}function hm(n){var r=pt();return mm(r,We,n)}function mm(n,r,a){if(r=xc(n,r,dm)[0],n=Ka(Gn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=yo(r)}catch(S){throw S===Jr?Ba:S}else c=r;r=pt();var g=r.queue,y=g.dispatch;return a!==r.memoizedState&&(ke.flags|=2048,Wr(9,{destroy:void 0},Yx.bind(null,g,a),null)),[c,y,n]}function Yx(n,r){n.action=r}function pm(n){var r=pt(),a=We;if(a!==null)return mm(r,a,n);pt(),r=r.memoizedState,a=pt();var c=a.queue.dispatch;return a.memoizedState=n,[r,c,!1]}function Wr(n,r,a,c){return n={tag:n,create:a,deps:c,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Ja(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n),n}function gm(){return pt().memoizedState}function Qa(n,r,a,c){var g=Lt();ke.flags|=n,g.memoizedState=Wr(1|r,{destroy:void 0},a,c===void 0?null:c)}function Xa(n,r,a,c){var g=pt();c=c===void 0?null:c;var y=g.memoizedState.inst;We!==null&&c!==null&&mc(c,We.memoizedState.deps)?g.memoizedState=Wr(r,y,a,c):(ke.flags|=n,g.memoizedState=Wr(1|r,y,a,c))}function ym(n,r){Qa(8390656,8,n,r)}function wc(n,r){Xa(2048,8,n,r)}function Kx(n){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=Ja(),ke.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function vm(n){var r=pt().memoizedState;return Kx({ref:r,nextImpl:n}),function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function _m(n,r){return Xa(4,2,n,r)}function xm(n,r){return Xa(4,4,n,r)}function bm(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Sm(n,r,a){a=a!=null?a.concat([n]):null,Xa(4,4,bm.bind(null,r,n),a)}function Tc(){}function Em(n,r){var a=pt();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&mc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function wm(n,r){var a=pt();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&mc(r,c[1]))return c[0];if(c=n(),or){Cn(!0);try{n()}finally{Cn(!1)}}return a.memoizedState=[c,r],c}function Cc(n,r,a){return a===void 0||(Hn&1073741824)!==0&&(Be&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=Tp(),ke.lanes|=n,Ei|=n,a)}function Tm(n,r,a,c){return Jt(a,r)?a:Kr.current!==null?(n=Cc(n,a,c),Jt(n,r)||(vt=!0),n):(Hn&42)===0||(Hn&1073741824)!==0&&(Be&261930)===0?(vt=!0,n.memoizedState=a):(n=Tp(),ke.lanes|=n,Ei|=n,r)}function Cm(n,r,a,c,g){var y=$.p;$.p=y!==0&&8>y?y:8;var S=R.T,w={};R.T=w,Rc(n,!1,r,a);try{var D=g(),J=R.S;if(J!==null&&J(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=jx(D,c);vo(n,r,Z,Zt(n))}else vo(n,r,c,Zt(n))}catch(re){vo(n,r,{then:function(){},status:"rejected",reason:re},Zt())}finally{$.p=y,S!==null&&w.types!==null&&(S.types=w.types),R.T=S}}function Qx(){}function Ac(n,r,a,c){if(n.tag!==5)throw Error(s(476));var g=Am(n).queue;Cm(n,g,r,ie,a===null?Qx:function(){return Nm(n),a(c)})}function Am(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Nm(n){var r=Am(n);r.next===null&&(r=n.alternate.memoizedState),vo(n,r.next.queue,{},Zt())}function Nc(){return At(Po)}function Rm(){return pt().memoizedState}function Im(){return pt().memoizedState}function Xx(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Zt();n=yi(a);var c=vi(r,n,a);c!==null&&(jt(c,r,a),ho(c,r,a)),r={cache:ic()},n.payload=r;return}r=r.return}}function Wx(n,r,a){var c=Zt();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wa(n)?Dm(r,a):(a=Fu(n,r,a,c),a!==null&&(jt(a,n,c),km(a,r,c)))}function Mm(n,r,a){var c=Zt();vo(n,r,a,c)}function vo(n,r,a,c){var g={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wa(n))Dm(r,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,w=y(S,a);if(g.hasEagerState=!0,g.eagerState=w,Jt(w,S))return Da(n,r,g,0),tt===null&&Ma(),!1}catch{}finally{}if(a=Fu(n,r,g,c),a!==null)return jt(a,n,c),km(a,r,c),!0}return!1}function Rc(n,r,a,c){if(c={lane:2,revertLane:ad(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Wa(n)){if(r)throw Error(s(479))}else r=Fu(n,a,c,2),r!==null&&jt(r,n,2)}function Wa(n){var r=n.alternate;return n===ke||r!==null&&r===ke}function Dm(n,r){Qr=$a=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function km(n,r,a){if((a&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,ya(n,a)}}var _o={readContext:At,use:Ya,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};_o.useEffectEvent=dt;var Um={readContext:At,use:Ya,useCallback:function(n,r){return Lt().memoizedState=[n,r===void 0?null:r],n},useContext:At,useEffect:ym,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Qa(4194308,4,bm.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Qa(4194308,4,n,r)},useInsertionEffect:function(n,r){Qa(4,2,n,r)},useMemo:function(n,r){var a=Lt();r=r===void 0?null:r;var c=n();if(or){Cn(!0);try{n()}finally{Cn(!1)}}return a.memoizedState=[c,r],c},useReducer:function(n,r,a){var c=Lt();if(a!==void 0){var g=a(r);if(or){Cn(!0);try{a(r)}finally{Cn(!1)}}}else g=r;return c.memoizedState=c.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},c.queue=n,n=n.dispatch=Wx.bind(null,ke,n),[c.memoizedState,n]},useRef:function(n){var r=Lt();return n={current:n},r.memoizedState=n},useState:function(n){n=Sc(n);var r=n.queue,a=Mm.bind(null,ke,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Tc,useDeferredValue:function(n,r){var a=Lt();return Cc(a,n,r)},useTransition:function(){var n=Sc(!1);return n=Cm.bind(null,ke,n.queue,!0,!1),Lt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var c=ke,g=Lt();if(Ve){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Be&127)!==0||tm(c,r,a)}g.memoizedState=a;var y={value:a,getSnapshot:r};return g.queue=y,ym(im.bind(null,c,y,n),[n]),c.flags|=2048,Wr(9,{destroy:void 0},nm.bind(null,c,y,a,r),null),a},useId:function(){var n=Lt(),r=tt.identifierPrefix;if(Ve){var a=Mn,c=In;a=(c&~(1<<32-Ot(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Fa++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$x++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Nc,useFormState:fm,useActionState:fm,useOptimistic:function(n){var r=Lt();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Rc.bind(null,ke,!0,a),a.dispatch=r,[n,r]},useMemoCache:_c,useCacheRefresh:function(){return Lt().memoizedState=Xx.bind(null,ke)},useEffectEvent:function(n){var r=Lt(),a={impl:n};return r.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ic={readContext:At,use:Ya,useCallback:Em,useContext:At,useEffect:wc,useImperativeHandle:Sm,useInsertionEffect:_m,useLayoutEffect:xm,useMemo:wm,useReducer:Ka,useRef:gm,useState:function(){return Ka(Gn)},useDebugValue:Tc,useDeferredValue:function(n,r){var a=pt();return Tm(a,We.memoizedState,n,r)},useTransition:function(){var n=Ka(Gn)[0],r=pt().memoizedState;return[typeof n=="boolean"?n:yo(n),r]},useSyncExternalStore:em,useId:Rm,useHostTransitionStatus:Nc,useFormState:hm,useActionState:hm,useOptimistic:function(n,r){var a=pt();return om(a,We,n,r)},useMemoCache:_c,useCacheRefresh:Im};Ic.useEffectEvent=vm;var Pm={readContext:At,use:Ya,useCallback:Em,useContext:At,useEffect:wc,useImperativeHandle:Sm,useInsertionEffect:_m,useLayoutEffect:xm,useMemo:wm,useReducer:bc,useRef:gm,useState:function(){return bc(Gn)},useDebugValue:Tc,useDeferredValue:function(n,r){var a=pt();return We===null?Cc(a,n,r):Tm(a,We.memoizedState,n,r)},useTransition:function(){var n=bc(Gn)[0],r=pt().memoizedState;return[typeof n=="boolean"?n:yo(n),r]},useSyncExternalStore:em,useId:Rm,useHostTransitionStatus:Nc,useFormState:pm,useActionState:pm,useOptimistic:function(n,r){var a=pt();return We!==null?om(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:_c,useCacheRefresh:Im};Pm.useEffectEvent=vm;function Mc(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:x({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Dc={enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Zt(),g=yi(c);g.payload=r,a!=null&&(g.callback=a),r=vi(n,g,c),r!==null&&(jt(r,n,c),ho(r,n,c))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Zt(),g=yi(c);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=vi(n,g,c),r!==null&&(jt(r,n,c),ho(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Zt(),c=yi(a);c.tag=2,r!=null&&(c.callback=r),r=vi(n,c,a),r!==null&&(jt(r,n,a),ho(r,n,a))}};function Om(n,r,a,c,g,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,S):r.prototype&&r.prototype.isPureReactComponent?!ro(a,c)||!ro(g,y):!0}function Lm(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&Dc.enqueueReplaceState(r,r.state,null)}function ar(n,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(n=n.defaultProps){a===r&&(a=x({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}function qm(n){Ia(n)}function Bm(n){console.error(n)}function zm(n){Ia(n)}function Za(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Vm(n,r,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function kc(n,r,a){return a=yi(a),a.tag=3,a.payload={element:null},a.callback=function(){Za(n,r)},a}function Hm(n){return n=yi(n),n.tag=3,n}function Gm(n,r,a,c){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;n.payload=function(){return g(y)},n.callback=function(){Vm(r,a,c)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){Vm(r,a,c),typeof g!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function Zx(n,r,a,c,g){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&jr(r,a,g,!0),a=Kt.current,a!==null){switch(a.tag){case 31:case 13:return fn===null?dl():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=g,c===za?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),rd(n,c,g)),!1;case 22:return a.flags|=65536,c===za?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),rd(n,c,g)),!1}throw Error(s(435,a.tag))}return rd(n,c,g),dl(),!1}if(Ve)return r=Kt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,c!==Wu&&(n=Error(s(422),{cause:c}),ao(ln(n,a)))):(c!==Wu&&(r=Error(s(423),{cause:c}),ao(ln(r,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,c=ln(c,a),g=kc(n.stateNode,c,g),uc(n,g),ft!==4&&(ft=2)),!1;var y=Error(s(520),{cause:c});if(y=ln(y,a),Ao===null?Ao=[y]:Ao.push(y),ft!==4&&(ft=2),r===null)return!0;c=ln(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=kc(a.stateNode,c,n),uc(a,n),!1;case 1:if(r=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wi===null||!wi.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Hm(g),Gm(g,n,a,c),uc(a,g),!1}a=a.return}while(a!==null);return!1}var Uc=Error(s(461)),vt=!1;function Nt(n,r,a,c){r.child=n===null?Jh(r,null,a,c):sr(r,n.child,a,c)}function jm(n,r,a,c,g){a=a.render;var y=r.ref;if("ref"in c){var S={};for(var w in c)w!=="ref"&&(S[w]=c[w])}else S=c;return tr(r),c=pc(n,r,a,S,y,g),w=gc(),n!==null&&!vt?(yc(n,r,g),jn(n,r,g)):(Ve&&w&&Qu(r),r.flags|=1,Nt(n,r,c,g),r.child)}function $m(n,r,a,c,g){if(n===null){var y=a.type;return typeof y=="function"&&!Ju(y)&&y.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=y,Fm(n,r,y,c,g)):(n=Ua(a.type,null,c,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!Hc(n,g)){var S=y.memoizedProps;if(a=a.compare,a=a!==null?a:ro,a(S,c)&&n.ref===r.ref)return jn(n,r,g)}return r.flags|=1,n=qn(y,c),n.ref=r.ref,n.return=r,r.child=n}function Fm(n,r,a,c,g){if(n!==null){var y=n.memoizedProps;if(ro(y,c)&&n.ref===r.ref)if(vt=!1,r.pendingProps=c=y,Hc(n,g))(n.flags&131072)!==0&&(vt=!0);else return r.lanes=n.lanes,jn(n,r,g)}return Pc(n,r,a,c,g)}function Jm(n,r,a,c){var g=c.children,y=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(c=r.child=n.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~y}else c=0,r.child=null;return Ym(n,r,y,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&qa(r,y!==null?y.cachePool:null),y!==null?Qh(r,y):dc(),Xh(r);else return c=r.lanes=536870912,Ym(n,r,y!==null?y.baseLanes|a:a,a,c)}else y!==null?(qa(r,y.cachePool),Qh(r,y),xi(),r.memoizedState=null):(n!==null&&qa(r,null),dc(),xi());return Nt(n,r,g,a),r.child}function xo(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ym(n,r,a,c,g){var y=sc();return y=y===null?null:{parent:gt._currentValue,pool:y},r.memoizedState={baseLanes:a,cachePool:y},n!==null&&qa(r,null),dc(),Xh(r),n!==null&&jr(n,r,c,!0),r.childLanes=g,null}function el(n,r){return r=nl({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Km(n,r,a){return sr(r,n.child,null,a),n=el(r,r.pendingProps),n.flags|=2,Qt(r),r.memoizedState=null,n}function eb(n,r,a){var c=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ve){if(c.mode==="hidden")return n=el(r,c),r.lanes=536870912,xo(null,n);if(hc(r),(n=it)?(n=ag(n,dn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:fi!==null?{id:In,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},a=Dh(n),a.return=r,r.child=a,Ct=r,it=null)):n=null,n===null)throw mi(r);return r.lanes=536870912,null}return el(r,c)}var y=n.memoizedState;if(y!==null){var S=y.dehydrated;if(hc(r),g)if(r.flags&256)r.flags&=-257,r=Km(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(vt||jr(n,r,a,!1),g=(a&n.childLanes)!==0,vt||g){if(c=tt,c!==null&&(S=va(c,a),S!==0&&S!==y.retryLane))throw y.retryLane=S,Xi(n,S),jt(c,n,S),Uc;dl(),r=Km(n,r,a)}else n=y.treeContext,it=hn(S.nextSibling),Ct=r,Ve=!0,hi=null,dn=!1,n!==null&&Ph(r,n),r=el(r,c),r.flags|=4096;return r}return n=qn(n.child,{mode:c.mode,children:c.children}),n.ref=r.ref,r.child=n,n.return=r,n}function tl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Pc(n,r,a,c,g){return tr(r),a=pc(n,r,a,c,void 0,g),c=gc(),n!==null&&!vt?(yc(n,r,g),jn(n,r,g)):(Ve&&c&&Qu(r),r.flags|=1,Nt(n,r,a,g),r.child)}function Qm(n,r,a,c,g,y){return tr(r),r.updateQueue=null,a=Zh(r,c,a,g),Wh(n),c=gc(),n!==null&&!vt?(yc(n,r,y),jn(n,r,y)):(Ve&&c&&Qu(r),r.flags|=1,Nt(n,r,a,y),r.child)}function Xm(n,r,a,c,g){if(tr(r),r.stateNode===null){var y=zr,S=a.contextType;typeof S=="object"&&S!==null&&(y=At(S)),y=new a(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Dc,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},ac(r),S=a.contextType,y.context=typeof S=="object"&&S!==null?At(S):zr,y.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Mc(r,a,S,c),y.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Dc.enqueueReplaceState(y,y.state,null),po(r,c,y,g),mo(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){y=r.stateNode;var w=r.memoizedProps,D=ar(a,w);y.props=D;var J=y.context,Z=a.contextType;S=zr,typeof Z=="object"&&Z!==null&&(S=At(Z));var re=a.getDerivedStateFromProps;Z=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||J!==S)&&Lm(r,y,c,S),gi=!1;var Y=r.memoizedState;y.state=Y,po(r,c,y,g),mo(),J=r.memoizedState,w||Y!==J||gi?(typeof re=="function"&&(Mc(r,a,re,c),J=r.memoizedState),(D=gi||Om(r,a,D,c,Y,J,S))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=J),y.props=c,y.state=J,y.context=S,c=D):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,lc(n,r),S=r.memoizedProps,Z=ar(a,S),y.props=Z,re=r.pendingProps,Y=y.context,J=a.contextType,D=zr,typeof J=="object"&&J!==null&&(D=At(J)),w=a.getDerivedStateFromProps,(J=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==re||Y!==D)&&Lm(r,y,c,D),gi=!1,Y=r.memoizedState,y.state=Y,po(r,c,y,g),mo();var W=r.memoizedState;S!==re||Y!==W||gi||n!==null&&n.dependencies!==null&&Oa(n.dependencies)?(typeof w=="function"&&(Mc(r,a,w,c),W=r.memoizedState),(Z=gi||Om(r,a,Z,c,Y,W,D)||n!==null&&n.dependencies!==null&&Oa(n.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,D)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),y.props=c,y.state=W,y.context=D,c=Z):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),c=!1)}return y=c,tl(n,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&c?(r.child=sr(r,n.child,null,g),r.child=sr(r,null,a,g)):Nt(n,r,a,g),r.memoizedState=y.state,n=r.child):n=jn(n,r,g),n}function Wm(n,r,a,c){return Zi(),r.flags|=256,Nt(n,r,a,c),r.child}var Oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lc(n){return{baseLanes:n,cachePool:Vh()}}function qc(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Wt),n}function Zm(n,r,a){var c=r.pendingProps,g=!1,y=(r.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(mt.current&2)!==0),S&&(g=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ve){if(g?_i(r):xi(),(n=it)?(n=ag(n,dn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:fi!==null?{id:In,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},a=Dh(n),a.return=r,r.child=a,Ct=r,it=null)):n=null,n===null)throw mi(r);return xd(n)?r.lanes=32:r.lanes=536870912,null}var w=c.children;return c=c.fallback,g?(xi(),g=r.mode,w=nl({mode:"hidden",children:w},g),c=Wi(c,g,a,null),w.return=r,c.return=r,w.sibling=c,r.child=w,c=r.child,c.memoizedState=Lc(a),c.childLanes=qc(n,S,a),r.memoizedState=Oc,xo(null,c)):(_i(r),Bc(r,w))}var D=n.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(y)r.flags&256?(_i(r),r.flags&=-257,r=zc(n,r,a)):r.memoizedState!==null?(xi(),r.child=n.child,r.flags|=128,r=null):(xi(),w=c.fallback,g=r.mode,c=nl({mode:"visible",children:c.children},g),w=Wi(w,g,a,null),w.flags|=2,c.return=r,w.return=r,c.sibling=w,r.child=c,sr(r,n.child,null,a),c=r.child,c.memoizedState=Lc(a),c.childLanes=qc(n,S,a),r.memoizedState=Oc,r=xo(null,c));else if(_i(r),xd(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var J=S.dgst;S=J,c=Error(s(419)),c.stack="",c.digest=S,ao({value:c,source:null,stack:null}),r=zc(n,r,a)}else if(vt||jr(n,r,a,!1),S=(a&n.childLanes)!==0,vt||S){if(S=tt,S!==null&&(c=va(S,a),c!==0&&c!==D.retryLane))throw D.retryLane=c,Xi(n,c),jt(S,n,c),Uc;_d(w)||dl(),r=zc(n,r,a)}else _d(w)?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,it=hn(w.nextSibling),Ct=r,Ve=!0,hi=null,dn=!1,n!==null&&Ph(r,n),r=Bc(r,c.children),r.flags|=4096);return r}return g?(xi(),w=c.fallback,g=r.mode,D=n.child,J=D.sibling,c=qn(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,J!==null?w=qn(J,w):(w=Wi(w,g,a,null),w.flags|=2),w.return=r,c.return=r,c.sibling=w,r.child=c,xo(null,c),c=r.child,w=n.child.memoizedState,w===null?w=Lc(a):(g=w.cachePool,g!==null?(D=gt._currentValue,g=g.parent!==D?{parent:D,pool:D}:g):g=Vh(),w={baseLanes:w.baseLanes|a,cachePool:g}),c.memoizedState=w,c.childLanes=qc(n,S,a),r.memoizedState=Oc,xo(n.child,c)):(_i(r),a=n.child,n=a.sibling,a=qn(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,n!==null&&(S=r.deletions,S===null?(r.deletions=[n],r.flags|=16):S.push(n)),r.child=a,r.memoizedState=null,a)}function Bc(n,r){return r=nl({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function nl(n,r){return n=Yt(22,n,null,r),n.lanes=0,n}function zc(n,r,a){return sr(r,n.child,null,a),n=Bc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function ep(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),tc(n.return,r,a)}function Vc(n,r,a,c,g,y){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:g,treeForkCount:y}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=a,S.tailMode=g,S.treeForkCount=y)}function tp(n,r,a){var c=r.pendingProps,g=c.revealOrder,y=c.tail;c=c.children;var S=mt.current,w=(S&2)!==0;if(w?(S=S&1|2,r.flags|=128):S&=1,pe(mt,S),Nt(n,r,c,a),c=Ve?oo:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ep(n,a,r);else if(n.tag===19)ep(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(a=r.child,g=null;a!==null;)n=a.alternate,n!==null&&ja(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),Vc(r,!1,g,a,y,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&ja(n)===null){r.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}Vc(r,!0,a,null,y,c);break;case"together":Vc(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function jn(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ei|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(jr(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=qn(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=qn(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Hc(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Oa(n)))}function tb(n,r,a){switch(r.tag){case 3:Me(r,r.stateNode.containerInfo),pi(r,gt,n.memoizedState.cache),Zi();break;case 27:case 5:$t(r);break;case 4:Me(r,r.stateNode.containerInfo);break;case 10:pi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hc(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(_i(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Zm(n,r,a):(_i(r),n=jn(n,r,a),n!==null?n.sibling:null);_i(r);break;case 19:var g=(n.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(jr(n,r,a,!1),c=(a&r.childLanes)!==0),g){if(c)return tp(n,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),pe(mt,mt.current),c)break;return null;case 22:return r.lanes=0,Jm(n,r,a,r.pendingProps);case 24:pi(r,gt,n.memoizedState.cache)}return jn(n,r,a)}function np(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)vt=!0;else{if(!Hc(n,a)&&(r.flags&128)===0)return vt=!1,tb(n,r,a);vt=(n.flags&131072)!==0}else vt=!1,Ve&&(r.flags&1048576)!==0&&Uh(r,oo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(n=ir(r.elementType),r.type=n,typeof n=="function")Ju(n)?(c=ar(n,c),r.tag=1,r=Xm(null,r,n,c,a)):(r.tag=0,r=Pc(null,r,n,c,a));else{if(n!=null){var g=n.$$typeof;if(g===j){r.tag=11,r=jm(null,r,n,c,a);break e}else if(g===Q){r.tag=14,r=$m(null,r,n,c,a);break e}}throw r=ot(n)||n,Error(s(306,r,""))}}return r;case 0:return Pc(n,r,r.type,r.pendingProps,a);case 1:return c=r.type,g=ar(c,r.pendingProps),Xm(n,r,c,g,a);case 3:e:{if(Me(r,r.stateNode.containerInfo),n===null)throw Error(s(387));c=r.pendingProps;var y=r.memoizedState;g=y.element,lc(n,r),po(r,c,null,a);var S=r.memoizedState;if(c=S.cache,pi(r,gt,c),c!==y.cache&&nc(r,[gt],a,!0),mo(),c=S.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Wm(n,r,c,a);break e}else if(c!==g){g=ln(Error(s(424)),r),ao(g),r=Wm(n,r,c,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(it=hn(n.firstChild),Ct=r,Ve=!0,hi=null,dn=!0,a=Jh(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zi(),c===g){r=jn(n,r,a);break e}Nt(n,r,c,a)}r=r.child}return r;case 26:return tl(n,r),n===null?(a=hg(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ve||(a=r.type,n=r.pendingProps,c=vl(me.current).createElement(a),c[bt]=r,c[Dt]=n,Rt(c,a,n),ht(c),r.stateNode=c):r.memoizedState=hg(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return $t(r),n===null&&Ve&&(c=r.stateNode=cg(r.type,r.pendingProps,me.current),Ct=r,dn=!0,g=it,Ni(r.type)?(bd=g,it=hn(c.firstChild)):it=g),Nt(n,r,r.pendingProps.children,a),tl(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ve&&((g=c=it)&&(c=Mb(c,r.type,r.pendingProps,dn),c!==null?(r.stateNode=c,Ct=r,it=hn(c.firstChild),dn=!1,g=!0):g=!1),g||mi(r)),$t(r),g=r.type,y=r.pendingProps,S=n!==null?n.memoizedProps:null,c=y.children,gd(g,y)?c=null:S!==null&&gd(g,S)&&(r.flags|=32),r.memoizedState!==null&&(g=pc(n,r,Fx,null,null,a),Po._currentValue=g),tl(n,r),Nt(n,r,c,a),r.child;case 6:return n===null&&Ve&&((n=a=it)&&(a=Db(a,r.pendingProps,dn),a!==null?(r.stateNode=a,Ct=r,it=null,n=!0):n=!1),n||mi(r)),null;case 13:return Zm(n,r,a);case 4:return Me(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=sr(r,null,c,a):Nt(n,r,c,a),r.child;case 11:return jm(n,r,r.type,r.pendingProps,a);case 7:return Nt(n,r,r.pendingProps,a),r.child;case 8:return Nt(n,r,r.pendingProps.children,a),r.child;case 12:return Nt(n,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,pi(r,r.type,c.value),Nt(n,r,c.children,a),r.child;case 9:return g=r.type._context,c=r.pendingProps.children,tr(r),g=At(g),c=c(g),r.flags|=1,Nt(n,r,c,a),r.child;case 14:return $m(n,r,r.type,r.pendingProps,a);case 15:return Fm(n,r,r.type,r.pendingProps,a);case 19:return tp(n,r,a);case 31:return eb(n,r,a);case 22:return Jm(n,r,a,r.pendingProps);case 24:return tr(r),c=At(gt),n===null?(g=sc(),g===null&&(g=tt,y=ic(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),r.memoizedState={parent:c,cache:g},ac(r),pi(r,gt,g)):((n.lanes&a)!==0&&(lc(n,r),po(r,null,null,a),mo()),g=n.memoizedState,y=r.memoizedState,g.parent!==c?(g={parent:c,cache:c},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),pi(r,gt,c)):(c=y.cache,pi(r,gt,c),c!==g.cache&&nc(r,[gt],a,!0))),Nt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function $n(n){n.flags|=4}function Gc(n,r,a,c,g){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Rp())n.flags|=8192;else throw rr=za,oc}else n.flags&=-16777217}function ip(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!vg(r))if(Rp())n.flags|=8192;else throw rr=za,oc}function il(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?pa():536870912,n.lanes|=r,ns|=r)}function bo(n,r){if(!Ve)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function rt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function nb(n,r,a){var c=r.pendingProps;switch(Xu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Vn(gt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Gr(r)?$n(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zu())),rt(r),null;case 26:var g=r.type,y=r.memoizedState;return n===null?($n(r),y!==null?(rt(r),ip(r,y)):(rt(r),Gc(r,g,null,c,a))):y?y!==n.memoizedState?($n(r),rt(r),ip(r,y)):(rt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==c&&$n(r),rt(r),Gc(r,g,n,c,a)),null;case 27:if(wr(r),a=me.current,g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&$n(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return rt(r),null}n=K.current,Gr(r)?Oh(r):(n=cg(g,c,a),r.stateNode=n,$n(r))}return rt(r),null;case 5:if(wr(r),g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&$n(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(y=K.current,Gr(r))Oh(r);else{var S=vl(me.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?S.createElement(g,{is:c.is}):S.createElement(g)}}y[bt]=r,y[Dt]=c;e:for(S=r.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===r)break e;for(;S.sibling===null;){if(S.return===null||S.return===r)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}r.stateNode=y;e:switch(Rt(y,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&$n(r)}}return rt(r),Gc(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&$n(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(n=me.current,Gr(r)){if(n=r.stateNode,a=r.memoizedProps,c=null,g=Ct,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}n[bt]=r,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Zp(n.nodeValue,a)),n||mi(r,!0)}else n=vl(n).createTextNode(c),n[bt]=r,r.stateNode=n}return rt(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(c=Gr(r),a!==null){if(n===null){if(!c)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[bt]=r}else Zi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),n=!1}else a=Zu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Qt(r),r):(Qt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Gr(r),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[bt]=r}else Zi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),g=!1}else g=Zu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Qt(r),r):(Qt(r),null)}return Qt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=r.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),il(r,r.updateQueue),rt(r),null);case 4:return Ye(),n===null&&dd(r.stateNode.containerInfo),rt(r),null;case 10:return Vn(r.type),rt(r),null;case 19:if(ee(mt),c=r.memoizedState,c===null)return rt(r),null;if(g=(r.flags&128)!==0,y=c.rendering,y===null)if(g)bo(c,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=ja(n),y!==null){for(r.flags|=128,bo(c,!1),n=y.updateQueue,r.updateQueue=n,il(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Mh(a,n),a=a.sibling;return pe(mt,mt.current&1|2),Ve&&Bn(r,c.treeForkCount),r.child}n=n.sibling}c.tail!==null&&Mt()>ll&&(r.flags|=128,g=!0,bo(c,!1),r.lanes=4194304)}else{if(!g)if(n=ja(y),n!==null){if(r.flags|=128,g=!0,n=n.updateQueue,r.updateQueue=n,il(r,n),bo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ve)return rt(r),null}else 2*Mt()-c.renderingStartTime>ll&&a!==536870912&&(r.flags|=128,g=!0,bo(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(n=c.last,n!==null?n.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Mt(),n.sibling=null,a=mt.current,pe(mt,g?a&1|2:a&1),Ve&&Bn(r,c.treeForkCount),n):(rt(r),null);case 22:case 23:return Qt(r),fc(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&il(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),n!==null&&ee(nr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Vn(gt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ib(n,r){switch(Xu(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Vn(gt),Ye(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wr(r),null;case 31:if(r.memoizedState!==null){if(Qt(r),r.alternate===null)throw Error(s(340));Zi()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Qt(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zi()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ee(mt),null;case 4:return Ye(),null;case 10:return Vn(r.type),null;case 22:case 23:return Qt(r),fc(),n!==null&&ee(nr),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Vn(gt),null;case 25:return null;default:return null}}function rp(n,r){switch(Xu(r),r.tag){case 3:Vn(gt),Ye();break;case 26:case 27:case 5:wr(r);break;case 4:Ye();break;case 31:r.memoizedState!==null&&Qt(r);break;case 13:Qt(r);break;case 19:ee(mt);break;case 10:Vn(r.type);break;case 22:case 23:Qt(r),fc(),n!==null&&ee(nr);break;case 24:Vn(gt)}}function So(n,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var g=c.next;a=g;do{if((a.tag&n)===n){c=void 0;var y=a.create,S=a.inst;c=y(),S.destroy=c}a=a.next}while(a!==g)}}catch(w){Qe(r,r.return,w)}}function bi(n,r,a){try{var c=r.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&n)===n){var S=c.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,g=r;var D=a,J=w;try{J()}catch(Z){Qe(g,D,Z)}}}c=c.next}while(c!==y)}}catch(Z){Qe(r,r.return,Z)}}function sp(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Kh(r,a)}catch(c){Qe(n,n.return,c)}}}function op(n,r,a){a.props=ar(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Qe(n,r,c)}}function Eo(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(g){Qe(n,r,g)}}function Dn(n,r){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(g){Qe(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Qe(n,r,g)}else a.current=null}function ap(n){var r=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(g){Qe(n,n.return,g)}}function jc(n,r,a){try{var c=n.stateNode;Tb(c,n.type,a,r),c[Dt]=r}catch(g){Qe(n,n.return,g)}}function lp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ni(n.type)||n.tag===4}function $c(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ni(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fc(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=yn));else if(c!==4&&(c===27&&Ni(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Fc(n,r,a),n=n.sibling;n!==null;)Fc(n,r,a),n=n.sibling}function rl(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(c===27&&Ni(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(rl(n,r,a),n=n.sibling;n!==null;)rl(n,r,a),n=n.sibling}function up(n){var r=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Rt(r,c,a),r[bt]=n,r[Dt]=a}catch(y){Qe(n,n.return,y)}}var Fn=!1,_t=!1,Jc=!1,cp=typeof WeakSet=="function"?WeakSet:Set,wt=null;function rb(n,r){if(n=n.containerInfo,md=Tl,n=Sh(n),zu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var S=0,w=-1,D=-1,J=0,Z=0,re=n,Y=null;t:for(;;){for(var W;re!==a||g!==0&&re.nodeType!==3||(w=S+g),re!==y||c!==0&&re.nodeType!==3||(D=S+c),re.nodeType===3&&(S+=re.nodeValue.length),(W=re.firstChild)!==null;)Y=re,re=W;for(;;){if(re===n)break t;if(Y===a&&++J===g&&(w=S),Y===y&&++Z===c&&(D=S),(W=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=W}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:n,selectionRange:a},Tl=!1,wt=r;wt!==null;)if(r=wt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,wt=n;else for(;wt!==null;){switch(r=wt,y=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)g=n[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=r,g=y.memoizedProps,y=y.memoizedState,c=a.stateNode;try{var ye=ar(a.type,g);n=c.getSnapshotBeforeUpdate(ye,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){Qe(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)vd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,wt=n;break}wt=r.return}}function dp(n,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Yn(n,a),c&4&&So(5,a);break;case 1:if(Yn(n,a),c&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){Qe(a,a.return,S)}else{var g=ar(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Qe(a,a.return,S)}}c&64&&sp(a),c&512&&Eo(a,a.return);break;case 3:if(Yn(n,a),c&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Kh(n,r)}catch(S){Qe(a,a.return,S)}}break;case 27:r===null&&c&4&&up(a);case 26:case 5:Yn(n,a),r===null&&c&4&&ap(a),c&512&&Eo(a,a.return);break;case 12:Yn(n,a);break;case 31:Yn(n,a),c&4&&mp(n,a);break;case 13:Yn(n,a),c&4&&pp(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=hb.bind(null,a),kb(n,a))));break;case 22:if(c=a.memoizedState!==null||Fn,!c){r=r!==null&&r.memoizedState!==null||_t,g=Fn;var y=_t;Fn=c,(_t=r)&&!y?Kn(n,a,(a.subtreeFlags&8772)!==0):Yn(n,a),Fn=g,_t=y}break;case 30:break;default:Yn(n,a)}}function fp(n){var r=n.alternate;r!==null&&(n.alternate=null,fp(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ys(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,zt=!1;function Jn(n,r,a){for(a=a.child;a!==null;)hp(n,r,a),a=a.sibling}function hp(n,r,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(si,a)}catch{}switch(a.tag){case 26:_t||Dn(a,r),Jn(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||Dn(a,r);var c=at,g=zt;Ni(a.type)&&(at=a.stateNode,zt=!1),Jn(n,r,a),Do(a.stateNode),at=c,zt=g;break;case 5:_t||Dn(a,r);case 6:if(c=at,g=zt,at=null,Jn(n,r,a),at=c,zt=g,at!==null)if(zt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(y){Qe(a,r,y)}else try{at.removeChild(a.stateNode)}catch(y){Qe(a,r,y)}break;case 18:at!==null&&(zt?(n=at,sg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),cs(n)):sg(at,a.stateNode));break;case 4:c=at,g=zt,at=a.stateNode.containerInfo,zt=!0,Jn(n,r,a),at=c,zt=g;break;case 0:case 11:case 14:case 15:bi(2,a,r),_t||bi(4,a,r),Jn(n,r,a);break;case 1:_t||(Dn(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&op(a,r,c)),Jn(n,r,a);break;case 21:Jn(n,r,a);break;case 22:_t=(c=_t)||a.memoizedState!==null,Jn(n,r,a),_t=c;break;default:Jn(n,r,a)}}function mp(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{cs(n)}catch(a){Qe(r,r.return,a)}}}function pp(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cs(n)}catch(a){Qe(r,r.return,a)}}function sb(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new cp),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new cp),r;default:throw Error(s(435,n.tag))}}function sl(n,r){var a=sb(n);r.forEach(function(c){if(!a.has(c)){a.add(c);var g=mb.bind(null,n,c);c.then(g,g)}})}function Vt(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var g=a[c],y=n,S=r,w=S;e:for(;w!==null;){switch(w.tag){case 27:if(Ni(w.type)){at=w.stateNode,zt=!1;break e}break;case 5:at=w.stateNode,zt=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,zt=!0;break e}w=w.return}if(at===null)throw Error(s(160));hp(y,S,g),at=null,zt=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)gp(r,n),r=r.sibling}var _n=null;function gp(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Vt(r,n),Ht(n),c&4&&(bi(3,n,n.return),So(3,n),bi(5,n,n.return));break;case 1:Vt(r,n),Ht(n),c&512&&(_t||a===null||Dn(a,a.return)),c&64&&Fn&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var g=_n;if(Vt(r,n),Ht(n),c&512&&(_t||a===null||Dn(a,a.return)),c&4){var y=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ji]||y[bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),Rt(y,c,a),y[bt]=n,ht(y),c=y;break e;case"link":var S=gg("link","href",g).get(c+(a.href||""));if(S){for(var w=0;w<S.length;w++)if(y=S[w],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(w,1);break t}}y=g.createElement(c),Rt(y,c,a),g.head.appendChild(y);break;case"meta":if(S=gg("meta","content",g).get(c+(a.content||""))){for(w=0;w<S.length;w++)if(y=S[w],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(w,1);break t}}y=g.createElement(c),Rt(y,c,a),g.head.appendChild(y);break;default:throw Error(s(468,c))}y[bt]=n,ht(y),c=y}n.stateNode=c}else yg(g,n.type,n.stateNode);else n.stateNode=pg(g,c,n.memoizedProps);else y!==c?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,c===null?yg(g,n.type,n.stateNode):pg(g,c,n.memoizedProps)):c===null&&n.stateNode!==null&&jc(n,n.memoizedProps,a.memoizedProps)}break;case 27:Vt(r,n),Ht(n),c&512&&(_t||a===null||Dn(a,a.return)),a!==null&&c&4&&jc(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Vt(r,n),Ht(n),c&512&&(_t||a===null||Dn(a,a.return)),n.flags&32){g=n.stateNode;try{Xe(g,"")}catch(ye){Qe(n,n.return,ye)}}c&4&&n.stateNode!=null&&(g=n.memoizedProps,jc(n,g,a!==null?a.memoizedProps:g)),c&1024&&(Jc=!0);break;case 6:if(Vt(r,n),Ht(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(ye){Qe(n,n.return,ye)}}break;case 3:if(bl=null,g=_n,_n=_l(r.containerInfo),Vt(r,n),_n=g,Ht(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{cs(r.containerInfo)}catch(ye){Qe(n,n.return,ye)}Jc&&(Jc=!1,yp(n));break;case 4:c=_n,_n=_l(n.stateNode.containerInfo),Vt(r,n),Ht(n),_n=c;break;case 12:Vt(r,n),Ht(n);break;case 31:Vt(r,n),Ht(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,sl(n,c)));break;case 13:Vt(r,n),Ht(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(al=Mt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,sl(n,c)));break;case 22:g=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,J=Fn,Z=_t;if(Fn=J||g,_t=Z||D,Vt(r,n),_t=Z,Fn=J,Ht(n),c&8192)e:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(a===null||D||Fn||_t||lr(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(y=D.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=D.stateNode;var re=D.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){Qe(D,D.return,ye)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(ye){Qe(D,D.return,ye)}}}else if(r.tag===18){if(a===null){D=r;try{var W=D.stateNode;g?og(W,!0):og(D.stateNode,!1)}catch(ye){Qe(D,D.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,sl(n,a))));break;case 19:Vt(r,n),Ht(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,sl(n,c)));break;case 30:break;case 21:break;default:Vt(r,n),Ht(n)}}function Ht(n){var r=n.flags;if(r&2){try{for(var a,c=n.return;c!==null;){if(lp(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,y=$c(n);rl(n,y,g);break;case 5:var S=a.stateNode;a.flags&32&&(Xe(S,""),a.flags&=-33);var w=$c(n);rl(n,w,S);break;case 3:case 4:var D=a.stateNode.containerInfo,J=$c(n);Fc(n,J,D);break;default:throw Error(s(161))}}catch(Z){Qe(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function yp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;yp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Yn(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)dp(n,r.alternate,r),r=r.sibling}function lr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:bi(4,r,r.return),lr(r);break;case 1:Dn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&op(r,r.return,a),lr(r);break;case 27:Do(r.stateNode);case 26:case 5:Dn(r,r.return),lr(r);break;case 22:r.memoizedState===null&&lr(r);break;case 30:lr(r);break;default:lr(r)}n=n.sibling}}function Kn(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,g=n,y=r,S=y.flags;switch(y.tag){case 0:case 11:case 15:Kn(g,y,a),So(4,y);break;case 1:if(Kn(g,y,a),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){Qe(c,c.return,J)}if(c=y,g=c.updateQueue,g!==null){var w=c.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)Yh(D[g],w)}catch(J){Qe(c,c.return,J)}}a&&S&64&&sp(y),Eo(y,y.return);break;case 27:up(y);case 26:case 5:Kn(g,y,a),a&&c===null&&S&4&&ap(y),Eo(y,y.return);break;case 12:Kn(g,y,a);break;case 31:Kn(g,y,a),a&&S&4&&mp(g,y);break;case 13:Kn(g,y,a),a&&S&4&&pp(g,y);break;case 22:y.memoizedState===null&&Kn(g,y,a),Eo(y,y.return);break;case 30:break;default:Kn(g,y,a)}r=r.sibling}}function Yc(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&lo(a))}function Kc(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&lo(n))}function xn(n,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vp(n,r,a,c),r=r.sibling}function vp(n,r,a,c){var g=r.flags;switch(r.tag){case 0:case 11:case 15:xn(n,r,a,c),g&2048&&So(9,r);break;case 1:xn(n,r,a,c);break;case 3:xn(n,r,a,c),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&lo(n)));break;case 12:if(g&2048){xn(n,r,a,c),n=r.stateNode;try{var y=r.memoizedProps,S=y.id,w=y.onPostCommit;typeof w=="function"&&w(S,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Qe(r,r.return,D)}}else xn(n,r,a,c);break;case 31:xn(n,r,a,c);break;case 13:xn(n,r,a,c);break;case 23:break;case 22:y=r.stateNode,S=r.alternate,r.memoizedState!==null?y._visibility&2?xn(n,r,a,c):wo(n,r):y._visibility&2?xn(n,r,a,c):(y._visibility|=2,Zr(n,r,a,c,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Yc(S,r);break;case 24:xn(n,r,a,c),g&2048&&Kc(r.alternate,r);break;default:xn(n,r,a,c)}}function Zr(n,r,a,c,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=n,S=r,w=a,D=c,J=S.flags;switch(S.tag){case 0:case 11:case 15:Zr(y,S,w,D,g),So(8,S);break;case 23:break;case 22:var Z=S.stateNode;S.memoizedState!==null?Z._visibility&2?Zr(y,S,w,D,g):wo(y,S):(Z._visibility|=2,Zr(y,S,w,D,g)),g&&J&2048&&Yc(S.alternate,S);break;case 24:Zr(y,S,w,D,g),g&&J&2048&&Kc(S.alternate,S);break;default:Zr(y,S,w,D,g)}r=r.sibling}}function wo(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,c=r,g=c.flags;switch(c.tag){case 22:wo(a,c),g&2048&&Yc(c.alternate,c);break;case 24:wo(a,c),g&2048&&Kc(c.alternate,c);break;default:wo(a,c)}r=r.sibling}}var To=8192;function es(n,r,a){if(n.subtreeFlags&To)for(n=n.child;n!==null;)_p(n,r,a),n=n.sibling}function _p(n,r,a){switch(n.tag){case 26:es(n,r,a),n.flags&To&&n.memoizedState!==null&&$b(a,_n,n.memoizedState,n.memoizedProps);break;case 5:es(n,r,a);break;case 3:case 4:var c=_n;_n=_l(n.stateNode.containerInfo),es(n,r,a),_n=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=To,To=16777216,es(n,r,a),To=c):es(n,r,a));break;default:es(n,r,a)}}function xp(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Co(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];wt=c,Sp(c,n)}xp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(n),n=n.sibling}function bp(n){switch(n.tag){case 0:case 11:case 15:Co(n),n.flags&2048&&bi(9,n,n.return);break;case 3:Co(n);break;case 12:Co(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ol(n)):Co(n);break;default:Co(n)}}function ol(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];wt=c,Sp(c,n)}xp(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:bi(8,r,r.return),ol(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ol(r));break;default:ol(r)}n=n.sibling}}function Sp(n,r){for(;wt!==null;){var a=wt;switch(a.tag){case 0:case 11:case 15:bi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:lo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,wt=c;else e:for(a=n;wt!==null;){c=wt;var g=c.sibling,y=c.return;if(fp(c),c===a){wt=null;break e}if(g!==null){g.return=y,wt=g;break e}wt=y}}}var ob={getCacheForType:function(n){var r=At(gt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return At(gt).controller.signal}},ab=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,Le=null,Be=0,Ke=0,Xt=null,Si=!1,ts=!1,Qc=!1,Qn=0,ft=0,Ei=0,ur=0,Xc=0,Wt=0,ns=0,Ao=null,Gt=null,Wc=!1,al=0,Ep=0,ll=1/0,ul=null,wi=null,St=0,Ti=null,is=null,Xn=0,Zc=0,ed=null,wp=null,No=0,td=null;function Zt(){return(Fe&2)!==0&&Be!==0?Be&-Be:R.T!==null?ad():_a()}function Tp(){if(Wt===0)if((Be&536870912)===0||Ve){var n=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Wt=n}else Wt=536870912;return n=Kt.current,n!==null&&(n.flags|=32),Wt}function jt(n,r,a){(n===tt&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(rs(n,0),Ci(n,Be,Wt,!1)),Fi(n,a),((Fe&2)===0||n!==tt)&&(n===tt&&((Fe&2)===0&&(ur|=a),ft===4&&Ci(n,Be,Wt,!1)),kn(n))}function Cp(n,r,a){if((Fe&6)!==0)throw Error(s(327));var c=!a&&(r&127)===0&&(r&n.expiredLanes)===0||$i(n,r),g=c?cb(n,r):id(n,r,!0),y=c;do{if(g===0){ts&&!c&&Ci(n,r,0,!1);break}else{if(a=n.current.alternate,y&&!lb(a)){g=id(n,r,!1),y=!1;continue}if(g===2){if(y=r,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var w=n;g=Ao;var D=w.current.memoizedState.isDehydrated;if(D&&(rs(w,S).flags|=256),S=id(w,S,!1),S!==2){if(Qc&&!D){w.errorRecoveryDisabledLanes|=y,ur|=y,g=4;break e}y=Gt,Gt=g,y!==null&&(Gt===null?Gt=y:Gt.push.apply(Gt,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){rs(n,0),Ci(n,r,0,!0);break}e:{switch(c=n,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ci(c,r,Wt,!Si);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=al+300-Mt(),10<g)){if(Ci(c,r,Wt,!Si),Ar(c,0,!0)!==0)break e;Xn=r,c.timeoutHandle=ig(Ap.bind(null,c,a,Gt,ul,Wc,r,Wt,ur,ns,Si,y,"Throttled",-0,0),g);break e}Ap(c,a,Gt,ul,Wc,r,Wt,ur,ns,Si,y,null,-0,0)}}break}while(!0);kn(n)}function Ap(n,r,a,c,g,y,S,w,D,J,Z,re,Y,W){if(n.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},_p(r,y,re);var ye=(y&62914560)===y?al-Mt():(y&4194048)===y?Ep-Mt():0;if(ye=Fb(re,ye),ye!==null){Xn=y,n.cancelPendingCommit=ye(Pp.bind(null,n,r,y,a,c,g,S,w,D,Z,re,null,Y,W)),Ci(n,y,S,!J);return}}Pp(n,r,y,a,c,g,S,w,D)}function lb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var g=a[c],y=g.getSnapshot;g=g.value;try{if(!Jt(y(),g))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ci(n,r,a,c){r&=~Xc,r&=~ur,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var g=r;0<g;){var y=31-Ot(g),S=1<<y;c[y]=-1,g&=~S}a!==0&&ga(n,a,r)}function cl(){return(Fe&6)===0?(Ro(0),!1):!0}function nd(){if(Le!==null){if(Ke===0)var n=Le.return;else n=Le,zn=er=null,vc(n),Yr=null,co=0,n=Le;for(;n!==null;)rp(n.alternate,n),n=n.return;Le=null}}function rs(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Nb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Xn=0,nd(),tt=n,Le=a=qn(n.current,null),Be=r,Ke=0,Xt=null,Si=!1,ts=$i(n,r),Qc=!1,ns=Wt=Xc=ur=Ei=ft=0,Gt=Ao=null,Wc=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var g=31-Ot(c),y=1<<g;r|=n[g],c&=~y}return Qn=r,Ma(),a}function Np(n,r){ke=null,R.H=_o,r===Jr||r===Ba?(r=jh(),Ke=3):r===oc?(r=jh(),Ke=4):Ke=r===Uc?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xt=r,Le===null&&(ft=1,Za(n,ln(r,n.current)))}function Rp(){var n=Kt.current;return n===null?!0:(Be&4194048)===Be?fn===null:(Be&62914560)===Be||(Be&536870912)!==0?n===fn:!1}function Ip(){var n=R.H;return R.H=_o,n===null?_o:n}function Mp(){var n=R.A;return R.A=ob,n}function dl(){ft=4,Si||(Be&4194048)!==Be&&Kt.current!==null||(ts=!0),(Ei&134217727)===0&&(ur&134217727)===0||tt===null||Ci(tt,Be,Wt,!1)}function id(n,r,a){var c=Fe;Fe|=2;var g=Ip(),y=Mp();(tt!==n||Be!==r)&&(ul=null,rs(n,r)),r=!1;var S=ft;e:do try{if(Ke!==0&&Le!==null){var w=Le,D=Xt;switch(Ke){case 8:nd(),S=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(r=!0);var J=Ke;if(Ke=0,Xt=null,ss(n,w,D,J),a&&ts){S=0;break e}break;default:J=Ke,Ke=0,Xt=null,ss(n,w,D,J)}}ub(),S=ft;break}catch(Z){Np(n,Z)}while(!0);return r&&n.shellSuspendCounter++,zn=er=null,Fe=c,R.H=g,R.A=y,Le===null&&(tt=null,Be=0,Ma()),S}function ub(){for(;Le!==null;)Dp(Le)}function cb(n,r){var a=Fe;Fe|=2;var c=Ip(),g=Mp();tt!==n||Be!==r?(ul=null,ll=Mt()+500,rs(n,r)):ts=$i(n,r);e:do try{if(Ke!==0&&Le!==null){r=Le;var y=Xt;t:switch(Ke){case 1:Ke=0,Xt=null,ss(n,r,y,1);break;case 2:case 9:if(Hh(y)){Ke=0,Xt=null,kp(r);break}r=function(){Ke!==2&&Ke!==9||tt!==n||(Ke=7),kn(n)},y.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Hh(y)?(Ke=0,Xt=null,kp(r)):(Ke=0,Xt=null,ss(n,r,y,7));break;case 5:var S=null;switch(Le.tag){case 26:S=Le.memoizedState;case 5:case 27:var w=Le;if(S?vg(S):w.stateNode.complete){Ke=0,Xt=null;var D=w.sibling;if(D!==null)Le=D;else{var J=w.return;J!==null?(Le=J,fl(J)):Le=null}break t}}Ke=0,Xt=null,ss(n,r,y,5);break;case 6:Ke=0,Xt=null,ss(n,r,y,6);break;case 8:nd(),ft=6;break e;default:throw Error(s(462))}}db();break}catch(Z){Np(n,Z)}while(!0);return zn=er=null,R.H=c,R.A=g,Fe=a,Le!==null?0:(tt=null,Be=0,Ma(),ft)}function db(){for(;Le!==null&&!la();)Dp(Le)}function Dp(n){var r=np(n.alternate,n,Qn);n.memoizedProps=n.pendingProps,r===null?fl(n):Le=r}function kp(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Qm(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Qm(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:vc(r);default:rp(a,r),r=Le=Mh(r,Qn),r=np(a,r,Qn)}n.memoizedProps=n.pendingProps,r===null?fl(n):Le=r}function ss(n,r,a,c){zn=er=null,vc(r),Yr=null,co=0;var g=r.return;try{if(Zx(n,g,r,a,Be)){ft=1,Za(n,ln(a,n.current)),Le=null;return}}catch(y){if(g!==null)throw Le=g,y;ft=1,Za(n,ln(a,n.current)),Le=null;return}r.flags&32768?(Ve||c===1?n=!0:ts||(Be&536870912)!==0?n=!1:(Si=n=!0,(c===2||c===9||c===3||c===6)&&(c=Kt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Up(r,n)):fl(r)}function fl(n){var r=n;do{if((r.flags&32768)!==0){Up(r,Si);return}n=r.return;var a=nb(r.alternate,r,Qn);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=n}while(r!==null);ft===0&&(ft=5)}function Up(n,r){do{var a=ib(n.alternate,n);if(a!==null){a.flags&=32767,Le=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Le=n;return}Le=n=a}while(n!==null);ft=6,Le=null}function Pp(n,r,a,c,g,y,S,w,D){n.cancelPendingCommit=null;do hl();while(St!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=$u,wu(n,a,y,S,w,D),n===tt&&(Le=tt=null,Be=0),is=r,Ti=n,Xn=a,Zc=y,ed=g,wp=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pb(ji,function(){return zp(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=R.T,R.T=null,g=$.p,$.p=2,S=Fe,Fe|=4;try{rb(n,r,a)}finally{Fe=S,$.p=g,R.T=c}}St=1,Op(),Lp(),qp()}}function Op(){if(St===1){St=0;var n=Ti,r=is,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var c=$.p;$.p=2;var g=Fe;Fe|=4;try{gp(r,n);var y=pd,S=Sh(n.containerInfo),w=y.focusedElem,D=y.selectionRange;if(S!==w&&w&&w.ownerDocument&&bh(w.ownerDocument.documentElement,w)){if(D!==null&&zu(w)){var J=D.start,Z=D.end;if(Z===void 0&&(Z=J),"selectionStart"in w)w.selectionStart=J,w.selectionEnd=Math.min(Z,w.value.length);else{var re=w.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ye=w.textContent.length,Ae=Math.min(D.start,ye),et=D.end===void 0?Ae:Math.min(D.end,ye);!W.extend&&Ae>et&&(S=et,et=Ae,Ae=S);var H=xh(w,Ae),L=xh(w,et);if(H&&L&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var F=re.createRange();F.setStart(H.node,H.offset),W.removeAllRanges(),Ae>et?(W.addRange(F),W.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),W.addRange(F))}}}}for(re=[],W=w;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ne=re[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Tl=!!md,pd=md=null}finally{Fe=g,$.p=c,R.T=a}}n.current=r,St=2}}function Lp(){if(St===2){St=0;var n=Ti,r=is,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var c=$.p;$.p=2;var g=Fe;Fe|=4;try{dp(n,r.alternate,r)}finally{Fe=g,$.p=c,R.T=a}}St=3}}function qp(){if(St===4||St===3){St=0,ua();var n=Ti,r=is,a=Xn,c=wp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?St=5:(St=0,is=Ti=null,Bp(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(wi=null),Fs(a),r=r.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(si,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=R.T,g=$.p,$.p=2,R.T=null;try{for(var y=n.onRecoverableError,S=0;S<c.length;S++){var w=c[S];y(w.value,{componentStack:w.stack})}}finally{R.T=r,$.p=g}}(Xn&3)!==0&&hl(),kn(n),g=n.pendingLanes,(a&261930)!==0&&(g&42)!==0?n===td?No++:(No=0,td=n):No=0,Ro(0)}}function Bp(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,lo(r)))}function hl(){return Op(),Lp(),qp(),zp()}function zp(){if(St!==5)return!1;var n=Ti,r=Zc;Zc=0;var a=Fs(Xn),c=R.T,g=$.p;try{$.p=32>a?32:a,R.T=null,a=ed,ed=null;var y=Ti,S=Xn;if(St=0,is=Ti=null,Xn=0,(Fe&6)!==0)throw Error(s(331));var w=Fe;if(Fe|=4,bp(y.current),vp(y,y.current,S,a),Fe=w,Ro(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(si,y)}catch{}return!0}finally{$.p=g,R.T=c,Bp(n,r)}}function Vp(n,r,a){r=ln(a,r),r=kc(n.stateNode,r,2),n=vi(n,r,2),n!==null&&(Fi(n,2),kn(n))}function Qe(n,r,a){if(n.tag===3)Vp(n,n,a);else for(;r!==null;){if(r.tag===3){Vp(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wi===null||!wi.has(c))){n=ln(a,n),a=Hm(2),c=vi(r,a,2),c!==null&&(Gm(a,c,r,n),Fi(c,2),kn(c));break}}r=r.return}}function rd(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new ab;var g=new Set;c.set(r,g)}else g=c.get(r),g===void 0&&(g=new Set,c.set(r,g));g.has(a)||(Qc=!0,g.add(a),n=fb.bind(null,n,r,a),r.then(n,n))}function fb(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Be&a)===a&&(ft===4||ft===3&&(Be&62914560)===Be&&300>Mt()-al?(Fe&2)===0&&rs(n,0):Xc|=a,ns===Be&&(ns=0)),kn(n)}function Hp(n,r){r===0&&(r=pa()),n=Xi(n,r),n!==null&&(Fi(n,r),kn(n))}function hb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Hp(n,a)}function mb(n,r){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Hp(n,a)}function pb(n,r){return Hi(n,r)}var ml=null,os=null,sd=!1,pl=!1,od=!1,Ai=0;function kn(n){n!==os&&n.next===null&&(os===null?ml=os=n:os=os.next=n),pl=!0,sd||(sd=!0,yb())}function Ro(n,r){if(!od&&pl){od=!0;do for(var a=!1,c=ml;c!==null;){if(n!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var S=c.suspendedLanes,w=c.pingedLanes;y=(1<<31-Ot(42|n)+1)-1,y&=g&~(S&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Fp(c,y))}else y=Be,y=Ar(c,c===tt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||$i(c,y)||(a=!0,Fp(c,y));c=c.next}while(a);od=!1}}function gb(){Gp()}function Gp(){pl=sd=!1;var n=0;Ai!==0&&Ab()&&(n=Ai);for(var r=Mt(),a=null,c=ml;c!==null;){var g=c.next,y=jp(c,r);y===0?(c.next=null,a===null?ml=g:a.next=g,g===null&&(os=a)):(a=c,(n!==0||(y&3)!==0)&&(pl=!0)),c=g}St!==0&&St!==5||Ro(n),Ai!==0&&(Ai=0)}function jp(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-Ot(y),w=1<<S,D=g[S];D===-1?((w&a)===0||(w&c)!==0)&&(g[S]=Eu(w,r)):D<=r&&(n.expiredLanes|=w),y&=~w}if(r=tt,a=Be,a=Ar(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===r&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Gi(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||$i(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(c!==null&&Gi(c),Fs(a)){case 2:case 8:a=Hs;break;case 32:a=ji;break;case 268435456:a=Gs;break;default:a=ji}return c=$p.bind(null,n),a=Hi(a,c),n.callbackPriority=r,n.callbackNode=a,r}return c!==null&&c!==null&&Gi(c),n.callbackPriority=2,n.callbackNode=null,2}function $p(n,r){if(St!==0&&St!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(hl()&&n.callbackNode!==a)return null;var c=Be;return c=Ar(n,n===tt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Cp(n,c,r),jp(n,Mt()),n.callbackNode!=null&&n.callbackNode===a?$p.bind(null,n):null)}function Fp(n,r){if(hl())return null;Cp(n,r,!0)}function yb(){Rb(function(){(Fe&6)!==0?Hi(Vs,gb):Gp()})}function ad(){if(Ai===0){var n=$r;n===0&&(n=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),Ai=n}return Ai}function Jp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Dr(""+n)}function Yp(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function vb(n,r,a,c,g){if(r==="submit"&&a&&a.stateNode===g){var y=Jp((g[Dt]||null).action),S=c.submitter;S&&(r=(r=S[Dt]||null)?Jp(r.formAction):S.getAttribute("formAction"),r!==null&&(y=r,S=null));var w=new Aa("action","action",null,c,g);n.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ai!==0){var D=S?Yp(g,S):new FormData(g);Ac(a,{pending:!0,data:D,method:g.method,action:y},null,D)}}else typeof y=="function"&&(w.preventDefault(),D=S?Yp(g,S):new FormData(g),Ac(a,{pending:!0,data:D,method:g.method,action:y},y,D))},currentTarget:g}]})}}for(var ld=0;ld<ju.length;ld++){var ud=ju[ld],_b=ud.toLowerCase(),xb=ud[0].toUpperCase()+ud.slice(1);vn(_b,"on"+xb)}vn(Th,"onAnimationEnd"),vn(Ch,"onAnimationIteration"),vn(Ah,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(Ox,"onTransitionRun"),vn(Lx,"onTransitionStart"),vn(qx,"onTransitionCancel"),vn(Nh,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function Kp(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],g=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var S=c.length-1;0<=S;S--){var w=c[S],D=w.instance,J=w.currentTarget;if(w=w.listener,D!==y&&g.isPropagationStopped())break e;y=w,g.currentTarget=J;try{y(g)}catch(Z){Ia(Z)}g.currentTarget=null,y=D}else for(S=0;S<c.length;S++){if(w=c[S],D=w.instance,J=w.currentTarget,w=w.listener,D!==y&&g.isPropagationStopped())break e;y=w,g.currentTarget=J;try{y(g)}catch(Z){Ia(Z)}g.currentTarget=null,y=D}}}}function qe(n,r){var a=r[Js];a===void 0&&(a=r[Js]=new Set);var c=n+"__bubble";a.has(c)||(Qp(r,n,2,!1),a.add(c))}function cd(n,r,a){var c=0;r&&(c|=4),Qp(a,n,c,r)}var gl="_reactListening"+Math.random().toString(36).slice(2);function dd(n){if(!n[gl]){n[gl]=!0,On.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||cd(a,!1,n),cd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[gl]||(r[gl]=!0,cd("selectionchange",!1,r))}}function Qp(n,r,a,c){switch(Tg(r)){case 2:var g=Kb;break;case 8:g=Qb;break;default:g=Cd}a=g.bind(null,r,a,n),g=void 0,!Mu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),c?g!==void 0?n.addEventListener(r,a,{capture:!0,passive:g}):n.addEventListener(r,a,!0):g!==void 0?n.addEventListener(r,a,{passive:g}):n.addEventListener(r,a,!1)}function fd(n,r,a,c,g){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var w=c.stateNode.containerInfo;if(w===g)break;if(S===4)for(S=c.return;S!==null;){var D=S.tag;if((D===3||D===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;w!==null;){if(S=ai(w),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){c=y=S;continue e}w=w.parentNode}}c=c.return}th(function(){var J=y,Z=Ru(a),re=[];e:{var Y=Rh.get(n);if(Y!==void 0){var W=Aa,ye=n;switch(n){case"keypress":if(Ta(a)===0)break e;case"keydown":case"keyup":W=mx;break;case"focusin":ye="focus",W=Pu;break;case"focusout":ye="blur",W=Pu;break;case"beforeblur":case"afterblur":W=Pu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=yx;break;case Th:case Ch:case Ah:W=sx;break;case Nh:W=_x;break;case"scroll":case"scrollend":W=ex;break;case"wheel":W=bx;break;case"copy":case"cut":case"paste":W=ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=oh;break;case"toggle":case"beforetoggle":W=Ex}var Ae=(r&4)!==0,et=!Ae&&(n==="scroll"||n==="scrollend"),H=Ae?Y!==null?Y+"Capture":null:Y;Ae=[];for(var L=J,F;L!==null;){var ne=L;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||H===null||(ne=Xs(L,H),ne!=null&&Ae.push(Mo(L,ne,F))),et)break;L=L.return}0<Ae.length&&(Y=new W(Y,ye,null,a,Z),re.push({event:Y,listeners:Ae}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Y&&a!==kr&&(ye=a.relatedTarget||a.fromElement)&&(ai(ye)||ye[oi]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ye=a.relatedTarget||a.toElement,W=J,ye=ye?ai(ye):null,ye!==null&&(et=l(ye),Ae=ye.tag,ye!==et||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(W=null,ye=J),W!==ye)){if(Ae=rh,ne="onMouseLeave",H="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=oh,ne="onPointerLeave",H="onPointerEnter",L="pointer"),et=W==null?Y:ui(W),F=ye==null?Y:ui(ye),Y=new Ae(ne,L+"leave",W,a,Z),Y.target=et,Y.relatedTarget=F,ne=null,ai(Z)===J&&(Ae=new Ae(H,L+"enter",ye,a,Z),Ae.target=F,Ae.relatedTarget=et,ne=Ae),et=ne,W&&ye)t:{for(Ae=Sb,H=W,L=ye,F=0,ne=H;ne;ne=Ae(ne))F++;ne=0;for(var Te=L;Te;Te=Ae(Te))ne++;for(;0<F-ne;)H=Ae(H),F--;for(;0<ne-F;)L=Ae(L),ne--;for(;F--;){if(H===L||L!==null&&H===L.alternate){Ae=H;break t}H=Ae(H),L=Ae(L)}Ae=null}else Ae=null;W!==null&&Xp(re,Y,W,Ae,!1),ye!==null&&et!==null&&Xp(re,et,ye,Ae,!0)}}e:{if(Y=J?ui(J):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Ge=mh;else if(fh(Y))if(ph)Ge=kx;else{Ge=Mx;var be=Ix}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?J&&Ks(J.elementType)&&(Ge=mh):Ge=Dx;if(Ge&&(Ge=Ge(n,J))){hh(re,Ge,a,Z);break e}be&&be(n,Y,J),n==="focusout"&&J&&Y.type==="number"&&J.memoizedProps.value!=null&&De(Y,"number",Y.value)}switch(be=J?ui(J):window,n){case"focusin":(fh(be)||be.contentEditable==="true")&&(Lr=be,Vu=J,so=null);break;case"focusout":so=Vu=Lr=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,Eh(re,a,Z);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":Eh(re,a,Z)}var Ue;if(Lu)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Or?ch(n,a)&&(ze="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(ah&&a.locale!=="ko"&&(Or||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Or&&(Ue=nh()):(di=Z,Du="value"in di?di.value:di.textContent,Or=!0)),be=yl(J,ze),0<be.length&&(ze=new sh(ze,n,null,a,Z),re.push({event:ze,listeners:be}),Ue?ze.data=Ue:(Ue=dh(a),Ue!==null&&(ze.data=Ue)))),(Ue=Tx?Cx(n,a):Ax(n,a))&&(ze=yl(J,"onBeforeInput"),0<ze.length&&(be=new sh("onBeforeInput","beforeinput",null,a,Z),re.push({event:be,listeners:ze}),be.data=Ue)),vb(re,n,J,a,Z)}Kp(re,r)})}function Mo(n,r,a){return{instance:n,listener:r,currentTarget:a}}function yl(n,r){for(var a=r+"Capture",c=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Xs(n,a),g!=null&&c.unshift(Mo(n,g,y)),g=Xs(n,r),g!=null&&c.push(Mo(n,g,y))),n.tag===3)return c;n=n.return}return[]}function Sb(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xp(n,r,a,c,g){for(var y=r._reactName,S=[];a!==null&&a!==c;){var w=a,D=w.alternate,J=w.stateNode;if(w=w.tag,D!==null&&D===c)break;w!==5&&w!==26&&w!==27||J===null||(D=J,g?(J=Xs(a,y),J!=null&&S.unshift(Mo(a,J,D))):g||(J=Xs(a,y),J!=null&&S.push(Mo(a,J,D)))),a=a.return}S.length!==0&&n.push({event:r,listeners:S})}var Eb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function Wp(n){return(typeof n=="string"?n:""+n).replace(Eb,`
`).replace(wb,"")}function Zp(n,r){return r=Wp(r),Wp(n)===r}function Ze(n,r,a,c,g,y){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Xe(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Xe(n,""+c);break;case"className":C(n,"class",c);break;case"tabIndex":C(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":C(n,a,c);break;case"style":Mr(n,c,y);break;case"data":if(r!=="object"){C(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Dr(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",g.name,g,null),Ze(n,r,"formEncType",g.formEncType,g,null),Ze(n,r,"formMethod",g.formMethod,g,null),Ze(n,r,"formTarget",g.formTarget,g,null)):(Ze(n,r,"encType",g.encType,g,null),Ze(n,r,"method",g.method,g,null),Ze(n,r,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Dr(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=yn);break;case"onScroll":c!=null&&qe("scroll",n);break;case"onScrollEnd":c!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=Dr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":qe("beforetoggle",n),qe("toggle",n),Ir(n,"popover",c);break;case"xlinkActuate":k(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":k(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":k(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":k(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":k(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":k(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":k(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":k(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":k(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ir(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qs.get(a)||a,Ir(n,a,c))}}function hd(n,r,a,c,g,y){switch(a){case"style":Mr(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof c=="string"?Xe(n,c):(typeof c=="number"||typeof c=="bigint")&&Xe(n,""+c);break;case"onScroll":c!=null&&qe("scroll",n);break;case"onScrollEnd":c!=null&&qe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),r=a.slice(2,g?a.length-7:void 0),y=n[Dt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(r,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,c,g);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):Ir(n,a,c)}}}function Rt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var c=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var S=a[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,y,S,a,null)}}g&&Ze(n,r,"srcSet",a.srcSet,a,null),c&&Ze(n,r,"src",a.src,a,null);return;case"input":qe("invalid",n);var w=y=S=g=null,D=null,J=null;for(c in a)if(a.hasOwnProperty(c)){var Z=a[c];if(Z!=null)switch(c){case"name":g=Z;break;case"type":S=Z;break;case"checked":D=Z;break;case"defaultChecked":J=Z;break;case"value":y=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Ze(n,r,c,Z,a,null)}}xe(n,y,w,D,J,S,g,!1);return;case"select":qe("invalid",n),c=S=y=null;for(g in a)if(a.hasOwnProperty(g)&&(w=a[g],w!=null))switch(g){case"value":y=w;break;case"defaultValue":S=w;break;case"multiple":c=w;default:Ze(n,r,g,w,a,null)}r=y,a=S,n.multiple=!!c,r!=null?Oe(n,!!c,r,!1):a!=null&&Oe(n,!!c,a,!0);return;case"textarea":qe("invalid",n),y=g=c=null;for(S in a)if(a.hasOwnProperty(S)&&(w=a[S],w!=null))switch(S){case"value":c=w;break;case"defaultValue":g=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ze(n,r,S,w,a,null)}ut(n,c,g,y);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(c=a[D],c!=null))switch(D){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(n,r,D,c,a,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(c=0;c<Io.length;c++)qe(Io[c],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(c=a[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,J,c,a,null)}return;default:if(Ks(r)){for(Z in a)a.hasOwnProperty(Z)&&(c=a[Z],c!==void 0&&hd(n,r,Z,c,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(c=a[w],c!=null&&Ze(n,r,w,c,a,null))}function Tb(n,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,w=null,D=null,J=null,Z=null;for(W in a){var re=a[W];if(a.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=re;default:c.hasOwnProperty(W)||Ze(n,r,W,null,c,re)}}for(var Y in c){var W=c[Y];if(re=a[Y],c.hasOwnProperty(Y)&&(W!=null||re!=null))switch(Y){case"type":y=W;break;case"name":g=W;break;case"checked":J=W;break;case"defaultChecked":Z=W;break;case"value":S=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==re&&Ze(n,r,Y,W,c,re)}}he(n,S,w,D,J,Z,y,g);return;case"select":W=S=w=Y=null;for(y in a)if(D=a[y],a.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":W=D;default:c.hasOwnProperty(y)||Ze(n,r,y,null,c,D)}for(g in c)if(y=c[g],D=a[g],c.hasOwnProperty(g)&&(y!=null||D!=null))switch(g){case"value":Y=y;break;case"defaultValue":w=y;break;case"multiple":S=y;default:y!==D&&Ze(n,r,g,y,c,D)}r=w,a=S,c=W,Y!=null?Oe(n,!!a,Y,!1):!!c!=!!a&&(r!=null?Oe(n,!!a,r,!0):Oe(n,!!a,a?[]:"",!1));return;case"textarea":W=Y=null;for(w in a)if(g=a[w],a.hasOwnProperty(w)&&g!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(n,r,w,null,c,g)}for(S in c)if(g=c[S],y=a[S],c.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":Y=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&Ze(n,r,S,g,c,y)}He(n,Y,W);return;case"option":for(var ye in a)if(Y=a[ye],a.hasOwnProperty(ye)&&Y!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:Ze(n,r,ye,null,c,Y)}for(D in c)if(Y=c[D],W=a[D],c.hasOwnProperty(D)&&Y!==W&&(Y!=null||W!=null))switch(D){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(n,r,D,Y,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)Y=a[Ae],a.hasOwnProperty(Ae)&&Y!=null&&!c.hasOwnProperty(Ae)&&Ze(n,r,Ae,null,c,Y);for(J in c)if(Y=c[J],W=a[J],c.hasOwnProperty(J)&&Y!==W&&(Y!=null||W!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ze(n,r,J,Y,c,W)}return;default:if(Ks(r)){for(var et in a)Y=a[et],a.hasOwnProperty(et)&&Y!==void 0&&!c.hasOwnProperty(et)&&hd(n,r,et,void 0,c,Y);for(Z in c)Y=c[Z],W=a[Z],!c.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||hd(n,r,Z,Y,c,W);return}}for(var H in a)Y=a[H],a.hasOwnProperty(H)&&Y!=null&&!c.hasOwnProperty(H)&&Ze(n,r,H,null,c,Y);for(re in c)Y=c[re],W=a[re],!c.hasOwnProperty(re)||Y===W||Y==null&&W==null||Ze(n,r,re,Y,c,W)}function eg(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cb(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var g=a[c],y=g.transferSize,S=g.initiatorType,w=g.duration;if(y&&w&&eg(S)){for(S=0,w=g.responseEnd,c+=1;c<a.length;c++){var D=a[c],J=D.startTime;if(J>w)break;var Z=D.transferSize,re=D.initiatorType;Z&&eg(re)&&(D=D.responseEnd,S+=Z*(D<w?1:(w-J)/(D-J)))}if(--c,r+=8*(y+S)/(g.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var md=null,pd=null;function vl(n){return n.nodeType===9?n:n.ownerDocument}function tg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ng(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function gd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yd=null;function Ab(){var n=window.event;return n&&n.type==="popstate"?n===yd?!1:(yd=n,!0):(yd=null,!1)}var ig=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(n){return rg.resolve(null).then(n).catch(Ib)}:ig;function Ib(n){setTimeout(function(){throw n})}function Ni(n){return n==="head"}function sg(n,r){var a=r,c=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(g),cs(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Do(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Do(a);for(var y=a.firstChild;y;){var S=y.nextSibling,w=y.nodeName;y[Ji]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}else a==="body"&&Do(n.ownerDocument.body);a=g}while(a);cs(r)}function og(n,r){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function vd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),Ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Mb(n,r,a,c){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Ji])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=hn(n.nextSibling),n===null)break}return null}function Db(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hn(n.nextSibling),n===null))return null;return n}function ag(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=hn(n.nextSibling),n===null))return null;return n}function _d(n){return n.data==="$?"||n.data==="$~"}function xd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function kb(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function hn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var bd=null;function lg(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return hn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function ug(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function cg(n,r,a){switch(r=vl(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Do(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ys(n)}var mn=new Map,dg=new Set;function _l(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Wn=$.d;$.d={f:Ub,r:Pb,D:Ob,C:Lb,L:qb,m:Bb,X:Vb,S:zb,M:Hb};function Ub(){var n=Wn.f(),r=cl();return n||r}function Pb(n){var r=li(n);r!==null&&r.tag===5&&r.type==="form"?Nm(r):Wn.r(n)}var as=typeof document>"u"?null:document;function fg(n,r,a){var c=as;if(c&&typeof r=="string"&&r){var g=le(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),dg.has(g)||(dg.add(g),n={rel:n,crossOrigin:a,href:r},c.querySelector(g)===null&&(r=c.createElement("link"),Rt(r,"link",n),ht(r),c.head.appendChild(r)))}}function Ob(n){Wn.D(n),fg("dns-prefetch",n,null)}function Lb(n,r){Wn.C(n,r),fg("preconnect",n,r)}function qb(n,r,a){Wn.L(n,r,a);var c=as;if(c&&n&&r){var g='link[rel="preload"][as="'+le(r)+'"]';r==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+le(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+le(a.imageSizes)+'"]')):g+='[href="'+le(n)+'"]';var y=g;switch(r){case"style":y=ls(n);break;case"script":y=us(n)}mn.has(y)||(n=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),mn.set(y,n),c.querySelector(g)!==null||r==="style"&&c.querySelector(ko(y))||r==="script"&&c.querySelector(Uo(y))||(r=c.createElement("link"),Rt(r,"link",n),ht(r),c.head.appendChild(r)))}}function Bb(n,r){Wn.m(n,r);var a=as;if(a&&n){var c=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+le(c)+'"][href="'+le(n)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=us(n)}if(!mn.has(y)&&(n=x({rel:"modulepreload",href:n},r),mn.set(y,n),a.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uo(y)))return}c=a.createElement("link"),Rt(c,"link",n),ht(c),a.head.appendChild(c)}}}function zb(n,r,a){Wn.S(n,r,a);var c=as;if(c&&n){var g=sn(c).hoistableStyles,y=ls(n);r=r||"default";var S=g.get(y);if(!S){var w={loading:0,preload:null};if(S=c.querySelector(ko(y)))w.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":r},a),(a=mn.get(y))&&Sd(n,a);var D=S=c.createElement("link");ht(D),Rt(D,"link",n),D._p=new Promise(function(J,Z){D.onload=J,D.onerror=Z}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,xl(S,r,c)}S={type:"stylesheet",instance:S,count:1,state:w},g.set(y,S)}}}function Vb(n,r){Wn.X(n,r);var a=as;if(a&&n){var c=sn(a).hoistableScripts,g=us(n),y=c.get(g);y||(y=a.querySelector(Uo(g)),y||(n=x({src:n,async:!0},r),(r=mn.get(g))&&Ed(n,r),y=a.createElement("script"),ht(y),Rt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function Hb(n,r){Wn.M(n,r);var a=as;if(a&&n){var c=sn(a).hoistableScripts,g=us(n),y=c.get(g);y||(y=a.querySelector(Uo(g)),y||(n=x({src:n,async:!0,type:"module"},r),(r=mn.get(g))&&Ed(n,r),y=a.createElement("script"),ht(y),Rt(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function hg(n,r,a,c){var g=(g=me.current)?_l(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ls(a.href),a=sn(g).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ls(a.href);var y=sn(g).hoistableStyles,S=y.get(n);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=g.querySelector(ko(n)))&&!y._p&&(S.instance=y,S.state.loading=5),mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(n,a),y||Gb(g,n,a,S.state))),r&&c===null)throw Error(s(528,""));return S}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=us(a),a=sn(g).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ls(n){return'href="'+le(n)+'"'}function ko(n){return'link[rel="stylesheet"]['+n+"]"}function mg(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function Gb(n,r,a,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Rt(r,"link",a),ht(r),n.head.appendChild(r))}function us(n){return'[src="'+le(n)+'"]'}function Uo(n){return"script[async]"+n}function pg(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+le(a.href)+'"]');if(c)return r.instance=c,ht(c),c;var g=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),ht(c),Rt(c,"style",g),xl(c,a.precedence,n),r.instance=c;case"stylesheet":g=ls(a.href);var y=n.querySelector(ko(g));if(y)return r.state.loading|=4,r.instance=y,ht(y),y;c=mg(a),(g=mn.get(g))&&Sd(c,g),y=(n.ownerDocument||n).createElement("link"),ht(y);var S=y;return S._p=new Promise(function(w,D){S.onload=w,S.onerror=D}),Rt(y,"link",c),r.state.loading|=4,xl(y,a.precedence,n),r.instance=y;case"script":return y=us(a.src),(g=n.querySelector(Uo(y)))?(r.instance=g,ht(g),g):(c=a,(g=mn.get(y))&&(c=x({},a),Ed(c,g)),n=n.ownerDocument||n,g=n.createElement("script"),ht(g),Rt(g,"link",c),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,xl(c,a.precedence,n));return r.instance}function xl(n,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,S=0;S<c.length;S++){var w=c[S];if(w.dataset.precedence===r)y=w;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Sd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Ed(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var bl=null;function gg(n,r,a){if(bl===null){var c=new Map,g=bl=new Map;g.set(a,c)}else g=bl,c=g.get(a),c||(c=new Map,g.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var y=a[g];if(!(y[Ji]||y[bt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(r)||"";S=n+S;var w=c.get(S);w?w.push(y):c.set(S,[y])}}return c}function yg(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function jb(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $b(n,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=ls(c.href),y=r.querySelector(ko(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Sl.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=y,ht(y);return}y=r.ownerDocument||r,c=mg(c),(g=mn.get(g))&&Sd(c,g),y=y.createElement("link"),ht(y);var S=y;S._p=new Promise(function(w,D){S.onload=w,S.onerror=D}),Rt(y,"link",c),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Sl.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var wd=0;function Fb(n,r){return n.stylesheets&&n.count===0&&wl(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&wl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+r);0<n.imgBytes&&wd===0&&(wd=62500*Cb());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&wl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>wd?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function Sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var El=null;function wl(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,El=new Map,r.forEach(Jb,n),El=null,Sl.call(n))}function Jb(n,r){if(!(r.state.loading&4)){var a=El.get(n);if(a)var c=a.get(null);else{a=new Map,El.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),c=S)}c&&a.set(null,c)}g=r.instance,S=g.getAttribute("data-precedence"),y=a.get(S)||c,y===c&&a.set(null,g),a.set(S,g),this.count++,c=Sl.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var Po={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Yb(n,r,a,c,g,y,S,w,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function _g(n,r,a,c,g,y,S,w,D,J,Z,re){return n=new Yb(n,r,a,S,D,J,Z,re,w),r=1,y===!0&&(r|=24),y=Yt(3,null,null,r),n.current=y,y.stateNode=n,r=ic(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:a,cache:r},ac(y),n}function xg(n){return n?(n=zr,n):zr}function bg(n,r,a,c,g,y){g=xg(g),c.context===null?c.context=g:c.pendingContext=g,c=yi(r),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=vi(n,c,r),a!==null&&(jt(a,n,r),ho(a,n,r))}function Sg(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Td(n,r){Sg(n,r),(n=n.alternate)&&Sg(n,r)}function Eg(n){if(n.tag===13||n.tag===31){var r=Xi(n,67108864);r!==null&&jt(r,n,67108864),Td(n,67108864)}}function wg(n){if(n.tag===13||n.tag===31){var r=Zt();r=Nr(r);var a=Xi(n,r);a!==null&&jt(a,n,r),Td(n,r)}}var Tl=!0;function Kb(n,r,a,c){var g=R.T;R.T=null;var y=$.p;try{$.p=2,Cd(n,r,a,c)}finally{$.p=y,R.T=g}}function Qb(n,r,a,c){var g=R.T;R.T=null;var y=$.p;try{$.p=8,Cd(n,r,a,c)}finally{$.p=y,R.T=g}}function Cd(n,r,a,c){if(Tl){var g=Ad(c);if(g===null)fd(n,r,c,Cl,a),Cg(n,c);else if(Wb(g,n,r,a,c))c.stopPropagation();else if(Cg(n,c),r&4&&-1<Xb.indexOf(n)){for(;g!==null;){var y=li(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=An(y.pendingLanes);if(S!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var D=1<<31-Ot(S);w.entanglements[1]|=D,S&=~D}kn(y),(Fe&6)===0&&(ll=Mt()+500,Ro(0))}}break;case 31:case 13:w=Xi(y,2),w!==null&&jt(w,y,2),cl(),Td(y,2)}if(y=Ad(c),y===null&&fd(n,r,c,Cl,a),y===g)break;g=y}g!==null&&c.stopPropagation()}else fd(n,r,c,null,a)}}function Ad(n){return n=Ru(n),Nd(n)}var Cl=null;function Nd(n){if(Cl=null,n=ai(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=u(r),n!==null)return n;n=null}else if(a===31){if(n=d(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Cl=n,null}function Tg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case Vs:return 2;case Hs:return 8;case ji:case da:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ri=null,Ii=null,Mi=null,Oo=new Map,Lo=new Map,Di=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cg(n,r){switch(n){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Oo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(r.pointerId)}}function qo(n,r,a,c,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},r!==null&&(r=li(r),r!==null&&Eg(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function Wb(n,r,a,c,g){switch(r){case"focusin":return Ri=qo(Ri,n,r,a,c,g),!0;case"dragenter":return Ii=qo(Ii,n,r,a,c,g),!0;case"mouseover":return Mi=qo(Mi,n,r,a,c,g),!0;case"pointerover":var y=g.pointerId;return Oo.set(y,qo(Oo.get(y)||null,n,r,a,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Lo.set(y,qo(Lo.get(y)||null,n,r,a,c,g)),!0}return!1}function Ag(n){var r=ai(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){n.blockedOn=r,xa(n.priority,function(){wg(a)});return}}else if(r===31){if(r=d(a),r!==null){n.blockedOn=r,xa(n.priority,function(){wg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Al(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Ad(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);kr=c,a.target.dispatchEvent(c),kr=null}else return r=li(a),r!==null&&Eg(r),n.blockedOn=a,!1;r.shift()}return!0}function Ng(n,r,a){Al(n)&&a.delete(r)}function Zb(){Rd=!1,Ri!==null&&Al(Ri)&&(Ri=null),Ii!==null&&Al(Ii)&&(Ii=null),Mi!==null&&Al(Mi)&&(Mi=null),Oo.forEach(Ng),Lo.forEach(Ng)}function Nl(n,r){n.blockedOn===r&&(n.blockedOn=null,Rd||(Rd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zb)))}var Rl=null;function Rg(n){Rl!==n&&(Rl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rl===n&&(Rl=null);for(var r=0;r<n.length;r+=3){var a=n[r],c=n[r+1],g=n[r+2];if(typeof c!="function"){if(Nd(c||a)===null)continue;break}var y=li(a);y!==null&&(n.splice(r,3),r-=3,Ac(y,{pending:!0,data:g,method:a.method,action:c},c,g))}}))}function cs(n){function r(D){return Nl(D,n)}Ri!==null&&Nl(Ri,n),Ii!==null&&Nl(Ii,n),Mi!==null&&Nl(Mi,n),Oo.forEach(r),Lo.forEach(r);for(var a=0;a<Di.length;a++){var c=Di[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)Ag(a),a.blockedOn===null&&Di.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var g=a[c],y=a[c+1],S=g[Dt]||null;if(typeof y=="function")S||Rg(a);else if(S){var w=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[Dt]||null)w=S.formAction;else if(Nd(g)!==null)continue}else w=S.action;typeof w=="function"?a[c+1]=w:(a.splice(c,3),c-=3),Rg(a)}}}function Ig(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Id(n){this._internalRoot=n}Il.prototype.render=Id.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,c=Zt();bg(a,c,n,r,null,null)},Il.prototype.unmount=Id.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;bg(n.current,2,null,n,null,null),cl(),r[oi]=null}};function Il(n){this._internalRoot=n}Il.prototype.unstable_scheduleHydration=function(n){if(n){var r=_a();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Di.length&&r!==0&&r<Di[a].priority;a++);Di.splice(a,0,n),a===0&&Ag(n)}};var Mg=e.version;if(Mg!=="19.2.0")throw Error(s(527,Mg,"19.2.0"));$.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var eS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{si=Ml.inject(eS),Tt=Ml}catch{}}return zo.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,c="",g=qm,y=Bm,S=zm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),r=_g(n,1,!1,null,null,a,c,null,g,y,S,Ig),n[oi]=r.current,dd(n),new Id(r)},zo.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var c=!1,g="",y=qm,S=Bm,w=zm,D=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=_g(n,1,!0,r,a??null,c,g,D,y,S,w,Ig),r.context=xg(null),a=r.current,c=Zt(),c=Nr(c),g=yi(c),g.callback=null,vi(a,g,c),a=c,r.current.lanes=a,Fi(r,a),kn(r),n[oi]=r.current,dd(n),new Il(r)},zo.version="19.2.0",zo}var Vg;function fS(){if(Vg)return kd.exports;Vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kd.exports=dS(),kd.exports}var hS=fS();const mS=fu(hS);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hg="popstate";function pS(t={}){function e(s,o){let{pathname:l,search:u,hash:d}=s.location;return Wd("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Yo(o)}return yS(e,i,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gS(){return Math.random().toString(36).substring(2,10)}function Gg(t,e){return{usr:t.state,key:t.key,idx:e}}function Wd(t,e,i=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Is(e):e,state:i,key:e&&e.key||s||gS()}}function Yo({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Is(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function yS(t,e,i,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,d="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function x(){d="POP";let N=v(),P=N==null?null:N-m;m=N,h&&h({action:d,location:A.location,delta:P})}function b(N,P){d="PUSH";let V=Wd(A.location,N,P);m=v()+1;let M=Gg(V,m),j=A.createHref(V);try{u.pushState(M,"",j)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(j)}l&&h&&h({action:d,location:A.location,delta:1})}function E(N,P){d="REPLACE";let V=Wd(A.location,N,P);m=v();let M=Gg(V,m),j=A.createHref(V);u.replaceState(M,"",j),l&&h&&h({action:d,location:A.location,delta:0})}function T(N){return vS(N)}let A={get action(){return d},get location(){return t(o,u)},listen(N){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Hg,x),h=N,()=>{o.removeEventListener(Hg,x),h=null}},createHref(N){return e(o,N)},createURL:T,encodeLocation(N){let P=T(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:E,go(N){return u.go(N)}};return A}function vS(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),lt(i,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Yo(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function i0(t,e,i="/"){return _S(t,e,i,!1)}function _S(t,e,i,s){let o=typeof e=="string"?Is(e):e,l=ti(o.pathname||"/",i);if(l==null)return null;let u=r0(t);xS(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=MS(l);d=RS(u[h],m,s)}return d}function r0(t,e=[],i=[],s="",o=!1){let l=(u,d,h=o,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&h)return;lt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let x=ei([s,v.relativePath]),b=i.concat(v);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),r0(u.children,e,b,x,h)),!(u.path==null&&!u.index)&&e.push({path:x,score:AS(x,u.index),routesMeta:b})};return t.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let m of s0(u.path))l(u,d,!0,m)}),e}function s0(t){let e=t.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),l=i.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=s0(s.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function xS(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:NS(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var bS=/^:[\w-]+$/,SS=3,ES=2,wS=1,TS=10,CS=-2,jg=t=>t==="*";function AS(t,e){let i=t.split("/"),s=i.length;return i.some(jg)&&(s+=CS),e&&(s+=ES),i.filter(o=>!jg(o)).reduce((o,l)=>o+(bS.test(l)?SS:l===""?wS:TS),s)}function NS(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function RS(t,e,i=!1){let{routesMeta:s}=t,o={},l="/",u=[];for(let d=0;d<s.length;++d){let h=s[d],m=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Zl({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),b=h.route;if(!x&&m&&i&&!s[s.length-1].route.index&&(x=Zl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:ei([l,x.pathname]),pathnameBase:OS(ei([l,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(l=ei([l,x.pathnameBase]))}return u}function Zl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,s]=IS(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:x},b)=>{if(v==="*"){let T=d[b]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const E=d[b];return x&&!E?m[v]=void 0:m[v]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function IS(t,e=!1,i=!0){gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function MS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=t.charAt(i);return s&&s!=="/"?null:t.slice(i)||"/"}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kS=t=>DS.test(t);function US(t,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof t=="string"?Is(t):t,l;if(i)if(kS(i))l=i;else{if(i.includes("//")){let u=i;i=i.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${i}`)}i.startsWith("/")?l=$g(i.substring(1),"/"):l=$g(i,e)}else l=e;return{pathname:l,search:LS(s),hash:qS(o)}}function $g(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ld(t,e,i,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PS(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function If(t){let e=PS(t);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Mf(t,e,i,s=!1){let o;typeof t=="string"?o=Is(t):(o={...t},lt(!o.pathname||!o.pathname.includes("?"),Ld("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Ld("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Ld("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=i;else{let x=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;o.pathname=b.join("/")}d=x>=0?e[x]:"/"}let h=US(o,d),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var ei=t=>t.join("/").replace(/\/\/+/g,"/"),OS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var o0=["POST","PUT","PATCH","DELETE"];new Set(o0);var zS=["GET",...o0];new Set(zS);var Ms=O.createContext(null);Ms.displayName="DataRouter";var hu=O.createContext(null);hu.displayName="DataRouterState";O.createContext(!1);var a0=O.createContext({isTransitioning:!1});a0.displayName="ViewTransition";var VS=O.createContext(new Map);VS.displayName="Fetchers";var HS=O.createContext(null);HS.displayName="Await";var wn=O.createContext(null);wn.displayName="Navigation";var ta=O.createContext(null);ta.displayName="Location";var Un=O.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var Df=O.createContext(null);Df.displayName="RouteError";function GS(t,{relative:e}={}){lt(Ds(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=O.useContext(wn),{hash:o,pathname:l,search:u}=na(t,{relative:e}),d=l;return i!=="/"&&(d=l==="/"?i:ei([i,l])),s.createHref({pathname:d,search:u,hash:o})}function Ds(){return O.useContext(ta)!=null}function Li(){return lt(Ds(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ta).location}var l0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u0(t){O.useContext(wn).static||O.useLayoutEffect(t)}function Sr(){let{isDataRoute:t}=O.useContext(Un);return t?nE():jS()}function jS(){lt(Ds(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ms),{basename:e,navigator:i}=O.useContext(wn),{matches:s}=O.useContext(Un),{pathname:o}=Li(),l=JSON.stringify(If(s)),u=O.useRef(!1);return u0(()=>{u.current=!0}),O.useCallback((h,m={})=>{if(gn(u.current,l0),!u.current)return;if(typeof h=="number"){i.go(h);return}let v=Mf(h,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ei([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,l,o,t])}O.createContext(null);function na(t,{relative:e}={}){let{matches:i}=O.useContext(Un),{pathname:s}=Li(),o=JSON.stringify(If(i));return O.useMemo(()=>Mf(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function $S(t,e){return c0(t,e)}function c0(t,e,i,s,o){var V;lt(Ds(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(wn),{matches:u}=O.useContext(Un),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let M=x&&x.path||"";d0(m,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=Li(),E;if(e){let M=typeof e=="string"?Is(e):e;lt(v==="/"||((V=M.pathname)==null?void 0:V.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=b;let T=E.pathname||"/",A=T;if(v!=="/"){let M=v.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=i0(t,{pathname:A});gn(x||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),gn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=QS(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:ei([v,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:ei([v,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,i,s,o);return e&&P?O.createElement(ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function FS(){let t=tE(),e=BS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),i?O.createElement("pre",{style:o},i):null,u)}var JS=O.createElement(FS,null),YS=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(Un.Provider,{value:this.props.routeContext},O.createElement(Df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KS({routeContext:t,match:e,children:i}){let s=O.useContext(Ms);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Un.Provider,{value:t},i)}function QS(t,e=[],i=null,s=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let l=t,u=i==null?void 0:i.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);lt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,h=-1;if(i)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=v),x.route.id){let{loaderData:b,errors:E}=i,T=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!E||E[x.route.id]===void 0);if(x.route.lazy||T){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=i&&s?(v,x)=>{var b,E;s(v,{location:i.location,params:((E=(b=i.matches)==null?void 0:b[0])==null?void 0:E.params)??{},errorInfo:x})}:void 0;return l.reduceRight((v,x,b)=>{let E,T=!1,A=null,N=null;i&&(E=u&&x.route.id?u[x.route.id]:void 0,A=x.route.errorElement||JS,d&&(h<0&&b===0?(d0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):h===b&&(T=!0,N=x.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,b+1)),V=()=>{let M;return E?M=A:T?M=N:x.route.Component?M=O.createElement(x.route.Component,null):x.route.element?M=x.route.element:M=v,O.createElement(KS,{match:x,routeContext:{outlet:v,matches:P,isDataRoute:i!=null},children:M})};return i&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?O.createElement(YS,{location:i.location,revalidation:i.revalidation,component:A,error:E,children:V(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:m}):V()},null)}function kf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(t){let e=O.useContext(Ms);return lt(e,kf(t)),e}function WS(t){let e=O.useContext(hu);return lt(e,kf(t)),e}function ZS(t){let e=O.useContext(Un);return lt(e,kf(t)),e}function Uf(t){let e=ZS(t),i=e.matches[e.matches.length-1];return lt(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function eE(){return Uf("useRouteId")}function tE(){var s;let t=O.useContext(Df),e=WS("useRouteError"),i=Uf("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[i]}function nE(){let{router:t}=XS("useNavigate"),e=Uf("useNavigate"),i=O.useRef(!1);return u0(()=>{i.current=!0}),O.useCallback(async(o,l={})=>{gn(i.current,l0),i.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Fg={};function d0(t,e,i){!e&&!Fg[t]&&(Fg[t]=!0,gn(!1,i))}O.memo(iE);function iE({routes:t,future:e,state:i,unstable_onError:s}){return c0(t,void 0,i,s,e)}function rE({to:t,replace:e,state:i,relative:s}){lt(Ds(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(wn);gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Un),{pathname:u}=Li(),d=Sr(),h=Mf(t,If(l),u,s==="path"),m=JSON.stringify(h);return O.useEffect(()=>{d(JSON.parse(m),{replace:e,state:i,relative:s})},[d,m,s,e,i]),null}function bs(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sE({basename:t="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:l=!1}){lt(!Ds(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof i=="string"&&(i=Is(i));let{pathname:h="/",search:m="",hash:v="",state:x=null,key:b="default"}=i,E=O.useMemo(()=>{let T=ti(h,u);return T==null?null:{location:{pathname:T,search:m,hash:v,state:x,key:b},navigationType:s}},[u,h,m,v,x,b,s]);return gn(E!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:O.createElement(wn.Provider,{value:d},O.createElement(ta.Provider,{children:e,value:E}))}function oE({children:t,location:e}){return $S(Zd(t),e)}function Zd(t,e=[]){let i=[];return O.Children.forEach(t,(s,o)=>{if(!O.isValidElement(s))return;let l=[...e,o];if(s.type===O.Fragment){i.push.apply(i,Zd(s.props.children,l));return}lt(s.type===bs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Zd(s.props.children,l)),i.push(u)}),i}var Yl="get",Kl="application/x-www-form-urlencoded";function mu(t){return t!=null&&typeof t.tagName=="string"}function aE(t){return mu(t)&&t.tagName.toLowerCase()==="button"}function lE(t){return mu(t)&&t.tagName.toLowerCase()==="form"}function uE(t){return mu(t)&&t.tagName.toLowerCase()==="input"}function cE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dE(t,e){return t.button===0&&(!e||e==="_self")&&!cE(t)}var kl=null;function fE(){if(kl===null)try{new FormData(document.createElement("form"),0),kl=!1}catch{kl=!0}return kl}var hE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qd(t){return t!=null&&!hE.has(t)?(gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kl}"`),null):t}function mE(t,e){let i,s,o,l,u;if(lE(t)){let d=t.getAttribute("action");s=d?ti(d,e):null,i=t.getAttribute("method")||Yl,o=qd(t.getAttribute("enctype"))||Kl,l=new FormData(t)}else if(aE(t)||uE(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?ti(h,e):null,i=t.getAttribute("formmethod")||d.getAttribute("method")||Yl,o=qd(t.getAttribute("formenctype"))||qd(d.getAttribute("enctype"))||Kl,l=new FormData(d,t),!fE()){let{name:m,type:v,value:x}=t;if(v==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,x)}}else{if(mu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Yl,s=null,o=Kl,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pE(t,e,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&ti(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function gE(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vE(t,e,i){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await gE(l,i);return u.links?u.links():[]}return[]}));return SE(s.flat(1).filter(yE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jg(t,e,i,s,o,l){let u=(h,m)=>i[m]?h.route.id!==i[m].route.id:!0,d=(h,m)=>{var v;return i[m].pathname!==h.pathname||((v=i[m].route.path)==null?void 0:v.endsWith("*"))&&i[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>u(h,m)||d(h,m)):l==="data"?e.filter((h,m)=>{var x;let v=s.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=i[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _E(t,e,{includeHydrateFallback:i}={}){return xE(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function xE(t){return[...new Set(t)]}function bE(t){let e={},i=Object.keys(t).sort();for(let s of i)e[s]=t[s];return e}function SE(t,e){let i=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(bE(o));return i.has(l)||(i.add(l),s.push({key:l,link:o})),s},[])}function f0(){let t=O.useContext(Ms);return Pf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function EE(){let t=O.useContext(hu);return Pf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Of=O.createContext(void 0);Of.displayName="FrameworkContext";function h0(){let t=O.useContext(Of);return Pf(t,"You must render this element inside a <HydratedRouter> element"),t}function wE(t,e){let i=O.useContext(Of),[s,o]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:x}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let A=P=>{P.forEach(V=>{u(V.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),O.useEffect(()=>{if(s){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[s]);let E=()=>{o(!0)},T=()=>{o(!1),u(!1)};return i?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Vo(d,E),onBlur:Vo(h,T),onMouseEnter:Vo(m,E),onMouseLeave:Vo(v,T),onTouchStart:Vo(x,E)}]:[!1,b,{}]}function Vo(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function TE({page:t,...e}){let{router:i}=f0(),s=O.useMemo(()=>i0(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?O.createElement(AE,{page:t,matches:s,...e}):null}function CE(t){let{manifest:e,routeModules:i}=h0(),[s,o]=O.useState([]);return O.useEffect(()=>{let l=!1;return vE(t,e,i).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,i]),s}function AE({page:t,matches:e,...i}){let s=Li(),{manifest:o,routeModules:l}=h0(),{basename:u}=f0(),{loaderData:d,matches:h}=EE(),m=O.useMemo(()=>Jg(t,e,h,o,s,"data"),[t,e,h,o,s]),v=O.useMemo(()=>Jg(t,e,h,o,s,"assets"),[t,e,h,o,s]),x=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let T=new Set,A=!1;if(e.forEach(P=>{var M;let V=o.routes[P.route.id];!V||!V.hasLoader||(!m.some(j=>j.route.id===P.route.id)&&P.route.id in d&&((M=l[P.route.id])!=null&&M.shouldRevalidate)||V.hasClientLoader?A=!0:T.add(P.route.id))}),T.size===0)return[];let N=pE(t,u,"data");return A&&T.size>0&&N.searchParams.set("_routes",e.filter(P=>T.has(P.route.id)).map(P=>P.route.id).join(",")),[N.pathname+N.search]},[u,d,s,o,m,e,t,l]),b=O.useMemo(()=>_E(v,o),[v,o]),E=CE(v);return O.createElement(O.Fragment,null,x.map(T=>O.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),b.map(T=>O.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),E.map(({key:T,link:A})=>O.createElement("link",{key:T,nonce:i.nonce,...A})))}function NE(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var m0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m0&&(window.__reactRouterVersion="7.9.6")}catch{}function RE({basename:t,children:e,window:i}){let s=O.useRef();s.current==null&&(s.current=pS({window:i,v5Compat:!0}));let o=s.current,[l,u]=O.useState({action:o.action,location:o.location}),d=O.useCallback(h=>{O.startTransition(()=>u(h))},[u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.createElement(sE,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var p0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g0=O.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:d,target:h,to:m,preventScrollReset:v,viewTransition:x,...b},E){let{basename:T}=O.useContext(wn),A=typeof m=="string"&&p0.test(m),N,P=!1;if(typeof m=="string"&&A&&(N=m,m0))try{let ae=new URL(window.location.href),_e=m.startsWith("//")?new URL(ae.protocol+m):new URL(m),Ce=ti(_e.pathname,T);_e.origin===ae.origin&&Ce!=null?m=Ce+_e.search+_e.hash:P=!0}catch{gn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=GS(m,{relative:o}),[M,j,B]=wE(s,b),X=kE(m,{replace:u,state:d,target:h,preventScrollReset:v,relative:o,viewTransition:x});function Q(ae){e&&e(ae),ae.defaultPrevented||X(ae)}let ce=O.createElement("a",{...b,...B,href:N||V,onClick:P||l?e:Q,ref:NE(E,j),target:h,"data-discover":!A&&i==="render"?"true":void 0});return M&&!A?O.createElement(O.Fragment,null,ce,O.createElement(TE,{page:V})):ce});g0.displayName="Link";var IE=O.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:d,children:h,...m},v){let x=na(u,{relative:m.relative}),b=Li(),E=O.useContext(hu),{navigator:T,basename:A}=O.useContext(wn),N=E!=null&&qE(x)&&d===!0,P=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,V=b.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(V=V.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&A&&(M=ti(M,A)||M);const j=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let B=V===P||!o&&V.startsWith(P)&&V.charAt(j)==="/",X=M!=null&&(M===P||!o&&M.startsWith(P)&&M.charAt(P.length)==="/"),Q={isActive:B,isPending:X,isTransitioning:N},ce=B?e:void 0,ae;typeof s=="function"?ae=s(Q):ae=[s,B?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let _e=typeof l=="function"?l(Q):l;return O.createElement(g0,{...m,"aria-current":ce,className:ae,ref:v,style:_e,to:u,viewTransition:d},typeof h=="function"?h(Q):h)});IE.displayName="NavLink";var ME=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:l,method:u=Yl,action:d,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:x,...b},E)=>{let T=OE(),A=LE(d,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&p0.test(d),V=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let j=M.nativeEvent.submitter,B=(j==null?void 0:j.getAttribute("formmethod"))||u;T(j||M.currentTarget,{fetcherKey:e,method:B,navigate:i,replace:o,state:l,relative:m,preventScrollReset:v,viewTransition:x})};return O.createElement("form",{ref:E,method:N,action:A,onSubmit:s?h:V,...b,"data-discover":!P&&t==="render"?"true":void 0})});ME.displayName="Form";function DE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y0(t){let e=O.useContext(Ms);return lt(e,DE(t)),e}function kE(t,{target:e,replace:i,state:s,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=Sr(),h=Li(),m=na(t,{relative:l});return O.useCallback(v=>{if(dE(v,e)){v.preventDefault();let x=i!==void 0?i:Yo(h)===Yo(m);d(t,{replace:x,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,m,i,s,e,t,o,l,u])}var UE=0,PE=()=>`__${String(++UE)}__`;function OE(){let{router:t}=y0("useSubmit"),{basename:e}=O.useContext(wn),i=eE();return O.useCallback(async(s,o={})=>{let{action:l,method:u,encType:d,formData:h,body:m}=mE(s,e);if(o.navigate===!1){let v=o.fetcherKey||PE();await t.fetch(v,i,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,i])}function LE(t,{relative:e}={}){let{basename:i}=O.useContext(wn),s=O.useContext(Un);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...na(t||".",{relative:e})},u=Li();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:ei([i,l.pathname])),Yo(l)}function qE(t,{relative:e}={}){let i=O.useContext(a0);lt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y0("useViewTransitionState"),o=na(t,{relative:e});if(!i.isTransitioning)return!1;let l=ti(i.currentLocation.pathname,s)||i.currentLocation.pathname,u=ti(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Zl(o.pathname,u)!=null||Zl(o.pathname,l)!=null}var fr=(t=>(t.HOME="HOME",t.CHECKOUT="CHECKOUT",t.SUCCESS="SUCCESS",t))(fr||{});/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Yg=t=>{const e=zE(t);return e.charAt(0).toUpperCase()+e.slice(1)},v0=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),VE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...d},h)=>O.createElement("svg",{ref:h,...HE,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:v0("lucide",o),...!l&&!VE(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,v])=>O.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const i=O.forwardRef(({className:s,...o},l)=>O.createElement(GE,{ref:l,iconNode:e,className:v0(`lucide-${BE(Yg(t))}`,`lucide-${t}`,s),...o}));return i.displayName=Yg(t),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$E=Je("arrow-left",jE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],JE=Je("arrow-right",FE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],KE=Je("banknote",YE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_0=Je("calendar",QE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hr=Je("circle-check-big",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ZE=Je("circle-check",WE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x0=Je("clock",ew);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ef=Je("credit-card",tw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vr=Je("dollar-sign",nw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rw=Je("download",iw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ow=Je("file-text",sw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lw=Je("loader-circle",aw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ql=Je("mail",uw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dw=Je("map-pin",cw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hw=Je("menu",fw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],pw=Je("minimize-2",mw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],b0=Je("package",gw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Kg=Je("percent",yw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],S0=Je("phone",vw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],E0=Je("plus",_w);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tf=Je("send",xw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Qg=Je("shopping-bag",bw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],w0=Je("shopping-cart",Sw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xg=Je("sparkles",Ew);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Tw=Je("square-pen",ww);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Aw=Je("star",Cw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],T0=Je("trash-2",Nw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nf=Je("trending-up",Rw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mw=Je("triangle-alert",Iw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wg=Je("users",Dw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ia=Je("x",kw);function Ul(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bd={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Zg;function Uw(){return Zg||(Zg=1,(function(t,e){(function(i){t.exports=i()})(function(){return(function i(s,o,l){function u(m,v){if(!o[m]){if(!s[m]){var x=typeof Ul=="function"&&Ul;if(!v&&x)return x(m,!0);if(d)return d(m,!0);var b=new Error("Cannot find module '"+m+"'");throw b.code="MODULE_NOT_FOUND",b}var E=o[m]={exports:{}};s[m][0].call(E.exports,function(T){var A=s[m][1][T];return u(A||T)},E,E.exports,i,s,o,l)}return o[m].exports}for(var d=typeof Ul=="function"&&Ul,h=0;h<l.length;h++)u(l[h]);return u})({1:[function(i,s,o){(function(l){var u=l.MutationObserver||l.WebKitMutationObserver,d;if(u){var h=0,m=new u(T),v=l.document.createTextNode("");m.observe(v,{characterData:!0}),d=function(){v.data=h=++h%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var x=new l.MessageChannel;x.port1.onmessage=T,d=function(){x.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?d=function(){var N=l.document.createElement("script");N.onreadystatechange=function(){T(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},l.document.documentElement.appendChild(N)}:d=function(){setTimeout(T,0)};var b,E=[];function T(){b=!0;for(var N,P,V=E.length;V;){for(P=E,E=[],N=-1;++N<V;)P[N]();V=E.length}b=!1}s.exports=A;function A(N){E.push(N)===1&&!b&&d()}}).call(this,typeof Dl<"u"?Dl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,s,o){var l=i(1);function u(){}var d={},h=["REJECTED"],m=["FULFILLED"],v=["PENDING"];s.exports=x;function x(B){if(typeof B!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,B!==u&&A(this,B)}x.prototype.catch=function(B){return this.then(null,B)},x.prototype.then=function(B,X){if(typeof B!="function"&&this.state===m||typeof X!="function"&&this.state===h)return this;var Q=new this.constructor(u);if(this.state!==v){var ce=this.state===m?B:X;E(Q,ce,this.outcome)}else this.queue.push(new b(Q,B,X));return Q};function b(B,X,Q){this.promise=B,typeof X=="function"&&(this.onFulfilled=X,this.callFulfilled=this.otherCallFulfilled),typeof Q=="function"&&(this.onRejected=Q,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(B){d.resolve(this.promise,B)},b.prototype.otherCallFulfilled=function(B){E(this.promise,this.onFulfilled,B)},b.prototype.callRejected=function(B){d.reject(this.promise,B)},b.prototype.otherCallRejected=function(B){E(this.promise,this.onRejected,B)};function E(B,X,Q){l(function(){var ce;try{ce=X(Q)}catch(ae){return d.reject(B,ae)}ce===B?d.reject(B,new TypeError("Cannot resolve promise with itself")):d.resolve(B,ce)})}d.resolve=function(B,X){var Q=N(T,X);if(Q.status==="error")return d.reject(B,Q.value);var ce=Q.value;if(ce)A(B,ce);else{B.state=m,B.outcome=X;for(var ae=-1,_e=B.queue.length;++ae<_e;)B.queue[ae].callFulfilled(X)}return B},d.reject=function(B,X){B.state=h,B.outcome=X;for(var Q=-1,ce=B.queue.length;++Q<ce;)B.queue[Q].callRejected(X);return B};function T(B){var X=B&&B.then;if(B&&(typeof B=="object"||typeof B=="function")&&typeof X=="function")return function(){X.apply(B,arguments)}}function A(B,X){var Q=!1;function ce(Ee){Q||(Q=!0,d.reject(B,Ee))}function ae(Ee){Q||(Q=!0,d.resolve(B,Ee))}function _e(){X(ae,ce)}var Ce=N(_e);Ce.status==="error"&&ce(Ce.value)}function N(B,X){var Q={};try{Q.value=B(X),Q.status="success"}catch(ce){Q.status="error",Q.value=ce}return Q}x.resolve=P;function P(B){return B instanceof this?B:d.resolve(new this(u),B)}x.reject=V;function V(B){var X=new this(u);return d.reject(X,B)}x.all=M;function M(B){var X=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=B.length,ce=!1;if(!Q)return this.resolve([]);for(var ae=new Array(Q),_e=0,Ce=-1,Ee=new this(u);++Ce<Q;)Pe(B[Ce],Ce);return Ee;function Pe(ot,se){X.resolve(ot).then(R,function($){ce||(ce=!0,d.reject(Ee,$))});function R($){ae[se]=$,++_e===Q&&!ce&&(ce=!0,d.resolve(Ee,ae))}}}x.race=j;function j(B){var X=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=B.length,ce=!1;if(!Q)return this.resolve([]);for(var ae=-1,_e=new this(u);++ae<Q;)Ce(B[ae]);return _e;function Ce(Ee){X.resolve(Ee).then(function(Pe){ce||(ce=!0,d.resolve(_e,Pe))},function(Pe){ce||(ce=!0,d.reject(_e,Pe))})}}},{1:1}],3:[function(i,s,o){(function(l){typeof l.Promise!="function"&&(l.Promise=i(2))}).call(this,typeof Dl<"u"?Dl:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,s,o){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function u(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=d();function m(){try{if(!h||!h.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),k=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||k)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function v(C,k){C=C||[],k=k||{};try{return new Blob(C,k)}catch(q){if(q.name!=="TypeError")throw q;for(var I=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,z=new I,G=0;G<C.length;G+=1)z.append(C[G]);return z.getBlob(k.type)}}typeof Promise>"u"&&i(3);var x=Promise;function b(C,k){k&&C.then(function(I){k(null,I)},function(I){k(I)})}function E(C,k,I){typeof k=="function"&&C.then(k),typeof I=="function"&&C.catch(I)}function T(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function A(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var N="local-forage-detect-blob-support",P=void 0,V={},M=Object.prototype.toString,j="readonly",B="readwrite";function X(C){for(var k=C.length,I=new ArrayBuffer(k),z=new Uint8Array(I),G=0;G<k;G++)z[G]=C.charCodeAt(G);return I}function Q(C){return new x(function(k){var I=C.transaction(N,B),z=v([""]);I.objectStore(N).put(z,"key"),I.onabort=function(G){G.preventDefault(),G.stopPropagation(),k(!1)},I.oncomplete=function(){var G=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);k(q||!G||parseInt(G[1],10)>=43)}}).catch(function(){return!1})}function ce(C){return typeof P=="boolean"?x.resolve(P):Q(C).then(function(k){return P=k,P})}function ae(C){var k=V[C.name],I={};I.promise=new x(function(z,G){I.resolve=z,I.reject=G}),k.deferredOperations.push(I),k.dbReady?k.dbReady=k.dbReady.then(function(){return I.promise}):k.dbReady=I.promise}function _e(C){var k=V[C.name],I=k.deferredOperations.pop();if(I)return I.resolve(),I.promise}function Ce(C,k){var I=V[C.name],z=I.deferredOperations.pop();if(z)return z.reject(k),z.promise}function Ee(C,k){return new x(function(I,z){if(V[C.name]=V[C.name]||ee(),C.db)if(k)ae(C),C.db.close();else return I(C.db);var G=[C.name];k&&G.push(C.version);var q=h.open.apply(h,G);k&&(q.onupgradeneeded=function(te){var oe=q.result;try{oe.createObjectStore(C.storeName),te.oldVersion<=1&&oe.createObjectStore(N)}catch(de){if(de.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+te.oldVersion+" to version "+te.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw de}}),q.onerror=function(te){te.preventDefault(),z(q.error)},q.onsuccess=function(){var te=q.result;te.onversionchange=function(oe){oe.target.close()},I(te),_e(C)}})}function Pe(C){return Ee(C,!1)}function ot(C){return Ee(C,!0)}function se(C,k){if(!C.db)return!0;var I=!C.db.objectStoreNames.contains(C.storeName),z=C.version<C.db.version,G=C.version>C.db.version;if(z&&(C.version!==k&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),G||I){if(I){var q=C.db.version+1;q>C.version&&(C.version=q)}return!0}return!1}function R(C){return new x(function(k,I){var z=new FileReader;z.onerror=I,z.onloadend=function(G){var q=btoa(G.target.result||"");k({__local_forage_encoded_blob:!0,data:q,type:C.type})},z.readAsBinaryString(C)})}function $(C){var k=X(atob(C.data));return v([k],{type:C.type})}function ie(C){return C&&C.__local_forage_encoded_blob}function fe(C){var k=this,I=k._initReady().then(function(){var z=V[k._dbInfo.name];if(z&&z.dbReady)return z.dbReady});return E(I,C,C),I}function we(C){ae(C);for(var k=V[C.name],I=k.forages,z=0;z<I.length;z++){var G=I[z];G._dbInfo.db&&(G._dbInfo.db.close(),G._dbInfo.db=null)}return C.db=null,Pe(C).then(function(q){return C.db=q,se(C)?ot(C):q}).then(function(q){C.db=k.db=q;for(var te=0;te<I.length;te++)I[te]._dbInfo.db=q}).catch(function(q){throw Ce(C,q),q})}function U(C,k,I,z){z===void 0&&(z=1);try{var G=C.db.transaction(C.storeName,k);I(null,G)}catch(q){if(z>0&&(!C.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return x.resolve().then(function(){if(!C.db||q.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),ot(C)}).then(function(){return we(C).then(function(){U(C,k,I,z-1)})}).catch(I);I(q)}}function ee(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function pe(C){var k=this,I={db:null};if(C)for(var z in C)I[z]=C[z];var G=V[I.name];G||(G=ee(),V[I.name]=G),G.forages.push(k),k._initReady||(k._initReady=k.ready,k.ready=fe);var q=[];function te(){return x.resolve()}for(var oe=0;oe<G.forages.length;oe++){var de=G.forages[oe];de!==k&&q.push(de._initReady().catch(te))}var le=G.forages.slice(0);return x.all(q).then(function(){return I.db=G.db,Pe(I)}).then(function(he){return I.db=he,se(I,k._defaultConfig.version)?ot(I):he}).then(function(he){I.db=G.db=he,k._dbInfo=I;for(var xe=0;xe<le.length;xe++){var De=le[xe];De!==k&&(De._dbInfo.db=I.db,De._dbInfo.version=I.version)}})}function K(C,k){var I=this;C=T(C);var z=new x(function(G,q){I.ready().then(function(){U(I._dbInfo,j,function(te,oe){if(te)return q(te);try{var de=oe.objectStore(I._dbInfo.storeName),le=de.get(C);le.onsuccess=function(){var he=le.result;he===void 0&&(he=null),ie(he)&&(he=$(he)),G(he)},le.onerror=function(){q(le.error)}}catch(he){q(he)}})}).catch(q)});return b(z,k),z}function ue(C,k){var I=this,z=new x(function(G,q){I.ready().then(function(){U(I._dbInfo,j,function(te,oe){if(te)return q(te);try{var de=oe.objectStore(I._dbInfo.storeName),le=de.openCursor(),he=1;le.onsuccess=function(){var xe=le.result;if(xe){var De=xe.value;ie(De)&&(De=$(De));var Oe=C(De,xe.key,he++);Oe!==void 0?G(Oe):xe.continue()}else G()},le.onerror=function(){q(le.error)}}catch(xe){q(xe)}})}).catch(q)});return b(z,k),z}function me(C,k,I){var z=this;C=T(C);var G=new x(function(q,te){var oe;z.ready().then(function(){return oe=z._dbInfo,M.call(k)==="[object Blob]"?ce(oe.db).then(function(de){return de?k:R(k)}):k}).then(function(de){U(z._dbInfo,B,function(le,he){if(le)return te(le);try{var xe=he.objectStore(z._dbInfo.storeName);de===null&&(de=void 0);var De=xe.put(de,C);he.oncomplete=function(){de===void 0&&(de=null),q(de)},he.onabort=he.onerror=function(){var Oe=De.error?De.error:De.transaction.error;te(Oe)}}catch(Oe){te(Oe)}})}).catch(te)});return b(G,I),G}function Re(C,k){var I=this;C=T(C);var z=new x(function(G,q){I.ready().then(function(){U(I._dbInfo,B,function(te,oe){if(te)return q(te);try{var de=oe.objectStore(I._dbInfo.storeName),le=de.delete(C);oe.oncomplete=function(){G()},oe.onerror=function(){q(le.error)},oe.onabort=function(){var he=le.error?le.error:le.transaction.error;q(he)}}catch(he){q(he)}})}).catch(q)});return b(z,k),z}function Me(C){var k=this,I=new x(function(z,G){k.ready().then(function(){U(k._dbInfo,B,function(q,te){if(q)return G(q);try{var oe=te.objectStore(k._dbInfo.storeName),de=oe.clear();te.oncomplete=function(){z()},te.onabort=te.onerror=function(){var le=de.error?de.error:de.transaction.error;G(le)}}catch(le){G(le)}})}).catch(G)});return b(I,C),I}function Ye(C){var k=this,I=new x(function(z,G){k.ready().then(function(){U(k._dbInfo,j,function(q,te){if(q)return G(q);try{var oe=te.objectStore(k._dbInfo.storeName),de=oe.count();de.onsuccess=function(){z(de.result)},de.onerror=function(){G(de.error)}}catch(le){G(le)}})}).catch(G)});return b(I,C),I}function $t(C,k){var I=this,z=new x(function(G,q){if(C<0){G(null);return}I.ready().then(function(){U(I._dbInfo,j,function(te,oe){if(te)return q(te);try{var de=oe.objectStore(I._dbInfo.storeName),le=!1,he=de.openKeyCursor();he.onsuccess=function(){var xe=he.result;if(!xe){G(null);return}C===0||le?G(xe.key):(le=!0,xe.advance(C))},he.onerror=function(){q(he.error)}}catch(xe){q(xe)}})}).catch(q)});return b(z,k),z}function wr(C){var k=this,I=new x(function(z,G){k.ready().then(function(){U(k._dbInfo,j,function(q,te){if(q)return G(q);try{var oe=te.objectStore(k._dbInfo.storeName),de=oe.openKeyCursor(),le=[];de.onsuccess=function(){var he=de.result;if(!he){z(le);return}le.push(he.key),he.continue()},de.onerror=function(){G(de.error)}}catch(he){G(he)}})}).catch(G)});return b(I,C),I}function Bs(C,k){k=A.apply(this,arguments);var I=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||I.name,C.storeName=C.storeName||I.storeName);var z=this,G;if(!C.name)G=x.reject("Invalid arguments");else{var q=C.name===I.name&&z._dbInfo.db,te=q?x.resolve(z._dbInfo.db):Pe(C).then(function(oe){var de=V[C.name],le=de.forages;de.db=oe;for(var he=0;he<le.length;he++)le[he]._dbInfo.db=oe;return oe});C.storeName?G=te.then(function(oe){if(oe.objectStoreNames.contains(C.storeName)){var de=oe.version+1;ae(C);var le=V[C.name],he=le.forages;oe.close();for(var xe=0;xe<he.length;xe++){var De=he[xe];De._dbInfo.db=null,De._dbInfo.version=de}var Oe=new x(function(He,ut){var Xe=h.open(C.name,de);Xe.onerror=function(qt){var ci=Xe.result;ci.close(),ut(qt)},Xe.onupgradeneeded=function(){var qt=Xe.result;qt.deleteObjectStore(C.storeName)},Xe.onsuccess=function(){var qt=Xe.result;qt.close(),He(qt)}});return Oe.then(function(He){le.db=He;for(var ut=0;ut<he.length;ut++){var Xe=he[ut];Xe._dbInfo.db=He,_e(Xe._dbInfo)}}).catch(function(He){throw(Ce(C,He)||x.resolve()).catch(function(){}),He})}}):G=te.then(function(oe){ae(C);var de=V[C.name],le=de.forages;oe.close();for(var he=0;he<le.length;he++){var xe=le[he];xe._dbInfo.db=null}var De=new x(function(Oe,He){var ut=h.deleteDatabase(C.name);ut.onerror=function(){var Xe=ut.result;Xe&&Xe.close(),He(ut.error)},ut.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},ut.onsuccess=function(){var Xe=ut.result;Xe&&Xe.close(),Oe(Xe)}});return De.then(function(Oe){de.db=Oe;for(var He=0;He<le.length;He++){var ut=le[He];_e(ut._dbInfo)}}).catch(function(Oe){throw(Ce(C,Oe)||x.resolve()).catch(function(){}),Oe})})}return b(G,k),G}var oa={_driver:"asyncStorage",_initStorage:pe,_support:m(),iterate:ue,getItem:K,setItem:me,removeItem:Re,clear:Me,length:Ye,key:$t,keys:wr,dropInstance:Bs};function Pn(){return typeof openDatabase=="function"}var rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zs="~~local_forage_type~",aa=/^~~local_forage_type~([^~]+)~/,zi="__lfsc__:",Vi=zi.length,Hi="arbf",Gi="blob",la="si08",ua="ui08",Mt="uic8",ca="si16",Vs="si32",Hs="ur16",ji="ui32",da="fl32",Gs="fl64",fa=Vi+Hi.length,ha=Object.prototype.toString;function si(C){var k=C.length*.75,I=C.length,z,G=0,q,te,oe,de;C[C.length-1]==="="&&(k--,C[C.length-2]==="="&&k--);var le=new ArrayBuffer(k),he=new Uint8Array(le);for(z=0;z<I;z+=4)q=rn.indexOf(C[z]),te=rn.indexOf(C[z+1]),oe=rn.indexOf(C[z+2]),de=rn.indexOf(C[z+3]),he[G++]=q<<2|te>>4,he[G++]=(te&15)<<4|oe>>2,he[G++]=(oe&3)<<6|de&63;return le}function Tt(C){var k=new Uint8Array(C),I="",z;for(z=0;z<k.length;z+=3)I+=rn[k[z]>>2],I+=rn[(k[z]&3)<<4|k[z+1]>>4],I+=rn[(k[z+1]&15)<<2|k[z+2]>>6],I+=rn[k[z+2]&63];return k.length%3===2?I=I.substring(0,I.length-1)+"=":k.length%3===1&&(I=I.substring(0,I.length-2)+"=="),I}function Cn(C,k){var I="";if(C&&(I=ha.call(C)),C&&(I==="[object ArrayBuffer]"||C.buffer&&ha.call(C.buffer)==="[object ArrayBuffer]")){var z,G=zi;C instanceof ArrayBuffer?(z=C,G+=Hi):(z=C.buffer,I==="[object Int8Array]"?G+=la:I==="[object Uint8Array]"?G+=ua:I==="[object Uint8ClampedArray]"?G+=Mt:I==="[object Int16Array]"?G+=ca:I==="[object Uint16Array]"?G+=Hs:I==="[object Int32Array]"?G+=Vs:I==="[object Uint32Array]"?G+=ji:I==="[object Float32Array]"?G+=da:I==="[object Float64Array]"?G+=Gs:k(new Error("Failed to get type for BinaryArray"))),k(G+Tt(z))}else if(I==="[object Blob]"){var q=new FileReader;q.onload=function(){var te=zs+C.type+"~"+Tt(this.result);k(zi+Gi+te)},q.readAsArrayBuffer(C)}else try{k(JSON.stringify(C))}catch(te){console.error("Couldn't convert value into a JSON string: ",C),k(null,te)}}function Ot(C){if(C.substring(0,Vi)!==zi)return JSON.parse(C);var k=C.substring(fa),I=C.substring(Vi,fa),z;if(I===Gi&&aa.test(k)){var G=k.match(aa);z=G[1],k=k.substring(G[0].length)}var q=si(k);switch(I){case Hi:return q;case Gi:return v([q],{type:z});case la:return new Int8Array(q);case ua:return new Uint8Array(q);case Mt:return new Uint8ClampedArray(q);case ca:return new Int16Array(q);case Hs:return new Uint16Array(q);case Vs:return new Int32Array(q);case ji:return new Uint32Array(q);case da:return new Float32Array(q);case Gs:return new Float64Array(q);default:throw new Error("Unkown type: "+I)}}var js={serialize:Cn,deserialize:Ot,stringToBuffer:si,bufferToString:Tt};function ma(C,k,I,z){C.executeSql("CREATE TABLE IF NOT EXISTS "+k.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],I,z)}function Su(C){var k=this,I={db:null};if(C)for(var z in C)I[z]=typeof C[z]!="string"?C[z].toString():C[z];var G=new x(function(q,te){try{I.db=openDatabase(I.name,String(I.version),I.description,I.size)}catch(oe){return te(oe)}I.db.transaction(function(oe){ma(oe,I,function(){k._dbInfo=I,q()},function(de,le){te(le)})},te)});return I.serializer=js,G}function Ft(C,k,I,z,G,q){C.executeSql(I,z,G,function(te,oe){oe.code===oe.SYNTAX_ERR?te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[k.storeName],function(de,le){le.rows.length?q(de,oe):ma(de,k,function(){de.executeSql(I,z,G,q)},q)},q):q(te,oe)},q)}function Tr(C,k){var I=this;C=T(C);var z=new x(function(G,q){I.ready().then(function(){var te=I._dbInfo;te.db.transaction(function(oe){Ft(oe,te,"SELECT * FROM "+te.storeName+" WHERE key = ? LIMIT 1",[C],function(de,le){var he=le.rows.length?le.rows.item(0).value:null;he&&(he=te.serializer.deserialize(he)),G(he)},function(de,le){q(le)})})}).catch(q)});return b(z,k),z}function Cr(C,k){var I=this,z=new x(function(G,q){I.ready().then(function(){var te=I._dbInfo;te.db.transaction(function(oe){Ft(oe,te,"SELECT * FROM "+te.storeName,[],function(de,le){for(var he=le.rows,xe=he.length,De=0;De<xe;De++){var Oe=he.item(De),He=Oe.value;if(He&&(He=te.serializer.deserialize(He)),He=C(He,Oe.key,De+1),He!==void 0){G(He);return}}G()},function(de,le){q(le)})})}).catch(q)});return b(z,k),z}function An(C,k,I,z){var G=this;C=T(C);var q=new x(function(te,oe){G.ready().then(function(){k===void 0&&(k=null);var de=k,le=G._dbInfo;le.serializer.serialize(k,function(he,xe){xe?oe(xe):le.db.transaction(function(De){Ft(De,le,"INSERT OR REPLACE INTO "+le.storeName+" (key, value) VALUES (?, ?)",[C,he],function(){te(de)},function(Oe,He){oe(He)})},function(De){if(De.code===De.QUOTA_ERR){if(z>0){te(An.apply(G,[C,de,I,z-1]));return}oe(De)}})})}).catch(oe)});return b(q,I),q}function Ar(C,k,I){return An.apply(this,[C,k,I,1])}function $i(C,k){var I=this;C=T(C);var z=new x(function(G,q){I.ready().then(function(){var te=I._dbInfo;te.db.transaction(function(oe){Ft(oe,te,"DELETE FROM "+te.storeName+" WHERE key = ?",[C],function(){G()},function(de,le){q(le)})})}).catch(q)});return b(z,k),z}function Eu(C){var k=this,I=new x(function(z,G){k.ready().then(function(){var q=k._dbInfo;q.db.transaction(function(te){Ft(te,q,"DELETE FROM "+q.storeName,[],function(){z()},function(oe,de){G(de)})})}).catch(G)});return b(I,C),I}function pa(C){var k=this,I=new x(function(z,G){k.ready().then(function(){var q=k._dbInfo;q.db.transaction(function(te){Ft(te,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(oe,de){var le=de.rows.item(0).c;z(le)},function(oe,de){G(de)})})}).catch(G)});return b(I,C),I}function $s(C,k){var I=this,z=new x(function(G,q){I.ready().then(function(){var te=I._dbInfo;te.db.transaction(function(oe){Ft(oe,te,"SELECT key FROM "+te.storeName+" WHERE id = ? LIMIT 1",[C+1],function(de,le){var he=le.rows.length?le.rows.item(0).key:null;G(he)},function(de,le){q(le)})})}).catch(q)});return b(z,k),z}function Fi(C){var k=this,I=new x(function(z,G){k.ready().then(function(){var q=k._dbInfo;q.db.transaction(function(te){Ft(te,q,"SELECT key FROM "+q.storeName,[],function(oe,de){for(var le=[],he=0;he<de.rows.length;he++)le.push(de.rows.item(he).key);z(le)},function(oe,de){G(de)})})}).catch(G)});return b(I,C),I}function wu(C){return new x(function(k,I){C.transaction(function(z){z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(G,q){for(var te=[],oe=0;oe<q.rows.length;oe++)te.push(q.rows.item(oe).name);k({db:C,storeNames:te})},function(G,q){I(q)})},function(z){I(z)})})}function ga(C,k){k=A.apply(this,arguments);var I=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||I.name,C.storeName=C.storeName||I.storeName);var z=this,G;return C.name?G=new x(function(q){var te;C.name===I.name?te=z._dbInfo.db:te=openDatabase(C.name,"","",0),C.storeName?q({db:te,storeNames:[C.storeName]}):q(wu(te))}).then(function(q){return new x(function(te,oe){q.db.transaction(function(de){function le(Oe){return new x(function(He,ut){de.executeSql("DROP TABLE IF EXISTS "+Oe,[],function(){He()},function(Xe,qt){ut(qt)})})}for(var he=[],xe=0,De=q.storeNames.length;xe<De;xe++)he.push(le(q.storeNames[xe]));x.all(he).then(function(){te()}).catch(function(Oe){oe(Oe)})},function(de){oe(de)})})}):G=x.reject("Invalid arguments"),b(G,k),G}var ya={_driver:"webSQLStorage",_initStorage:Su,_support:Pn(),iterate:Cr,getItem:Tr,setItem:Ar,removeItem:$i,clear:Eu,length:pa,key:$s,keys:Fi,dropInstance:ga};function va(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Nr(C,k){var I=C.name+"/";return C.storeName!==k.storeName&&(I+=C.storeName+"/"),I}function Fs(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function _a(){return!Fs()||localStorage.length>0}function xa(C){var k=this,I={};if(C)for(var z in C)I[z]=C[z];return I.keyPrefix=Nr(C,k._defaultConfig),_a()?(k._dbInfo=I,I.serializer=js,x.resolve()):x.reject()}function Nn(C){var k=this,I=k.ready().then(function(){for(var z=k._dbInfo.keyPrefix,G=localStorage.length-1;G>=0;G--){var q=localStorage.key(G);q.indexOf(z)===0&&localStorage.removeItem(q)}});return b(I,C),I}function bt(C,k){var I=this;C=T(C);var z=I.ready().then(function(){var G=I._dbInfo,q=localStorage.getItem(G.keyPrefix+C);return q&&(q=G.serializer.deserialize(q)),q});return b(z,k),z}function Dt(C,k){var I=this,z=I.ready().then(function(){for(var G=I._dbInfo,q=G.keyPrefix,te=q.length,oe=localStorage.length,de=1,le=0;le<oe;le++){var he=localStorage.key(le);if(he.indexOf(q)===0){var xe=localStorage.getItem(he);if(xe&&(xe=G.serializer.deserialize(xe)),xe=C(xe,he.substring(te),de++),xe!==void 0)return xe}}});return b(z,k),z}function oi(C,k){var I=this,z=I.ready().then(function(){var G=I._dbInfo,q;try{q=localStorage.key(C)}catch{q=null}return q&&(q=q.substring(G.keyPrefix.length)),q});return b(z,k),z}function Js(C){var k=this,I=k.ready().then(function(){for(var z=k._dbInfo,G=localStorage.length,q=[],te=0;te<G;te++){var oe=localStorage.key(te);oe.indexOf(z.keyPrefix)===0&&q.push(oe.substring(z.keyPrefix.length))}return q});return b(I,C),I}function Tu(C){var k=this,I=k.keys().then(function(z){return z.length});return b(I,C),I}function Cu(C,k){var I=this;C=T(C);var z=I.ready().then(function(){var G=I._dbInfo;localStorage.removeItem(G.keyPrefix+C)});return b(z,k),z}function ba(C,k,I){var z=this;C=T(C);var G=z.ready().then(function(){k===void 0&&(k=null);var q=k;return new x(function(te,oe){var de=z._dbInfo;de.serializer.serialize(k,function(le,he){if(he)oe(he);else try{localStorage.setItem(de.keyPrefix+C,le),te(q)}catch(xe){(xe.name==="QuotaExceededError"||xe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&oe(xe),oe(xe)}})})});return b(G,I),G}function Ji(C,k){if(k=A.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var I=this.config();C.name=C.name||I.name,C.storeName=C.storeName||I.storeName}var z=this,G;return C.name?G=new x(function(q){C.storeName?q(Nr(C,z._defaultConfig)):q(C.name+"/")}).then(function(q){for(var te=localStorage.length-1;te>=0;te--){var oe=localStorage.key(te);oe.indexOf(q)===0&&localStorage.removeItem(oe)}}):G=x.reject("Invalid arguments"),b(G,k),G}var Ys={_driver:"localStorageWrapper",_initStorage:xa,_support:va(),iterate:Dt,getItem:bt,setItem:ba,removeItem:Cu,clear:Nn,length:Tu,key:oi,keys:Js,dropInstance:Ji},ai=function(k,I){return k===I||typeof k=="number"&&typeof I=="number"&&isNaN(k)&&isNaN(I)},li=function(k,I){for(var z=k.length,G=0;G<z;){if(ai(k[G],I))return!0;G++}return!1},ui=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},sn={},ht={},On={INDEXEDDB:oa,WEBSQL:ya,LOCALSTORAGE:Ys},Sa=[On.INDEXEDDB._driver,On.WEBSQL._driver,On.LOCALSTORAGE._driver],on=["dropInstance"],Rn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(on),Au={description:"",driver:Sa.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ea(C,k){C[k]=function(){var I=arguments;return C.ready().then(function(){return C[k].apply(C,I)})}}function Rr(){for(var C=1;C<arguments.length;C++){var k=arguments[C];if(k)for(var I in k)k.hasOwnProperty(I)&&(ui(k[I])?arguments[0][I]=k[I].slice():arguments[0][I]=k[I])}return arguments[0]}var Nu=(function(){function C(k){u(this,C);for(var I in On)if(On.hasOwnProperty(I)){var z=On[I],G=z._driver;this[I]=G,sn[G]||this.defineDriver(z)}this._defaultConfig=Rr({},Au),this._config=Rr({},this._defaultConfig,k),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(I){if((typeof I>"u"?"undefined":l(I))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var z in I){if(z==="storeName"&&(I[z]=I[z].replace(/\W/g,"_")),z==="version"&&typeof I[z]!="number")return new Error("Database version must be a number.");this._config[z]=I[z]}return"driver"in I&&I.driver?this.setDriver(this._config.driver):!0}else return typeof I=="string"?this._config[I]:this._config},C.prototype.defineDriver=function(I,z,G){var q=new x(function(te,oe){try{var de=I._driver,le=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!I._driver){oe(le);return}for(var he=Rn.concat("_initStorage"),xe=0,De=he.length;xe<De;xe++){var Oe=he[xe],He=!li(on,Oe);if((He||I[Oe])&&typeof I[Oe]!="function"){oe(le);return}}var ut=function(){for(var ci=function(Dr){return function(){var yn=new Error("Method "+Dr+" is not implemented by the current driver"),kr=x.reject(yn);return b(kr,arguments[arguments.length-1]),kr}},Mr=0,Ks=on.length;Mr<Ks;Mr++){var Qs=on[Mr];I[Qs]||(I[Qs]=ci(Qs))}};ut();var Xe=function(ci){sn[de]&&console.info("Redefining LocalForage driver: "+de),sn[de]=I,ht[de]=ci,te()};"_support"in I?I._support&&typeof I._support=="function"?I._support().then(Xe,oe):Xe(!!I._support):Xe(!0)}catch(qt){oe(qt)}});return E(q,z,G),q},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(I,z,G){var q=sn[I]?x.resolve(sn[I]):x.reject(new Error("Driver not found."));return E(q,z,G),q},C.prototype.getSerializer=function(I){var z=x.resolve(js);return E(z,I),z},C.prototype.ready=function(I){var z=this,G=z._driverSet.then(function(){return z._ready===null&&(z._ready=z._initDriver()),z._ready});return E(G,I,I),G},C.prototype.setDriver=function(I,z,G){var q=this;ui(I)||(I=[I]);var te=this._getSupportedDrivers(I);function oe(){q._config.driver=q.driver()}function de(xe){return q._extend(xe),oe(),q._ready=q._initStorage(q._config),q._ready}function le(xe){return function(){var De=0;function Oe(){for(;De<xe.length;){var He=xe[De];return De++,q._dbInfo=null,q._ready=null,q.getDriver(He).then(de).catch(Oe)}oe();var ut=new Error("No available storage method found.");return q._driverSet=x.reject(ut),q._driverSet}return Oe()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return x.resolve()}):x.resolve();return this._driverSet=he.then(function(){var xe=te[0];return q._dbInfo=null,q._ready=null,q.getDriver(xe).then(function(De){q._driver=De._driver,oe(),q._wrapLibraryMethodsWithReady(),q._initDriver=le(te)})}).catch(function(){oe();var xe=new Error("No available storage method found.");return q._driverSet=x.reject(xe),q._driverSet}),E(this._driverSet,z,G),this._driverSet},C.prototype.supports=function(I){return!!ht[I]},C.prototype._extend=function(I){Rr(this,I)},C.prototype._getSupportedDrivers=function(I){for(var z=[],G=0,q=I.length;G<q;G++){var te=I[G];this.supports(te)&&z.push(te)}return z},C.prototype._wrapLibraryMethodsWithReady=function(){for(var I=0,z=Rn.length;I<z;I++)Ea(this,Rn[I])},C.prototype.createInstance=function(I){return new C(I)},C})(),Ir=new Nu;s.exports=Ir},{3:3}]},{},[4])(4)})})(Bd)),Bd.exports}var Pw=Uw();const Ow=fu(Pw),C0=Ow.createInstance({name:"3d2-store",storeName:"images"}),jo=new Map;function Lw(t=6){const e="abcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let s=0;s<t;s++)i+=e[Math.floor(Math.random()*e.length)];return i}async function A0(t){const e=`img-${Date.now()}-${Lw()}`;return await C0.setItem(e,t),e}async function qw(t){const i=await(await fetch(t)).blob();return A0(i)}async function Bw(t){try{return await C0.getItem(t)??null}catch{return null}}async function zw(t){if(jo.has(t))return jo.get(t);const e=await Bw(t);if(!e)return null;const i=URL.createObjectURL(e);return jo.set(t,i),i}function Vw(t){const e=jo.get(t);e&&(URL.revokeObjectURL(e),jo.delete(t))}const br=({src:t,storageKey:e,showError:i,...s})=>{const[o,l]=Jl.useState(void 0),[u,d]=Jl.useState(!1);Jl.useEffect(()=>{let b=!0,E=null;async function T(){let A=e;if(!A&&t&&t.startsWith("lf:")&&(A=t.slice(3)),A){E=A;const N=await zw(A);b&&(l(N??void 0),d(!1))}else t&&t.startsWith("lf:")?l(void 0):l(t),d(!1)}return T(),()=>{b=!1,E&&Vw(E)}},[t,e]);const m="/placeholder.svg";if(!o)return _.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[_.jsx("img",{src:m,...s,alt:s.alt}),i?_.jsx("div",{style:{position:"absolute",bottom:4,right:4,background:"rgba(220,38,38,0.9)",color:"#fff",padding:"2px 6px",borderRadius:4,fontSize:12},children:"Error al cargar"}):null]});const v=s.onError,x=b=>{b.currentTarget.src=m,d(!0),typeof v=="function"&&v(b)};return _.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[_.jsx("img",{src:o,onError:x,...s}),i&&u?_.jsx("div",{style:{position:"absolute",bottom:4,right:4,background:"rgba(220,38,38,0.9)",color:"#fff",padding:"2px 6px",borderRadius:4,fontSize:12},children:"Error al cargar"}):null]})};async function eu(t,e=""){const s=new TextEncoder().encode(e+t),o=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(o)).map(d=>d.toString(16).padStart(2,"0")).join("")}function ey(t=!1,e){if(t){if(localStorage.setItem("admin_authenticated","1"),e&&e>0){const i=Date.now()+e*24*60*60*1e3;localStorage.setItem("admin_auth_expires",String(i))}else localStorage.removeItem("admin_auth_expires");sessionStorage.removeItem("admin_authenticated")}else sessionStorage.setItem("admin_authenticated","1"),sessionStorage.removeItem("admin_auth_expires")}function N0(){try{sessionStorage.removeItem("admin_authenticated")}catch{}try{localStorage.removeItem("admin_authenticated"),localStorage.removeItem("admin_auth_expires")}catch{}}function tu(){try{if(sessionStorage.getItem("admin_authenticated")==="1")return!0}catch{}try{if(localStorage.getItem("admin_authenticated")!=="1")return!1;const e=localStorage.getItem("admin_auth_expires");if(!e)return!0;const i=Number(e);return Number.isNaN(i)?!0:Date.now()>i?(N0(),!1):!0}catch{return!1}}const ra="admin_failed_attempts",ks="admin_lock_until";function R0(){try{const t=localStorage.getItem(ra);return t&&Number(t)||0}catch{return 0}}function rf(){try{localStorage.removeItem(ra),localStorage.removeItem(ks)}catch{}}function Hw(){try{const t=localStorage.getItem(ks);if(!t)return null;const e=Number(t);return Number.isNaN(e)?null:e}catch{return null}}function ty(){const t=Hw();return t?Date.now()>t?(rf(),{locked:!1}):{locked:!0,until:t}:{locked:!1}}function Gw(t=4,e=30){try{const s=R0()+1;if(localStorage.setItem(ra,String(s)),s>=t){const o=Date.now()+e*60*1e3;return localStorage.setItem(ks,String(o)),{attempts:s,locked:!0,until:o}}return{attempts:s,locked:!1}}catch{return{attempts:0,locked:!1}}}function Ko(t,e){return`${t}_${encodeURIComponent(e)}`}function nu(t){try{localStorage.removeItem(Ko(ra,t)),localStorage.removeItem(Ko(ks,t))}catch{}}function jw(t){try{const e=localStorage.getItem(Ko(ks,t));if(!e)return null;const i=Number(e);return Number.isNaN(i)?null:i}catch{return null}}function sf(t){const e=jw(t);return e?Date.now()>e?(nu(t),{locked:!1}):{locked:!0,until:e}:{locked:!1}}function $w(t,e=4,i=30){try{const s=Ko(ra,t),l=(Number(localStorage.getItem(s))||0)+1;if(localStorage.setItem(s,String(l)),l>=e){const u=Date.now()+i*60*1e3;return localStorage.setItem(Ko(ks,t),String(u)),{attempts:l,locked:!0,until:u}}return{attempts:l,locked:!1}}catch{return{attempts:0,locked:!1}}}const xr="current_user",Qo="current_user_expires";function Fw(t,e=!1,i){try{e?(localStorage.setItem(xr,t),i&&i>0||localStorage.removeItem(Qo)):(sessionStorage.setItem(xr,t),sessionStorage.removeItem(Qo))}catch{}}function Jw(){try{const t=sessionStorage.getItem(xr);if(t)return t;const e=localStorage.getItem(xr);if(!e)return null;const i=localStorage.getItem(Qo);if(!i)return e;const s=Number(i);return Number.isNaN(s)?e:Date.now()>s?(localStorage.removeItem(xr),localStorage.removeItem(Qo),null):e}catch{return null}}function Yw(){try{sessionStorage.removeItem(xr)}catch{}try{localStorage.removeItem(xr),localStorage.removeItem(Qo)}catch{}}const Kw=({cartCount:t,onOpenCart:e,onGoHome:i,onOpenAdmin:s,onRegister:o,onLogin:l,currentUser:u,onLogoutUser:d,onCategorySelect:h})=>{const[m,v]=O.useState(!1);return _.jsxs("nav",{className:"sticky top-0 z-40 w-full bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm",children:[_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between items-center h-24",children:[_.jsxs("div",{className:"flex items-center cursor-pointer group gap-4",onClick:i,children:[_.jsxs("div",{className:"relative h-16 w-16 flex items-center justify-center flex-shrink-0",children:[_.jsx("div",{className:"absolute -inset-2 bg-gradient-to-tr from-cyan-400 via-indigo-500 to-purple-600 rounded-full blur-md opacity-40 group-hover:opacity-75 transition-opacity duration-500"}),_.jsx("div",{className:"absolute -inset-[2px] rounded-full bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 animate-[spin_3s_linear_infinite]"}),_.jsx("div",{className:"relative h-full w-full rounded-full bg-white z-10 flex items-center justify-center border-[2px] border-white overflow-hidden",children:_.jsx(br,{src:"/LOGO.jpg",alt:"3D2 Logo",className:"h-full w-full object-contain p-1"})})]}),_.jsxs("div",{className:"flex flex-col justify-center",children:[_.jsx("h1",{className:"text-2xl font-black tracking-wider text-slate-900 leading-none group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-indigo-600 group-hover:to-purple-600 transition-all",children:"3D2"}),_.jsx("span",{className:"text-xs font-semibold text-indigo-600 tracking-widest uppercase",children:"Print & Laser"})]})]}),_.jsxs("div",{className:"hidden md:flex space-x-8 text-sm font-medium text-slate-600",children:[_.jsx("button",{onClick:()=>{i(),h==null||h("Destacados")},className:"hover:text-indigo-600 transition-colors",children:"Inicio"}),_.jsx("button",{onClick:()=>{i(),h==null||h("3D")},className:"hover:text-indigo-600 transition-colors",children:"Impresin 3D"}),_.jsx("button",{onClick:()=>{i(),h==null||h("Lser")},className:"hover:text-indigo-600 transition-colors",children:"Corte Lser"}),_.jsx("button",{onClick:()=>{i(),h==null||h("Personalizados")},className:"hover:text-indigo-600 transition-colors",children:"Personalizados"}),u?_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Hola, ",u]}),_.jsx("button",{onClick:d,className:"text-sm text-slate-500",children:"Cerrar"})]}):_.jsx("button",{onClick:l,className:"hover:text-indigo-600 transition-colors",children:"Ingresar"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[s&&tu()&&_.jsx("button",{onClick:s,title:"Admin",className:"hidden md:inline-flex items-center gap-2 px-3 py-2 bg-amber-50 text-amber-700 rounded-lg hover:bg-amber-100",children:"Admin"}),u?d&&_.jsx("button",{onClick:d,title:"Cerrar sesin",className:"hidden md:inline-flex items-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100",children:"Cerrar sesin"}):l&&_.jsx("button",{onClick:l,title:"Ingresar",className:"hidden md:inline-flex items-center gap-2 px-3 py-2 bg-sky-50 text-sky-700 rounded-lg hover:bg-sky-100",children:"Ingresar"}),_.jsxs("button",{onClick:e,className:"relative p-2 text-slate-900 hover:bg-slate-100 rounded-full transition-all group",children:[_.jsx(w0,{size:24,strokeWidth:2,className:"group-hover:text-indigo-600 transition-colors"}),t>0&&_.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/4 -translate-y-1/4 bg-indigo-600 rounded-full shadow-sm",children:t})]}),_.jsx("button",{onClick:()=>v(!m),className:"md:hidden p-2 text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:_.jsx(hw,{size:24})})]})]})}),m&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:()=>v(!1)}),_.jsx("div",{className:"fixed inset-y-0 right-0 w-72 bg-white shadow-2xl z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[_.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Men"}),_.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(ia,{size:24})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[_.jsx("button",{onClick:()=>{i(),h==null||h("Destacados"),v(!1)},className:"w-full text-left px-4 py-3 text-slate-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors font-medium",children:"Inicio"}),_.jsx("button",{onClick:()=>{i(),h==null||h("3D"),v(!1)},className:"w-full text-left px-4 py-3 text-slate-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors font-medium",children:"Impresin 3D"}),_.jsx("button",{onClick:()=>{i(),h==null||h("Lser"),v(!1)},className:"w-full text-left px-4 py-3 text-slate-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors font-medium",children:"Corte Lser"}),_.jsx("button",{onClick:()=>{i(),h==null||h("Personalizados"),v(!1)},className:"w-full text-left px-4 py-3 text-slate-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors font-medium",children:"Personalizados"}),_.jsx("div",{className:"border-t border-gray-200 my-4"}),u?_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"px-4 py-2 bg-indigo-50 rounded-lg",children:[_.jsx("p",{className:"text-xs text-slate-500",children:"Conectado como"}),_.jsx("p",{className:"font-medium text-slate-900",children:u})]}),d&&_.jsx("button",{onClick:()=>{d(),v(!1)},className:"w-full text-left px-4 py-3 bg-red-50 text-red-700 hover:bg-red-100 rounded-lg transition-colors font-medium",children:"Cerrar Sesin"})]}):l&&_.jsx("button",{onClick:()=>{l(),v(!1)},className:"w-full text-left px-4 py-3 bg-sky-50 text-sky-700 hover:bg-sky-100 rounded-lg transition-colors font-medium",children:"Ingresar"}),s&&tu()&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"border-t border-gray-200 my-4"}),_.jsx("button",{onClick:()=>{s(),v(!1)},className:"w-full text-left px-4 py-3 bg-amber-50 text-amber-700 hover:bg-amber-100 rounded-lg transition-colors font-medium",children:"Panel Admin"})]})]})]})})]})]})},Qw=({product:t,onAddToCart:e})=>{const i=O.useMemo(()=>t.images&&t.images.length>0?t.images:t.image?[{url:t.image}]:[],[t]),[s,o]=O.useState(0),l=d=>{d.preventDefault(),d.stopPropagation(),o(h=>(h-1+i.length)%i.length)},u=d=>{d.preventDefault(),d.stopPropagation(),o(h=>(h+1)%i.length)};return _.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col h-full",children:[_.jsxs("div",{className:"relative h-64 overflow-hidden bg-white p-8 flex items-center justify-center",children:[i.length>0&&_.jsx(br,{src:i[s].url,storageKey:i[s].storageKey,alt:t.name,className:"max-h-full max-w-full object-contain",loading:"lazy",showError:!0}),_.jsx("div",{className:"absolute top-3 left-3",children:_.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur text-xs font-bold uppercase tracking-wider rounded-full text-slate-800 shadow-sm",children:t.category})}),t.featured&&_.jsx("div",{className:"absolute top-3 right-3",children:_.jsxs("span",{className:"px-2.5 py-1 bg-yellow-300/90 text-yellow-900 text-xs font-bold rounded-full shadow-sm flex items-center gap-1",children:[_.jsx(Aw,{size:12,className:"text-yellow-900"}),"Destacado"]})}),i.length>1&&_.jsxs(_.Fragment,{children:[_.jsx("button",{"aria-label":"Anterior",onClick:l,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-slate-700 rounded-full h-8 w-8 flex items-center justify-center shadow",children:""}),_.jsx("button",{"aria-label":"Siguiente",onClick:u,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-slate-700 rounded-full h-8 w-8 flex items-center justify-center shadow",children:""})]}),i.length>1&&_.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2",children:i.map((d,h)=>_.jsx("button",{onClick:m=>{m.preventDefault(),m.stopPropagation(),o(h)},className:`h-2.5 w-2.5 rounded-full ${h===s?"bg-white":"bg-white/50"} border border-white/60`},h))})]}),t.images&&t.images.length>1&&_.jsx("div",{className:"px-4 pt-3 flex gap-2 items-center",children:t.images.map((d,h)=>_.jsx("button",{title:d.color||`Variante ${h+1}`,onClick:m=>{m.preventDefault(),m.stopPropagation(),o(h)},className:`h-10 w-10 rounded-lg border ${h===s?"border-indigo-500":"border-gray-200"} overflow-hidden bg-white p-1 flex items-center justify-center`,children:_.jsx(br,{src:d.url,storageKey:d.storageKey,alt:d.color||`var-${h+1}`,className:"max-h-full max-w-full object-contain",showError:!0})},h))}),_.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-1",children:t.name}),_.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:["$",t.price]})]}),t.stock!==void 0&&_.jsx("div",{className:"mb-2",children:t.stock===0?_.jsx("span",{className:"inline-block px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Agotado"}):t.stock<5?_.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded",children:"Pocas unidades!"}):_.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Disponible"})}),_.jsx("p",{className:"text-sm text-slate-500 mb-6 line-clamp-2 flex-grow",children:t.description}),_.jsxs("button",{onClick:()=>e({...t,image:i[s].url?i[s].url:i[s].storageKey?`lf:${i[s].storageKey}`:t.image}),disabled:t.stock===0,className:`w-full py-3 px-4 font-medium rounded-xl flex items-center justify-center gap-2 transition-all duration-200 ease-out ${t.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-slate-900 text-white hover:bg-indigo-600 hover:scale-[1.02] hover:shadow-lg active:scale-95 active:bg-indigo-700"}`,children:[_.jsx(E0,{size:18}),t.stock===0?"Agotado":"Agregar al Carrito"]})]})]})},zd={},Xw="https://sdk.mercadopago.com/js/v2";async function Ww(){if(window.MercadoPago)return window.MercadoPago;if(await new Promise((t,e)=>{const i=document.createElement("script");i.src=Xw,i.onload=()=>t(),i.onerror=()=>e(new Error("No se pudo cargar el SDK de Mercado Pago")),document.head.appendChild(i)}),!window.MercadoPago)throw new Error("SDK Mercado Pago no disponible tras carga.");return window.MercadoPago}function Zw(){const t=zd==null?void 0:zd.VITE_MP_PUBLIC_KEY;if(!t)throw new Error("Falta VITE_MP_PUBLIC_KEY en entorno.");return new window.MercadoPago(t,{locale:"es-AR"})}async function eT(t){try{const e=await fetch("/api/mp/preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})});if(!e.ok)throw new Error("Backend preference error");const i=await e.json();if(!i.preferenceId)throw new Error("Respuesta sin preferenceId");return i.preferenceId}catch(e){throw console.warn("createPreference fallback (sin backend):",e),new Error("No se pudo crear la preferencia. Configura backend.")}}async function tT(t){await Ww();const e=Zw(),i=await eT(t);e.checkout({preference:{id:i},autoOpen:!0,render:{container:null}})}const Vd={},nT=({isOpen:t,onClose:e,items:i,onRemoveItem:s,onUpdateQuantity:o,onCheckout:l})=>{const u=i.reduce((T,A)=>T+A.price*A.quantity,0),[d,h]=O.useState(!1),[m,v]=O.useState(null),b=!!(Vd==null?void 0:Vd.VITE_MP_PUBLIC_KEY),E=async()=>{if(i.length!==0){if(!b){v("Falta VITE_MP_PUBLIC_KEY en .env.local");return}v(null),h(!0);try{const T=i.map(A=>({id:String(A.id),title:A.name,quantity:A.quantity,unit_price:A.price}));await tT(T)}catch(T){v(T.message||"Error Mercado Pago")}finally{h(!1)}}};return t?_.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm transition-opacity",onClick:e}),_.jsx("div",{className:"absolute inset-y-0 right-0 max-w-md w-full flex",children:_.jsxs("div",{className:"h-full w-full bg-white shadow-2xl flex flex-col animate-slide-in-right",children:[_.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[_.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[_.jsx(Qg,{size:20,className:"text-indigo-600"}),"Tu Carrito"]}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-slate-500",children:_.jsx(ia,{size:20})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:i.length===0?_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-60",children:[_.jsx(Qg,{size:64,className:"text-slate-300"}),_.jsx("p",{className:"text-lg font-medium text-slate-600",children:"Tu carrito est vaco"}),_.jsx("button",{onClick:e,className:"text-indigo-600 font-medium hover:underline",children:"Continuar comprando"})]}):i.map(T=>_.jsxs("div",{className:"flex gap-4 group",children:[_.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-xl border border-gray-200",children:_.jsx(br,{src:T.image,alt:T.name,className:"h-full w-full object-cover",showError:!0})}),_.jsxs("div",{className:"flex flex-1 flex-col",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-base font-medium text-slate-900",children:[_.jsx("h3",{className:"line-clamp-1",children:T.name}),_.jsxs("p",{className:"ml-4",children:["$",(T.price*T.quantity).toFixed(2)]})]}),_.jsx("p",{className:"mt-1 text-sm text-slate-500",children:T.category})]}),_.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[_.jsxs("div",{className:"flex items-center border border-gray-200 rounded-lg",children:[_.jsx("button",{onClick:()=>o(T.id,-1),className:"px-3 py-1 hover:bg-gray-100 text-slate-600",disabled:T.quantity<=1,children:"-"}),_.jsx("span",{className:"px-2 font-medium text-slate-900",children:T.quantity}),_.jsx("button",{onClick:()=>o(T.id,1),className:"px-3 py-1 hover:bg-gray-100 text-slate-600",children:"+"})]}),_.jsxs("button",{type:"button",onClick:()=>s(T.id),className:"font-medium text-red-500 hover:text-red-700 flex items-center gap-1",children:[_.jsx(T0,{size:14}),"Eliminar"]})]})]})]},T.id))}),i.length>0&&_.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 px-6 py-6 space-y-4",children:[_.jsxs("div",{className:"flex justify-between text-base font-medium text-slate-900",children:[_.jsx("p",{children:"Subtotal"}),_.jsxs("p",{children:["$",u.toFixed(2)]})]}),_.jsx("p",{className:"mt-0.5 text-sm text-slate-500",children:"Envo e impuestos calculados al pagar."}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 rounded-xl border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-lg hover:bg-indigo-700 transition-all active:scale-[0.98]",children:["Pagar Interno ",_.jsx(JE,{size:18})]}),_.jsxs("button",{onClick:E,disabled:d||!b,className:`w-full flex items-center justify-center gap-2 rounded-xl border bg-white px-6 py-3 text-base font-medium shadow transition-all active:scale-[0.98] disabled:opacity-50 ${b?"text-indigo-600 hover:bg-indigo-50":"text-slate-400 bg-slate-100 cursor-not-allowed"}`,children:[d?"Conectando...":"Mercado Pago"," ",_.jsx(ef,{size:18})]}),m&&_.jsx("p",{className:"text-xs text-red-600",children:m}),!m&&!b&&_.jsx("p",{className:"text-xs text-amber-600",children:"Configura VITE_MP_PUBLIC_KEY para habilitar Mercado Pago."}),_.jsx("p",{className:"text-[11px] text-slate-500 leading-snug",children:"Tus datos de tarjeta se ingresan de forma segura en la plataforma de Mercado Pago. Nosotros no almacenamos informacin sensible."})]})]})]})})]}):null};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iT,rT;function sT(){return{geminiUrl:iT,vertexUrl:rT}}function oT(t,e,i,s){var o,l;if(!(t!=null&&t.baseUrl)){const u=sT();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:i:(l=u.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function ge(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function p(t,e,i){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(i))t[d]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const h=t[d];if(Array.isArray(i))for(let m=0;m<h.length;m++){const v=h[m];p(v,e.slice(l+1),i[m])}else for(const m of h)p(m,e.slice(l+1),i)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const h=t[d];p(h[0],e.slice(l+1),i);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const s=e[e.length-1],o=t[s];if(o!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===o)return;if(typeof o=="object"&&typeof i=="object"&&o!==null&&i!==null)Object.assign(o,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[s]=i}function f(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return i;const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(d=>f(d,e.slice(s+1),i)):i}else return i}else t=t[o]}return t}catch(s){if(s instanceof TypeError)return i;throw s}}function aT(t,e){for(const[i,s]of Object.entries(e)){const o=i.split("."),l=s.split("."),u=new Set;let d=-1;for(let h=0;h<o.length;h++)if(o[h]==="*"){d=h;break}if(d!==-1&&l.length>d)for(let h=d;h<l.length;h++){const m=l[h];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&u.add(m)}of(t,o,l,0,u)}}function of(t,e,i,s,o){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const h of d[u])of(h,e,i,s+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(m=>!m.startsWith("_")&&!o.has(m)),h={};for(const m of d)h[m]=u[m];for(const[m,v]of Object.entries(h)){const x=[];for(const b of i.slice(s))b==="*"?x.push(m):x.push(b);p(u,x,v)}for(const m of d)delete u[m]}}else{const u=t;l in u&&of(u[l],e,i,s+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(t){const e={},i=f(t,["operationName"]);i!=null&&p(e,["operationName"],i);const s=f(t,["resourceName"]);return s!=null&&p(e,["_url","resourceName"],s),e}function uT(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],dT(u)),e}function cT(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["response"]);return u!=null&&p(e,["response"],fT(u)),e}function dT(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>hT(u))),p(e,["generatedVideos"],l)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function fT(t){const e={},i=f(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>mT(u))),p(e,["generatedVideos"],l)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function hT(t){const e={},i=f(t,["video"]);return i!=null&&p(e,["video"],xT(i)),e}function mT(t){const e={},i=f(t,["_self"]);return i!=null&&p(e,["video"],bT(i)),e}function pT(t){const e={},i=f(t,["operationName"]);return i!=null&&p(e,["_url","operationName"],i),e}function gT(t){const e={},i=f(t,["operationName"]);return i!=null&&p(e,["_url","operationName"],i),e}function yT(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["response"]);return u!=null&&p(e,["response"],vT(u)),e}function vT(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&p(e,["parent"],s);const o=f(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function I0(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["response"]);return u!=null&&p(e,["response"],_T(u)),e}function _T(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&p(e,["parent"],s);const o=f(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function xT(t){const e={},i=f(t,["uri"]);i!=null&&p(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&p(e,["videoBytes"],Lf(s));const o=f(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function bT(t){const e={},i=f(t,["gcsUri"]);i!=null&&p(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&p(e,["videoBytes"],Lf(s));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ny;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ny||(ny={}));var iy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(iy||(iy={}));var ry;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ry||(ry={}));var Oi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Oi||(Oi={}));var sy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sy||(sy={}));var oy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(oy||(oy={}));var ay;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ay||(ay={}));var ly;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ly||(ly={}));var uy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(uy||(uy={}));var cy;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(cy||(cy={}));var dy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dy||(dy={}));var fy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(fy||(fy={}));var hy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(hy||(hy={}));var my;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(my||(my={}));var py;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(py||(py={}));var gy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gy||(gy={}));var yy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yy||(yy={}));var vy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(vy||(vy={}));var _y;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_y||(_y={}));var iu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(iu||(iu={}));var xy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xy||(xy={}));var by;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(by||(by={}));var Sy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sy||(Sy={}));var af;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(af||(af={}));var Ey;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ey||(Ey={}));var wy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wy||(wy={}));var Ty;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ty||(Ty={}));var Cy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Cy||(Cy={}));var Ay;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ay||(Ay={}));var Ny;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ny||(Ny={}));var Ry;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Ry||(Ry={}));var Iy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Iy||(Iy={}));var My;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(My||(My={}));var Dy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Dy||(Dy={}));var ky;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ky||(ky={}));var Uy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Uy||(Uy={}));var Py;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Py||(Py={}));var Oy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Oy||(Oy={}));var Ly;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ly||(Ly={}));var qy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(qy||(qy={}));var By;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(By||(By={}));var zy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zy||(zy={}));var Vy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Vy||(Vy={}));var Hy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Hy||(Hy={}));var Gy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Gy||(Gy={}));var jy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(jy||(jy={}));var $y;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})($y||($y={}));var Fy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Fy||(Fy={}));var Jy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jy||(Jy={}));var Yy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yy||(Yy={}));var Ky;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ky||(Ky={}));var Qy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qy||(Qy={}));var Xy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Xy||(Xy={}));var Wy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Wy||(Wy={}));var ws;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ws||(ws={}));class lf{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ho{get text(){var e,i,s,o,l,u,d,h;if(((o=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const x=[];for(const b of(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[E,T]of Object.entries(b))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(T!==null||T!==void 0)&&x.push(E);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;v=!0,m+=b.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,i,s,o,l,u,d,h;if(((o=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const x of(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[b,E]of Object.entries(x))b!=="inlineData"&&(E!==null||E!==void 0)&&v.push(b);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,s,o,l,u,d,h;if(((o=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,s,o,l,u,d,h,m;if(((o=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,s,o,l,u,d,h,m;if(((o=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Zy{}class ev{}class ST{}class ET{}class wT{}class TT{}class tv{}class nv{}class iv{}class CT{}class ru{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new ru;let o;const l=e;return i?o=cT(l):o=uT(l),Object.assign(s,o),s}}class rv{}class sv{}class ov{}class AT{}class NT{}class RT{}class qf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new qf,l=yT(e);return Object.assign(s,l),s}}class IT{}class MT{}class DT{}class av{}class kT{get text(){var e,i,s;let o="",l=!1;const u=[];for(const d of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[h,m]of Object.entries(d))h!=="text"&&h!=="thought"&&m!==null&&u.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,o+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,i,s;let o="";const l=[];for(const u of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[d,h]of Object.entries(u))d!=="inlineData"&&h!==null&&l.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class UT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Bf,l=I0(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function M0(t,e){const i=$e(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function D0(t){return Array.isArray(t)?t.map(e=>su(e)):[su(t)]}function su(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function k0(t){const e=su(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function U0(t){const e=su(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function lv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function P0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>lv(e)):[lv(t)]}function uf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function uv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function cv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Pt(t){if(t==null)throw new Error("ContentUnion is required");return uf(t)?t:{role:"user",parts:P0(t)}}function zf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=Pt(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=Pt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Pt(i)):[Pt(e)]}function pn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(uv(t)||cv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pt(t)]}const e=[],i=[],s=uf(t[0]);for(const o of t){const l=uf(o);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(uv(o)||cv(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return s||e.push({role:"user",parts:P0(i)}),e}function PT(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(Oi).includes(i[0].toUpperCase())?i[0].toUpperCase():Oi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(Oi).includes(s.toUpperCase())?s.toUpperCase():Oi.TYPE_UNSPECIFIED})}}function Ts(t){const e={},i=["items"],s=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&PT(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Oi).includes(d.toUpperCase())?d.toUpperCase():Oi.TYPE_UNSPECIFIED}else if(i.includes(u))e[u]=Ts(d);else if(s.includes(u)){const h=[];for(const m of d){if(m.type=="null"){e.nullable=!0;continue}h.push(Ts(m))}e[u]=h}else if(o.includes(u)){const h={};for(const[m,v]of Object.entries(d))h[m]=Ts(v);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Vf(t){return Ts(t)}function Hf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Gf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Us(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ts(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ts(e.response));return t}function Ps(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function OT(t,e,i,s=1){const o=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:o?`${i}/${e}`:e}function ri(t,e){if(typeof e!="string")throw new Error("name must be a string");return OT(t,e,"cachedContents")}function O0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function qi(t){return Lf(t)}function LT(t){return t!=null&&typeof t=="object"&&"name"in t}function qT(t){return t!=null&&typeof t=="object"&&"video"in t}function BT(t){return t!=null&&typeof t=="object"&&"uri"in t}function L0(t){var e;let i;if(LT(t)&&(i=t.name),!(BT(t)&&(i=t.uri,i===void 0))&&!(qT(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function q0(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function B0(t){for(const e of["models","tunedModels","publisherModels"])if(zT(t,e))return t[e];return[]}function zT(t,e){return t!==null&&typeof t=="object"&&e in t}function VT(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function HT(t,e={}){const i=[],s=new Set;for(const o of t){const l=o.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const u=VT(o,e);u.functionDeclarations&&i.push(...u.functionDeclarations)}return{functionDeclarations:i}}function z0(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,o=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function GT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function V0(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const o=i.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Os(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function H0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(t){const e={},i=f(t,["responsesFile"]);i!=null&&p(e,["fileName"],i);const s=f(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>wC(u))),p(e,["inlinedResponses"],l)}const o=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["inlinedEmbedContentResponses"],l)}return e}function $T(t){const e={},i=f(t,["predictionsFormat"]);i!=null&&p(e,["format"],i);const s=f(t,["gcsDestination","outputUriPrefix"]);s!=null&&p(e,["gcsUri"],s);const o=f(t,["bigqueryDestination","outputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function FT(t){const e={},i=f(t,["format"]);i!=null&&p(e,["predictionsFormat"],i);const s=f(t,["gcsUri"]);s!=null&&p(e,["gcsDestination","outputUriPrefix"],s);const o=f(t,["bigqueryUri"]);if(o!=null&&p(e,["bigqueryDestination","outputUri"],o),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Xl(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata","displayName"]);s!=null&&p(e,["displayName"],s);const o=f(t,["metadata","state"]);o!=null&&p(e,["state"],H0(o));const l=f(t,["metadata","createTime"]);l!=null&&p(e,["createTime"],l);const u=f(t,["metadata","endTime"]);u!=null&&p(e,["endTime"],u);const d=f(t,["metadata","updateTime"]);d!=null&&p(e,["updateTime"],d);const h=f(t,["metadata","model"]);h!=null&&p(e,["model"],h);const m=f(t,["metadata","output"]);return m!=null&&p(e,["dest"],jT(V0(m))),e}function cf(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["displayName"]);s!=null&&p(e,["displayName"],s);const o=f(t,["state"]);o!=null&&p(e,["state"],H0(o));const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["createTime"]);u!=null&&p(e,["createTime"],u);const d=f(t,["startTime"]);d!=null&&p(e,["startTime"],d);const h=f(t,["endTime"]);h!=null&&p(e,["endTime"],h);const m=f(t,["updateTime"]);m!=null&&p(e,["updateTime"],m);const v=f(t,["model"]);v!=null&&p(e,["model"],v);const x=f(t,["inputConfig"]);x!=null&&p(e,["src"],JT(x));const b=f(t,["outputConfig"]);b!=null&&p(e,["dest"],$T(V0(b)));const E=f(t,["completionStats"]);return E!=null&&p(e,["completionStats"],E),e}function JT(t){const e={},i=f(t,["instancesFormat"]);i!=null&&p(e,["format"],i);const s=f(t,["gcsSource","uris"]);s!=null&&p(e,["gcsUri"],s);const o=f(t,["bigquerySource","inputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function YT(t,e){const i={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(e,["fileName"]);s!=null&&p(i,["fileName"],s);const o=f(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>EC(t,u))),p(i,["requests","requests"],l)}return i}function KT(t){const e={},i=f(t,["format"]);i!=null&&p(e,["instancesFormat"],i);const s=f(t,["gcsUri"]);s!=null&&p(e,["gcsSource","uris"],s);const o=f(t,["bigqueryUri"]);if(o!=null&&p(e,["bigquerySource","inputUri"],o),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function QT(t){const e={},i=f(t,["data"]);if(i!=null&&p(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function XT(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],Os(t,s)),i}function WT(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],Os(t,s)),i}function ZT(t){const e={},i=f(t,["content"]);i!=null&&p(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&p(e,["citationMetadata"],eC(s));const o=f(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const l=f(t,["finishReason"]);l!=null&&p(e,["finishReason"],l);const u=f(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=f(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const h=f(t,["index"]);h!=null&&p(e,["index"],h);const m=f(t,["logprobsResult"]);m!=null&&p(e,["logprobsResult"],m);const v=f(t,["safetyRatings"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(E=>E)),p(e,["safetyRatings"],b)}const x=f(t,["urlContextMetadata"]);return x!=null&&p(e,["urlContextMetadata"],x),e}function eC(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),p(e,["citations"],s)}return e}function G0(t){const e={},i=f(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>MC(l))),p(e,["parts"],o)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function tC(t,e){const i={},s=f(t,["displayName"]);if(e!==void 0&&s!=null&&p(e,["batch","displayName"],s),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function nC(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const o=f(t,["dest"]);return e!==void 0&&o!=null&&p(e,["outputConfig"],FT(GT(o))),i}function dv(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["src"]);o!=null&&p(i,["batch","inputConfig"],YT(t,z0(t,o)));const l=f(e,["config"]);return l!=null&&tC(l,i),i}function iC(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["model"],$e(t,s));const o=f(e,["src"]);o!=null&&p(i,["inputConfig"],KT(z0(t,o)));const l=f(e,["config"]);return l!=null&&nC(l,i),i}function rC(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&p(e,["batch","displayName"],s),i}function sC(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["src"]);o!=null&&p(i,["batch","inputConfig"],fC(t,o));const l=f(e,["config"]);return l!=null&&rC(l,i),i}function oC(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],Os(t,s)),i}function aC(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],Os(t,s)),i}function lC(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);return l!=null&&p(e,["error"],l),e}function uC(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);return l!=null&&p(e,["error"],l),e}function cC(t,e){const i={},s=f(e,["contents"]);if(s!=null){let l=zf(t,s);Array.isArray(l)&&(l=l.map(u=>u)),p(i,["requests[]","request","content"],l)}const o=f(e,["config"]);return o!=null&&(p(i,["_self"],dC(o,i)),aT(i,{"requests[].*":"requests[].request.*"})),i}function dC(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&p(e,["requests[]","taskType"],s);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&p(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function fC(t,e){const i={},s=f(e,["fileName"]);s!=null&&p(i,["file_name"],s);const o=f(e,["inlinedRequests"]);return o!=null&&p(i,["requests"],cC(t,o)),i}function hC(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function mC(t){const e={},i=f(t,["id"]);i!=null&&p(e,["id"],i);const s=f(t,["args"]);s!=null&&p(e,["args"],s);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pC(t){const e={},i=f(t,["mode"]);i!=null&&p(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&p(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gC(t,e,i){const s={},o=f(e,["systemInstruction"]);i!==void 0&&o!=null&&p(i,["systemInstruction"],G0(Pt(o)));const l=f(e,["temperature"]);l!=null&&p(s,["temperature"],l);const u=f(e,["topP"]);u!=null&&p(s,["topP"],u);const d=f(e,["topK"]);d!=null&&p(s,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(s,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(s,["maxOutputTokens"],m);const v=f(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const x=f(e,["responseLogprobs"]);x!=null&&p(s,["responseLogprobs"],x);const b=f(e,["logprobs"]);b!=null&&p(s,["logprobs"],b);const E=f(e,["presencePenalty"]);E!=null&&p(s,["presencePenalty"],E);const T=f(e,["frequencyPenalty"]);T!=null&&p(s,["frequencyPenalty"],T);const A=f(e,["seed"]);A!=null&&p(s,["seed"],A);const N=f(e,["responseMimeType"]);N!=null&&p(s,["responseMimeType"],N);const P=f(e,["responseSchema"]);P!=null&&p(s,["responseSchema"],Vf(P));const V=f(e,["responseJsonSchema"]);if(V!=null&&p(s,["responseJsonSchema"],V),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=f(e,["safetySettings"]);if(i!==void 0&&M!=null){let Ee=M;Array.isArray(Ee)&&(Ee=Ee.map(Pe=>DC(Pe))),p(i,["safetySettings"],Ee)}const j=f(e,["tools"]);if(i!==void 0&&j!=null){let Ee=Ps(j);Array.isArray(Ee)&&(Ee=Ee.map(Pe=>UC(Us(Pe)))),p(i,["tools"],Ee)}const B=f(e,["toolConfig"]);if(i!==void 0&&B!=null&&p(i,["toolConfig"],kC(B)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=f(e,["cachedContent"]);i!==void 0&&X!=null&&p(i,["cachedContent"],ri(t,X));const Q=f(e,["responseModalities"]);Q!=null&&p(s,["responseModalities"],Q);const ce=f(e,["mediaResolution"]);ce!=null&&p(s,["mediaResolution"],ce);const ae=f(e,["speechConfig"]);if(ae!=null&&p(s,["speechConfig"],Hf(ae)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _e=f(e,["thinkingConfig"]);_e!=null&&p(s,["thinkingConfig"],_e);const Ce=f(e,["imageConfig"]);return Ce!=null&&p(s,["imageConfig"],SC(Ce)),s}function yC(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>ZT(m))),p(e,["candidates"],h)}const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const l=f(t,["promptFeedback"]);l!=null&&p(e,["promptFeedback"],l);const u=f(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=f(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function vC(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],Os(t,s)),i}function _C(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],Os(t,s)),i}function xC(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&p(e,["enableWidget"],i),e}function bC(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&p(e,["timeRangeFilter"],i),e}function SC(t){const e={},i=f(t,["aspectRatio"]);i!=null&&p(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&p(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function EC(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["request","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let d=pn(o);Array.isArray(d)&&(d=d.map(h=>G0(h))),p(i,["request","contents"],d)}const l=f(e,["metadata"]);l!=null&&p(i,["metadata"],l);const u=f(e,["config"]);return u!=null&&p(i,["request","generationConfig"],gC(t,u,f(i,["request"],{}))),i}function wC(t){const e={},i=f(t,["response"]);i!=null&&p(e,["response"],yC(i));const s=f(t,["error"]);return s!=null&&p(e,["error"],s),e}function TC(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=f(t,["pageToken"]);if(e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function CC(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const l=f(t,["filter"]);return e!==void 0&&l!=null&&p(e,["_query","filter"],l),i}function AC(t){const e={},i=f(t,["config"]);return i!=null&&TC(i,e),e}function NC(t){const e={},i=f(t,["config"]);return i!=null&&CC(i,e),e}function RC(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Xl(u))),p(e,["batchJobs"],l)}return e}function IC(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>cf(u))),p(e,["batchJobs"],l)}return e}function MC(t){const e={},i=f(t,["mediaResolution"]);i!=null&&p(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=f(t,["fileData"]);l!=null&&p(e,["fileData"],hC(l));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],mC(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],QT(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const x=f(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=f(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function DC(t){const e={},i=f(t,["category"]);if(i!=null&&p(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&p(e,["threshold"],s),e}function kC(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&p(e,["functionCallingConfig"],pC(i));const s=f(t,["retrievalConfig"]);return s!=null&&p(e,["retrievalConfig"],s),e}function UC(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>x)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const l=f(t,["fileSearch"]);l!=null&&p(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],xC(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],bC(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ni;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ni||(ni={}));class Er{constructor(e,i,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,o)}init(e,i,s){var o,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!s||Object.keys(s).length===0?u={config:{}}:typeof s=="object"?u=Object.assign({},s):u=s,u.config&&(u.config.pageToken=i.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends ii{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new Er(ni.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=dv(this.apiClient,e),s=i._url,o=ge("{model}:batchGenerateContent",s),d=i.batch.inputConfig.requests,h=d.requests,m=[];for(const v of h){const x=Object.assign({},v);if(x.systemInstruction){const b=x.systemInstruction;delete x.systemInstruction;const E=x.request;E.systemInstruction=b,x.request=E}m.push(x)}return d.requests=m,delete i.config,delete i._url,delete i._query,{path:o,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},o=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${o}`),s.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${o}`;else if(u)s.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=iC(this.apiClient,e);return d=ge("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>cf(v))}else{const m=dv(this.apiClient,e);return d=ge("{model}:batchGenerateContent",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>Xl(v))}}async createEmbeddingsInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=sC(this.apiClient,e);return l=ge("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Xl(h))}}async get(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=_C(this.apiClient,e);return d=ge("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>cf(v))}else{const m=vC(this.apiClient,e);return d=ge("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>Xl(v))}}async cancel(e){var i,s,o,l;let u="",d={};if(this.apiClient.isVertexAI()){const h=WT(this.apiClient,e);u=ge("batchPredictionJobs/{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const h=XT(this.apiClient,e);u=ge("batches/{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=NC(e);return d=ge("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=IC(v),b=new av;return Object.assign(b,x),b})}else{const m=AC(e);return d=ge("batches",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=RC(v),b=new av;return Object.assign(b,x),b})}}async delete(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=aC(this.apiClient,e);return d=ge("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>uC(v))}else{const m=oC(this.apiClient,e);return d=ge("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>lC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(t){const e={},i=f(t,["data"]);if(i!=null&&p(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function fv(t){const e={},i=f(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>sA(l))),p(e,["parts"],o)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function LC(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=f(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const l=f(t,["displayName"]);e!==void 0&&l!=null&&p(e,["displayName"],l);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let v=pn(u);Array.isArray(v)&&(v=v.map(x=>fv(x))),p(e,["contents"],v)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],fv(Pt(d)));const h=f(t,["tools"]);if(e!==void 0&&h!=null){let v=h;Array.isArray(v)&&(v=v.map(x=>aA(x))),p(e,["tools"],v)}const m=f(t,["toolConfig"]);if(e!==void 0&&m!=null&&p(e,["toolConfig"],oA(m)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function qC(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=f(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const l=f(t,["displayName"]);e!==void 0&&l!=null&&p(e,["displayName"],l);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let x=pn(u);Array.isArray(x)&&(x=x.map(b=>b)),p(e,["contents"],x)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],Pt(d));const h=f(t,["tools"]);if(e!==void 0&&h!=null){let x=h;Array.isArray(x)&&(x=x.map(b=>lA(b))),p(e,["tools"],x)}const m=f(t,["toolConfig"]);e!==void 0&&m!=null&&p(e,["toolConfig"],m);const v=f(t,["kmsKeyName"]);return e!==void 0&&v!=null&&p(e,["encryption_spec","kmsKeyName"],v),i}function BC(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["model"],M0(t,s));const o=f(e,["config"]);return o!=null&&LC(o,i),i}function zC(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["model"],M0(t,s));const o=f(e,["config"]);return o!=null&&qC(o,i),i}function VC(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],ri(t,s)),i}function HC(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],ri(t,s)),i}function GC(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(e,["sdkHttpResponse"],i),e}function jC(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(e,["sdkHttpResponse"],i),e}function $C(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function FC(t){const e={},i=f(t,["id"]);i!=null&&p(e,["id"],i);const s=f(t,["args"]);s!=null&&p(e,["args"],s);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JC(t){const e={},i=f(t,["mode"]);i!=null&&p(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&p(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function YC(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const l=f(t,["parametersJsonSchema"]);l!=null&&p(e,["parametersJsonSchema"],l);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function KC(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],ri(t,s)),i}function QC(t,e){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],ri(t,s)),i}function XC(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&p(e,["enableWidget"],i),e}function WC(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&p(e,["timeRangeFilter"],i),e}function ZC(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),i}function eA(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),i}function tA(t){const e={},i=f(t,["config"]);return i!=null&&ZC(i,e),e}function nA(t){const e={},i=f(t,["config"]);return i!=null&&eA(i,e),e}function iA(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["cachedContents"],l)}return e}function rA(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["cachedContents"],l)}return e}function sA(t){const e={},i=f(t,["mediaResolution"]);i!=null&&p(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=f(t,["fileData"]);l!=null&&p(e,["fileData"],$C(l));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],FC(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],OC(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const x=f(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=f(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function oA(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&p(e,["functionCallingConfig"],JC(i));const s=f(t,["retrievalConfig"]);return s!=null&&p(e,["retrievalConfig"],s),e}function aA(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>x)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const l=f(t,["fileSearch"]);l!=null&&p(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],XC(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],WC(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function lA(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>YC(b))),p(e,["functionDeclarations"],x)}const s=f(t,["retrieval"]);s!=null&&p(e,["retrieval"],s);const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);if(l!=null&&p(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&p(e,["enterpriseWebSearch"],d);const h=f(t,["googleMaps"]);h!=null&&p(e,["googleMaps"],h);const m=f(t,["googleSearch"]);m!=null&&p(e,["googleSearch"],m);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function uA(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=f(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),i}function cA(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=f(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),i}function dA(t,e){const i={},s=f(e,["name"]);s!=null&&p(i,["_url","name"],ri(t,s));const o=f(e,["config"]);return o!=null&&uA(o,i),i}function fA(t,e){const i={},s=f(e,["name"]);s!=null&&p(i,["_url","name"],ri(t,s));const o=f(e,["config"]);return o!=null&&cA(o,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Er(ni.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=zC(this.apiClient,e);return d=ge("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const m=BC(this.apiClient,e);return d=ge("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=QC(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const m=KC(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=HC(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=jC(v),b=new sv;return Object.assign(b,x),b})}else{const m=VC(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=GC(v),b=new sv;return Object.assign(b,x),b})}}async update(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=fA(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const m=dA(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async listInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=nA(e);return d=ge("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=rA(v),b=new ov;return Object.assign(b,x),b})}else{const m=tA(e);return d=ge("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=iA(v),b=new ov;return Object.assign(b,x),b})}}}function hv(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function st(t){return this instanceof st?(this.v=t,this):new st(t)}function Cs(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(E){return function(T){return Promise.resolve(T).then(E,x)}}function d(E,T){s[E]&&(o[E]=function(A){return new Promise(function(N,P){l.push([E,A,N,P])>1||h(E,A)})},T&&(o[E]=T(o[E])))}function h(E,T){try{m(s[E](T))}catch(A){b(l[0][3],A)}}function m(E){E.value instanceof st?Promise.resolve(E.value.v).then(v,x):b(l[0][2],E)}function v(E){h("next",E)}function x(E){h("throw",E)}function b(E,T){E(T),l.shift(),l.length&&h(l[0][0],l[0][1])}}function $o(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof hv=="function"?hv(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(l){i[l]=t[l]&&function(u){return new Promise(function(d,h){u=t[l](u),o(d,h,u.done,u.value)})}}function o(l,u,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mA(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:j0(i)}function j0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function pA(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mv(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const o=[];let l=!0;for(;s<i&&t[s].role==="model";)o.push(t[s]),l&&!j0(t[s])&&(l=!1),s++;l?e.push(...o):e.pop()}return e}class gA{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new yA(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class yA{constructor(e,i,s,o={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),pA(l)}async sendMessage(e){var i;await this.sendPromise;const s=Pt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,u,d;const h=await o,m=(u=(l=h.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,v=h.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let b=[];v!=null&&(b=(d=v.slice(x))!==null&&d!==void 0?d:[]);const E=m?[m]:[];this.recordHistory(s,E,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var i;await this.sendPromise;const s=Pt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,s)}getHistory(e=!1){const i=e?mv(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var s,o;return Cs(this,arguments,function*(){var u,d,h,m;const v=[];try{for(var x=!0,b=$o(e),E;E=yield st(b.next()),u=E.done,!u;x=!0){m=E.value,x=!1;const T=m;if(mA(T)){const A=(o=(s=T.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content;A!==void 0&&v.push(A)}yield yield st(T)}}catch(T){d={error:T}}finally{try{!x&&!u&&(h=b.return)&&(yield st(h.call(b)))}finally{if(d)throw d.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let o=[];i.length>0&&i.every(l=>l.role!==void 0)?o=i:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...mv(s)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,pu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vA(t){const e={},i=f(t,["file"]);return i!=null&&p(e,["file"],i),e}function _A(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(e,["sdkHttpResponse"],i),e}function xA(t){const e={},i=f(t,["name"]);return i!=null&&p(e,["_url","file"],L0(i)),e}function bA(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(e,["sdkHttpResponse"],i),e}function SA(t){const e={},i=f(t,["name"]);return i!=null&&p(e,["_url","file"],L0(i)),e}function EA(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),i}function wA(t){const e={},i=f(t,["config"]);return i!=null&&EA(i,e),e}function TA(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CA extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Er(ni.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=wA(e);return l=ge("files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=TA(h),v=new IT;return Object.assign(v,m),v})}}async createInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=vA(e);return l=ge("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=_A(h),v=new MT;return Object.assign(v,m),v})}}async get(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=SA(e);return l=ge("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=xA(e);return l=ge("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=bA(h),v=new DT;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wl(t){const e={},i=f(t,["data"]);if(i!=null&&p(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function AA(t){const e={},i=f(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>GA(l))),p(e,["parts"],o)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function NA(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function RA(t){const e={},i=f(t,["id"]);i!=null&&p(e,["id"],i);const s=f(t,["args"]);s!=null&&p(e,["args"],s);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IA(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const l=f(t,["parametersJsonSchema"]);l!=null&&p(e,["parametersJsonSchema"],l);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function MA(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&p(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&p(e,["responseJsonSchema"],s);const o=f(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const l=f(t,["candidateCount"]);l!=null&&p(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=f(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const h=f(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=f(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const v=f(t,["mediaResolution"]);v!=null&&p(e,["mediaResolution"],v);const x=f(t,["presencePenalty"]);x!=null&&p(e,["presencePenalty"],x);const b=f(t,["responseLogprobs"]);b!=null&&p(e,["responseLogprobs"],b);const E=f(t,["responseMimeType"]);E!=null&&p(e,["responseMimeType"],E);const T=f(t,["responseModalities"]);T!=null&&p(e,["responseModalities"],T);const A=f(t,["responseSchema"]);A!=null&&p(e,["responseSchema"],A);const N=f(t,["routingConfig"]);N!=null&&p(e,["routingConfig"],N);const P=f(t,["seed"]);P!=null&&p(e,["seed"],P);const V=f(t,["speechConfig"]);V!=null&&p(e,["speechConfig"],$0(V));const M=f(t,["stopSequences"]);M!=null&&p(e,["stopSequences"],M);const j=f(t,["temperature"]);j!=null&&p(e,["temperature"],j);const B=f(t,["thinkingConfig"]);B!=null&&p(e,["thinkingConfig"],B);const X=f(t,["topK"]);X!=null&&p(e,["topK"],X);const Q=f(t,["topP"]);if(Q!=null&&p(e,["topP"],Q),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function DA(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&p(e,["enableWidget"],i),e}function kA(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&p(e,["timeRangeFilter"],i),e}function UA(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],s);const o=f(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const l=f(t,["temperature"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","temperature"],l);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],Gf(x));const b=f(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const E=f(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=f(t,["systemInstruction"]);e!==void 0&&T!=null&&p(e,["setup","systemInstruction"],AA(Pt(T)));const A=f(t,["tools"]);if(e!==void 0&&A!=null){let X=Ps(A);Array.isArray(X)&&(X=X.map(Q=>$A(Us(Q)))),p(e,["setup","tools"],X)}const N=f(t,["sessionResumption"]);e!==void 0&&N!=null&&p(e,["setup","sessionResumption"],jA(N));const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&p(e,["setup","inputAudioTranscription"],P);const V=f(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&p(e,["setup","outputAudioTranscription"],V);const M=f(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&p(e,["setup","realtimeInputConfig"],M);const j=f(t,["contextWindowCompression"]);e!==void 0&&j!=null&&p(e,["setup","contextWindowCompression"],j);const B=f(t,["proactivity"]);return e!==void 0&&B!=null&&p(e,["setup","proactivity"],B),i}function PA(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],MA(s));const o=f(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const l=f(t,["temperature"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","temperature"],l);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],$0(Gf(x)));const b=f(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const E=f(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=f(t,["systemInstruction"]);e!==void 0&&T!=null&&p(e,["setup","systemInstruction"],Pt(T));const A=f(t,["tools"]);if(e!==void 0&&A!=null){let X=Ps(A);Array.isArray(X)&&(X=X.map(Q=>FA(Us(Q)))),p(e,["setup","tools"],X)}const N=f(t,["sessionResumption"]);e!==void 0&&N!=null&&p(e,["setup","sessionResumption"],N);const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&p(e,["setup","inputAudioTranscription"],P);const V=f(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&p(e,["setup","outputAudioTranscription"],V);const M=f(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&p(e,["setup","realtimeInputConfig"],M);const j=f(t,["contextWindowCompression"]);e!==void 0&&j!=null&&p(e,["setup","contextWindowCompression"],j);const B=f(t,["proactivity"]);return e!==void 0&&B!=null&&p(e,["setup","proactivity"],B),i}function OA(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["setup","model"],$e(t,s));const o=f(e,["config"]);return o!=null&&p(i,["config"],UA(o,i)),i}function LA(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["setup","model"],$e(t,s));const o=f(e,["config"]);return o!=null&&p(i,["config"],PA(o,i)),i}function qA(t){const e={},i=f(t,["musicGenerationConfig"]);return i!=null&&p(e,["musicGenerationConfig"],i),e}function BA(t){const e={},i=f(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),p(e,["weightedPrompts"],s)}return e}function zA(t){const e={},i=f(t,["media"]);if(i!=null){let m=D0(i);Array.isArray(m)&&(m=m.map(v=>Wl(v))),p(e,["mediaChunks"],m)}const s=f(t,["audio"]);s!=null&&p(e,["audio"],Wl(U0(s)));const o=f(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const l=f(t,["video"]);l!=null&&p(e,["video"],Wl(k0(l)));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const d=f(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const h=f(t,["activityEnd"]);return h!=null&&p(e,["activityEnd"],h),e}function VA(t){const e={},i=f(t,["media"]);if(i!=null){let m=D0(i);Array.isArray(m)&&(m=m.map(v=>v)),p(e,["mediaChunks"],m)}const s=f(t,["audio"]);s!=null&&p(e,["audio"],U0(s));const o=f(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const l=f(t,["video"]);l!=null&&p(e,["video"],k0(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const d=f(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const h=f(t,["activityEnd"]);return h!=null&&p(e,["activityEnd"],h),e}function HA(t){const e={},i=f(t,["setupComplete"]);i!=null&&p(e,["setupComplete"],i);const s=f(t,["serverContent"]);s!=null&&p(e,["serverContent"],s);const o=f(t,["toolCall"]);o!=null&&p(e,["toolCall"],o);const l=f(t,["toolCallCancellation"]);l!=null&&p(e,["toolCallCancellation"],l);const u=f(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],JA(u));const d=f(t,["goAway"]);d!=null&&p(e,["goAway"],d);const h=f(t,["sessionResumptionUpdate"]);return h!=null&&p(e,["sessionResumptionUpdate"],h),e}function GA(t){const e={},i=f(t,["mediaResolution"]);i!=null&&p(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=f(t,["fileData"]);l!=null&&p(e,["fileData"],NA(l));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],RA(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],Wl(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const x=f(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=f(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function jA(t){const e={},i=f(t,["handle"]);if(i!=null&&p(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $0(t){const e={},i=f(t,["languageCode"]);i!=null&&p(e,["languageCode"],i);const s=f(t,["voiceConfig"]);if(s!=null&&p(e,["voiceConfig"],s),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function $A(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>x)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const l=f(t,["fileSearch"]);l!=null&&p(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],DA(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],kA(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function FA(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>IA(b))),p(e,["functionDeclarations"],x)}const s=f(t,["retrieval"]);s!=null&&p(e,["retrieval"],s);const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);if(l!=null&&p(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&p(e,["enterpriseWebSearch"],d);const h=f(t,["googleMaps"]);h!=null&&p(e,["googleMaps"],h);const m=f(t,["googleSearch"]);m!=null&&p(e,["googleSearch"],m);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function JA(t){const e={},i=f(t,["promptTokenCount"]);i!=null&&p(e,["promptTokenCount"],i);const s=f(t,["cachedContentTokenCount"]);s!=null&&p(e,["cachedContentTokenCount"],s);const o=f(t,["candidatesTokenCount"]);o!=null&&p(e,["responseTokenCount"],o);const l=f(t,["toolUsePromptTokenCount"]);l!=null&&p(e,["toolUsePromptTokenCount"],l);const u=f(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const d=f(t,["totalTokenCount"]);d!=null&&p(e,["totalTokenCount"],d);const h=f(t,["promptTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(T=>T)),p(e,["promptTokensDetails"],E)}const m=f(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(T=>T)),p(e,["cacheTokensDetails"],E)}const v=f(t,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(T=>T)),p(e,["responseTokensDetails"],E)}const x=f(t,["toolUsePromptTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(T=>T)),p(e,["toolUsePromptTokensDetails"],E)}const b=f(t,["trafficType"]);return b!=null&&p(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(t){const e={},i=f(t,["data"]);if(i!=null&&p(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function KA(t){const e={},i=f(t,["content"]);i!=null&&p(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&p(e,["citationMetadata"],QA(s));const o=f(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const l=f(t,["finishReason"]);l!=null&&p(e,["finishReason"],l);const u=f(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=f(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const h=f(t,["index"]);h!=null&&p(e,["index"],h);const m=f(t,["logprobsResult"]);m!=null&&p(e,["logprobsResult"],m);const v=f(t,["safetyRatings"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(E=>E)),p(e,["safetyRatings"],b)}const x=f(t,["urlContextMetadata"]);return x!=null&&p(e,["urlContextMetadata"],x),e}function QA(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),p(e,["citations"],s)}return e}function XA(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let l=pn(o);Array.isArray(l)&&(l=l.map(u=>u)),p(i,["contents"],l)}return i}function WA(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),p(e,["tokensInfo"],o)}return e}function ZA(t){const e={},i=f(t,["values"]);i!=null&&p(e,["values"],i);const s=f(t,["statistics"]);return s!=null&&p(e,["statistics"],eN(s)),e}function eN(t){const e={},i=f(t,["truncated"]);i!=null&&p(e,["truncated"],i);const s=f(t,["token_count"]);return s!=null&&p(e,["tokenCount"],s),e}function gu(t){const e={},i=f(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>uR(l))),p(e,["parts"],o)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function tN(t){const e={},i=f(t,["controlType"]);i!=null&&p(e,["controlType"],i);const s=f(t,["enableControlImageComputation"]);return s!=null&&p(e,["computeControl"],s),e}function nN(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function iN(t,e){const i={},s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Pt(s));const o=f(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Q0(d))),p(e,["tools"],u)}const l=f(t,["generationConfig"]);return e!==void 0&&l!=null&&p(e,["generationConfig"],YN(l)),i}function rN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let u=pn(o);Array.isArray(u)&&(u=u.map(d=>gu(d))),p(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&nN(l),i}function sN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let u=pn(o);Array.isArray(u)&&(u=u.map(d=>d)),p(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&iN(l,i),i}function oN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);s!=null&&p(e,["totalTokens"],s);const o=f(t,["cachedContentTokenCount"]);return o!=null&&p(e,["cachedContentTokenCount"],o),e}function aN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);return s!=null&&p(e,["totalTokens"],s),e}function lN(t,e){const i={},s=f(e,["model"]);return s!=null&&p(i,["_url","name"],$e(t,s)),i}function uN(t,e){const i={},s=f(e,["model"]);return s!=null&&p(i,["_url","name"],$e(t,s)),i}function cN(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(e,["sdkHttpResponse"],i),e}function dN(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(e,["sdkHttpResponse"],i),e}function fN(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const o=f(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&p(e,["parameters","sampleCount"],l);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const h=f(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const x=f(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&p(e,["parameters","includeSafetyAttributes"],x);const b=f(t,["includeRaiReason"]);e!==void 0&&b!=null&&p(e,["parameters","includeRaiReason"],b);const E=f(t,["language"]);e!==void 0&&E!=null&&p(e,["parameters","language"],E);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&p(e,["parameters","outputOptions","mimeType"],T);const A=f(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&p(e,["parameters","outputOptions","compressionQuality"],A);const N=f(t,["addWatermark"]);e!==void 0&&N!=null&&p(e,["parameters","addWatermark"],N);const P=f(t,["labels"]);e!==void 0&&P!=null&&p(e,["labels"],P);const V=f(t,["editMode"]);e!==void 0&&V!=null&&p(e,["parameters","editMode"],V);const M=f(t,["baseSteps"]);return e!==void 0&&M!=null&&p(e,["parameters","editConfig","baseSteps"],M),i}function hN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["prompt"]);o!=null&&p(i,["instances[0]","prompt"],o);const l=f(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>pR(h))),p(i,["instances[0]","referenceImages"],d)}const u=f(e,["config"]);return u!=null&&fN(u,i),i}function mN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>yu(l))),p(e,["generatedImages"],o)}return e}function pN(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&p(e,["requests[]","taskType"],s);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&p(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function gN(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&p(e,["instances[]","task_type"],s);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["instances[]","title"],o);const l=f(t,["outputDimensionality"]);e!==void 0&&l!=null&&p(e,["parameters","outputDimensionality"],l);const u=f(t,["mimeType"]);e!==void 0&&u!=null&&p(e,["instances[]","mimeType"],u);const d=f(t,["autoTruncate"]);return e!==void 0&&d!=null&&p(e,["parameters","autoTruncate"],d),i}function yN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let d=zf(t,o);Array.isArray(d)&&(d=d.map(h=>h)),p(i,["requests[]","content"],d)}const l=f(e,["config"]);l!=null&&pN(l,i);const u=f(e,["model"]);return u!==void 0&&p(i,["requests[]","model"],$e(t,u)),i}function vN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let u=zf(t,o);Array.isArray(u)&&(u=u.map(d=>d)),p(i,["instances[]","content"],u)}const l=f(e,["config"]);return l!=null&&gN(l,i),i}function _N(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["embeddings"],l)}const o=f(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function xN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ZA(u))),p(e,["embeddings"],l)}const o=f(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function bN(t){const e={},i=f(t,["endpoint"]);i!=null&&p(e,["name"],i);const s=f(t,["deployedModelId"]);return s!=null&&p(e,["deployedModelId"],s),e}function SN(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function EN(t){const e={},i=f(t,["id"]);i!=null&&p(e,["id"],i);const s=f(t,["args"]);s!=null&&p(e,["args"],s);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wN(t){const e={},i=f(t,["mode"]);i!=null&&p(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&p(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function TN(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const l=f(t,["parametersJsonSchema"]);l!=null&&p(e,["parametersJsonSchema"],l);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function CN(t,e,i){const s={},o=f(e,["systemInstruction"]);i!==void 0&&o!=null&&p(i,["systemInstruction"],gu(Pt(o)));const l=f(e,["temperature"]);l!=null&&p(s,["temperature"],l);const u=f(e,["topP"]);u!=null&&p(s,["topP"],u);const d=f(e,["topK"]);d!=null&&p(s,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(s,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(s,["maxOutputTokens"],m);const v=f(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const x=f(e,["responseLogprobs"]);x!=null&&p(s,["responseLogprobs"],x);const b=f(e,["logprobs"]);b!=null&&p(s,["logprobs"],b);const E=f(e,["presencePenalty"]);E!=null&&p(s,["presencePenalty"],E);const T=f(e,["frequencyPenalty"]);T!=null&&p(s,["frequencyPenalty"],T);const A=f(e,["seed"]);A!=null&&p(s,["seed"],A);const N=f(e,["responseMimeType"]);N!=null&&p(s,["responseMimeType"],N);const P=f(e,["responseSchema"]);P!=null&&p(s,["responseSchema"],Vf(P));const V=f(e,["responseJsonSchema"]);if(V!=null&&p(s,["responseJsonSchema"],V),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=f(e,["safetySettings"]);if(i!==void 0&&M!=null){let Ee=M;Array.isArray(Ee)&&(Ee=Ee.map(Pe=>gR(Pe))),p(i,["safetySettings"],Ee)}const j=f(e,["tools"]);if(i!==void 0&&j!=null){let Ee=Ps(j);Array.isArray(Ee)&&(Ee=Ee.map(Pe=>ER(Us(Pe)))),p(i,["tools"],Ee)}const B=f(e,["toolConfig"]);if(i!==void 0&&B!=null&&p(i,["toolConfig"],SR(B)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=f(e,["cachedContent"]);i!==void 0&&X!=null&&p(i,["cachedContent"],ri(t,X));const Q=f(e,["responseModalities"]);Q!=null&&p(s,["responseModalities"],Q);const ce=f(e,["mediaResolution"]);ce!=null&&p(s,["mediaResolution"],ce);const ae=f(e,["speechConfig"]);if(ae!=null&&p(s,["speechConfig"],Hf(ae)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _e=f(e,["thinkingConfig"]);_e!=null&&p(s,["thinkingConfig"],_e);const Ce=f(e,["imageConfig"]);return Ce!=null&&p(s,["imageConfig"],ZN(Ce)),s}function AN(t,e,i){const s={},o=f(e,["systemInstruction"]);i!==void 0&&o!=null&&p(i,["systemInstruction"],Pt(o));const l=f(e,["temperature"]);l!=null&&p(s,["temperature"],l);const u=f(e,["topP"]);u!=null&&p(s,["topP"],u);const d=f(e,["topK"]);d!=null&&p(s,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(s,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(s,["maxOutputTokens"],m);const v=f(e,["stopSequences"]);v!=null&&p(s,["stopSequences"],v);const x=f(e,["responseLogprobs"]);x!=null&&p(s,["responseLogprobs"],x);const b=f(e,["logprobs"]);b!=null&&p(s,["logprobs"],b);const E=f(e,["presencePenalty"]);E!=null&&p(s,["presencePenalty"],E);const T=f(e,["frequencyPenalty"]);T!=null&&p(s,["frequencyPenalty"],T);const A=f(e,["seed"]);A!=null&&p(s,["seed"],A);const N=f(e,["responseMimeType"]);N!=null&&p(s,["responseMimeType"],N);const P=f(e,["responseSchema"]);P!=null&&p(s,["responseSchema"],Vf(P));const V=f(e,["responseJsonSchema"]);V!=null&&p(s,["responseJsonSchema"],V);const M=f(e,["routingConfig"]);M!=null&&p(s,["routingConfig"],M);const j=f(e,["modelSelectionConfig"]);j!=null&&p(s,["modelConfig"],j);const B=f(e,["safetySettings"]);if(i!==void 0&&B!=null){let R=B;Array.isArray(R)&&(R=R.map($=>$)),p(i,["safetySettings"],R)}const X=f(e,["tools"]);if(i!==void 0&&X!=null){let R=Ps(X);Array.isArray(R)&&(R=R.map($=>Q0(Us($)))),p(i,["tools"],R)}const Q=f(e,["toolConfig"]);i!==void 0&&Q!=null&&p(i,["toolConfig"],Q);const ce=f(e,["labels"]);i!==void 0&&ce!=null&&p(i,["labels"],ce);const ae=f(e,["cachedContent"]);i!==void 0&&ae!=null&&p(i,["cachedContent"],ri(t,ae));const _e=f(e,["responseModalities"]);_e!=null&&p(s,["responseModalities"],_e);const Ce=f(e,["mediaResolution"]);Ce!=null&&p(s,["mediaResolution"],Ce);const Ee=f(e,["speechConfig"]);Ee!=null&&p(s,["speechConfig"],K0(Hf(Ee)));const Pe=f(e,["audioTimestamp"]);Pe!=null&&p(s,["audioTimestamp"],Pe);const ot=f(e,["thinkingConfig"]);ot!=null&&p(s,["thinkingConfig"],ot);const se=f(e,["imageConfig"]);return se!=null&&p(s,["imageConfig"],eR(se)),s}function pv(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let u=pn(o);Array.isArray(u)&&(u=u.map(d=>gu(d))),p(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&p(i,["generationConfig"],CN(t,l,i)),i}function gv(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["contents"]);if(o!=null){let u=pn(o);Array.isArray(u)&&(u=u.map(d=>d)),p(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&p(i,["generationConfig"],AN(t,l,i)),i}function yv(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>KA(m))),p(e,["candidates"],h)}const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const l=f(t,["promptFeedback"]);l!=null&&p(e,["promptFeedback"],l);const u=f(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=f(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function vv(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),p(e,["candidates"],m)}const o=f(t,["createTime"]);o!=null&&p(e,["createTime"],o);const l=f(t,["modelVersion"]);l!=null&&p(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const d=f(t,["responseId"]);d!=null&&p(e,["responseId"],d);const h=f(t,["usageMetadata"]);return h!=null&&p(e,["usageMetadata"],h),e}function NN(t,e){const i={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const l=f(t,["guidanceScale"]);if(e!==void 0&&l!=null&&p(e,["parameters","guidanceScale"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const h=f(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const m=f(t,["includeRaiReason"]);e!==void 0&&m!=null&&p(e,["parameters","includeRaiReason"],m);const v=f(t,["language"]);e!==void 0&&v!=null&&p(e,["parameters","language"],v);const x=f(t,["outputMimeType"]);e!==void 0&&x!=null&&p(e,["parameters","outputOptions","mimeType"],x);const b=f(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&p(e,["parameters","outputOptions","compressionQuality"],b),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(t,["imageSize"]);if(e!==void 0&&E!=null&&p(e,["parameters","sampleImageSize"],E),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function RN(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const o=f(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&p(e,["parameters","sampleCount"],l);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const h=f(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const x=f(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&p(e,["parameters","includeSafetyAttributes"],x);const b=f(t,["includeRaiReason"]);e!==void 0&&b!=null&&p(e,["parameters","includeRaiReason"],b);const E=f(t,["language"]);e!==void 0&&E!=null&&p(e,["parameters","language"],E);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&p(e,["parameters","outputOptions","mimeType"],T);const A=f(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&p(e,["parameters","outputOptions","compressionQuality"],A);const N=f(t,["addWatermark"]);e!==void 0&&N!=null&&p(e,["parameters","addWatermark"],N);const P=f(t,["labels"]);e!==void 0&&P!=null&&p(e,["labels"],P);const V=f(t,["imageSize"]);e!==void 0&&V!=null&&p(e,["parameters","sampleImageSize"],V);const M=f(t,["enhancePrompt"]);return e!==void 0&&M!=null&&p(e,["parameters","enhancePrompt"],M),i}function IN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["prompt"]);o!=null&&p(i,["instances[0]","prompt"],o);const l=f(e,["config"]);return l!=null&&NN(l,i),i}function MN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["prompt"]);o!=null&&p(i,["instances[0]","prompt"],o);const l=f(e,["config"]);return l!=null&&RN(l,i),i}function DN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>jN(u))),p(e,["generatedImages"],l)}const o=f(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],J0(o)),e}function kN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>yu(u))),p(e,["generatedImages"],l)}const o=f(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],Y0(o)),e}function UN(t,e){const i={},s=f(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=f(t,["durationSeconds"]);if(e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const d=f(t,["personGeneration"]);if(e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=f(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&p(e,["instances[0]","lastFrame"],vu(v));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(E=>OR(E))),p(e,["instances[0]","referenceImages"],b)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function PN(t,e){const i={},s=f(t,["numberOfVideos"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const l=f(t,["fps"]);e!==void 0&&l!=null&&p(e,["parameters","fps"],l);const u=f(t,["durationSeconds"]);e!==void 0&&u!=null&&p(e,["parameters","durationSeconds"],u);const d=f(t,["seed"]);e!==void 0&&d!=null&&p(e,["parameters","seed"],d);const h=f(t,["aspectRatio"]);e!==void 0&&h!=null&&p(e,["parameters","aspectRatio"],h);const m=f(t,["resolution"]);e!==void 0&&m!=null&&p(e,["parameters","resolution"],m);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const x=f(t,["pubsubTopic"]);e!==void 0&&x!=null&&p(e,["parameters","pubsubTopic"],x);const b=f(t,["negativePrompt"]);e!==void 0&&b!=null&&p(e,["parameters","negativePrompt"],b);const E=f(t,["enhancePrompt"]);e!==void 0&&E!=null&&p(e,["parameters","enhancePrompt"],E);const T=f(t,["generateAudio"]);e!==void 0&&T!=null&&p(e,["parameters","generateAudio"],T);const A=f(t,["lastFrame"]);e!==void 0&&A!=null&&p(e,["instances[0]","lastFrame"],Tn(A));const N=f(t,["referenceImages"]);if(e!==void 0&&N!=null){let M=N;Array.isArray(M)&&(M=M.map(j=>LR(j))),p(e,["instances[0]","referenceImages"],M)}const P=f(t,["mask"]);e!==void 0&&P!=null&&p(e,["instances[0]","mask"],PR(P));const V=f(t,["compressionQuality"]);return e!==void 0&&V!=null&&p(e,["parameters","compressionQuality"],V),i}function ON(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],zN(u)),e}function LN(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["response"]);return u!=null&&p(e,["response"],VN(u)),e}function qN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["prompt"]);o!=null&&p(i,["instances[0]","prompt"],o);const l=f(e,["image"]);l!=null&&p(i,["instances[0]","image"],vu(l));const u=f(e,["video"]);u!=null&&p(i,["instances[0]","video"],X0(u));const d=f(e,["source"]);d!=null&&HN(d,i);const h=f(e,["config"]);return h!=null&&UN(h,i),i}function BN(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["prompt"]);o!=null&&p(i,["instances[0]","prompt"],o);const l=f(e,["image"]);l!=null&&p(i,["instances[0]","image"],Tn(l));const u=f(e,["video"]);u!=null&&p(i,["instances[0]","video"],W0(u));const d=f(e,["source"]);d!=null&&GN(d,i);const h=f(e,["config"]);return h!=null&&PN(h,i),i}function zN(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>FN(u))),p(e,["generatedVideos"],l)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function VN(t){const e={},i=f(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>JN(u))),p(e,["generatedVideos"],l)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function HN(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],vu(o));const l=f(t,["video"]);return e!==void 0&&l!=null&&p(e,["instances[0]","video"],X0(l)),i}function GN(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Tn(o));const l=f(t,["video"]);return e!==void 0&&l!=null&&p(e,["instances[0]","video"],W0(l)),i}function jN(t){const e={},i=f(t,["_self"]);i!=null&&p(e,["image"],tR(i));const s=f(t,["raiFilteredReason"]);s!=null&&p(e,["raiFilteredReason"],s);const o=f(t,["_self"]);return o!=null&&p(e,["safetyAttributes"],J0(o)),e}function yu(t){const e={},i=f(t,["_self"]);i!=null&&p(e,["image"],F0(i));const s=f(t,["raiFilteredReason"]);s!=null&&p(e,["raiFilteredReason"],s);const o=f(t,["_self"]);o!=null&&p(e,["safetyAttributes"],Y0(o));const l=f(t,["prompt"]);return l!=null&&p(e,["enhancedPrompt"],l),e}function $N(t){const e={},i=f(t,["_self"]);i!=null&&p(e,["mask"],F0(i));const s=f(t,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),p(e,["labels"],o)}return e}function FN(t){const e={},i=f(t,["video"]);return i!=null&&p(e,["video"],kR(i)),e}function JN(t){const e={},i=f(t,["_self"]);return i!=null&&p(e,["video"],UR(i)),e}function YN(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&p(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&p(e,["responseJsonSchema"],s);const o=f(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const l=f(t,["candidateCount"]);l!=null&&p(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=f(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const h=f(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=f(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const v=f(t,["mediaResolution"]);v!=null&&p(e,["mediaResolution"],v);const x=f(t,["presencePenalty"]);x!=null&&p(e,["presencePenalty"],x);const b=f(t,["responseLogprobs"]);b!=null&&p(e,["responseLogprobs"],b);const E=f(t,["responseMimeType"]);E!=null&&p(e,["responseMimeType"],E);const T=f(t,["responseModalities"]);T!=null&&p(e,["responseModalities"],T);const A=f(t,["responseSchema"]);A!=null&&p(e,["responseSchema"],A);const N=f(t,["routingConfig"]);N!=null&&p(e,["routingConfig"],N);const P=f(t,["seed"]);P!=null&&p(e,["seed"],P);const V=f(t,["speechConfig"]);V!=null&&p(e,["speechConfig"],K0(V));const M=f(t,["stopSequences"]);M!=null&&p(e,["stopSequences"],M);const j=f(t,["temperature"]);j!=null&&p(e,["temperature"],j);const B=f(t,["thinkingConfig"]);B!=null&&p(e,["thinkingConfig"],B);const X=f(t,["topK"]);X!=null&&p(e,["topK"],X);const Q=f(t,["topP"]);if(Q!=null&&p(e,["topP"],Q),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function KN(t,e){const i={},s=f(e,["model"]);return s!=null&&p(i,["_url","name"],$e(t,s)),i}function QN(t,e){const i={},s=f(e,["model"]);return s!=null&&p(i,["_url","name"],$e(t,s)),i}function XN(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&p(e,["enableWidget"],i),e}function WN(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&p(e,["timeRangeFilter"],i),e}function ZN(t){const e={},i=f(t,["aspectRatio"]);i!=null&&p(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&p(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eR(t){const e={},i=f(t,["aspectRatio"]);i!=null&&p(e,["aspectRatio"],i);const s=f(t,["imageSize"]);s!=null&&p(e,["imageSize"],s);const o=f(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const l=f(t,["outputCompressionQuality"]);return l!=null&&p(e,["imageOutputOptions","compressionQuality"],l),e}function tR(t){const e={},i=f(t,["bytesBase64Encoded"]);i!=null&&p(e,["imageBytes"],qi(i));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function F0(t){const e={},i=f(t,["gcsUri"]);i!=null&&p(e,["gcsUri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&p(e,["imageBytes"],qi(s));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function vu(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(t,["imageBytes"]);i!=null&&p(e,["bytesBase64Encoded"],qi(i));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function Tn(t){const e={},i=f(t,["gcsUri"]);i!=null&&p(e,["gcsUri"],i);const s=f(t,["imageBytes"]);s!=null&&p(e,["bytesBase64Encoded"],qi(s));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function nR(t,e,i){const s={},o=f(e,["pageSize"]);i!==void 0&&o!=null&&p(i,["_query","pageSize"],o);const l=f(e,["pageToken"]);i!==void 0&&l!=null&&p(i,["_query","pageToken"],l);const u=f(e,["filter"]);i!==void 0&&u!=null&&p(i,["_query","filter"],u);const d=f(e,["queryBase"]);return i!==void 0&&d!=null&&p(i,["_url","models_url"],q0(t,d)),s}function iR(t,e,i){const s={},o=f(e,["pageSize"]);i!==void 0&&o!=null&&p(i,["_query","pageSize"],o);const l=f(e,["pageToken"]);i!==void 0&&l!=null&&p(i,["_query","pageToken"],l);const u=f(e,["filter"]);i!==void 0&&u!=null&&p(i,["_query","filter"],u);const d=f(e,["queryBase"]);return i!==void 0&&d!=null&&p(i,["_url","models_url"],q0(t,d)),s}function rR(t,e){const i={},s=f(e,["config"]);return s!=null&&nR(t,s,i),i}function sR(t,e){const i={},s=f(e,["config"]);return s!=null&&iR(t,s,i),i}function oR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["_self"]);if(o!=null){let l=B0(o);Array.isArray(l)&&(l=l.map(u=>df(u))),p(e,["models"],l)}return e}function aR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["_self"]);if(o!=null){let l=B0(o);Array.isArray(l)&&(l=l.map(u=>ff(u))),p(e,["models"],l)}return e}function lR(t){const e={},i=f(t,["maskMode"]);i!=null&&p(e,["maskMode"],i);const s=f(t,["segmentationClasses"]);s!=null&&p(e,["maskClasses"],s);const o=f(t,["maskDilation"]);return o!=null&&p(e,["dilation"],o),e}function df(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["displayName"]);s!=null&&p(e,["displayName"],s);const o=f(t,["description"]);o!=null&&p(e,["description"],o);const l=f(t,["version"]);l!=null&&p(e,["version"],l);const u=f(t,["_self"]);u!=null&&p(e,["tunedModelInfo"],wR(u));const d=f(t,["inputTokenLimit"]);d!=null&&p(e,["inputTokenLimit"],d);const h=f(t,["outputTokenLimit"]);h!=null&&p(e,["outputTokenLimit"],h);const m=f(t,["supportedGenerationMethods"]);m!=null&&p(e,["supportedActions"],m);const v=f(t,["temperature"]);v!=null&&p(e,["temperature"],v);const x=f(t,["maxTemperature"]);x!=null&&p(e,["maxTemperature"],x);const b=f(t,["topP"]);b!=null&&p(e,["topP"],b);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const T=f(t,["thinking"]);return T!=null&&p(e,["thinking"],T),e}function ff(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["displayName"]);s!=null&&p(e,["displayName"],s);const o=f(t,["description"]);o!=null&&p(e,["description"],o);const l=f(t,["versionId"]);l!=null&&p(e,["version"],l);const u=f(t,["deployedModels"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>bN(b))),p(e,["endpoints"],x)}const d=f(t,["labels"]);d!=null&&p(e,["labels"],d);const h=f(t,["_self"]);h!=null&&p(e,["tunedModelInfo"],TR(h));const m=f(t,["defaultCheckpointId"]);m!=null&&p(e,["defaultCheckpointId"],m);const v=f(t,["checkpoints"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(b=>b)),p(e,["checkpoints"],x)}return e}function uR(t){const e={},i=f(t,["mediaResolution"]);i!=null&&p(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=f(t,["fileData"]);l!=null&&p(e,["fileData"],SN(l));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],EN(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],YA(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const x=f(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=f(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function cR(t){const e={},i=f(t,["productImage"]);return i!=null&&p(e,["image"],Tn(i)),e}function dR(t,e){const i={},s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const o=f(t,["baseSteps"]);e!==void 0&&o!=null&&p(e,["parameters","baseSteps"],o);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&p(e,["parameters","storageUri"],l);const u=f(t,["seed"]);e!==void 0&&u!=null&&p(e,["parameters","seed"],u);const d=f(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&p(e,["parameters","safetySetting"],d);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h);const m=f(t,["addWatermark"]);e!==void 0&&m!=null&&p(e,["parameters","addWatermark"],m);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const x=f(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&p(e,["parameters","outputOptions","compressionQuality"],x);const b=f(t,["enhancePrompt"]);e!==void 0&&b!=null&&p(e,["parameters","enhancePrompt"],b);const E=f(t,["labels"]);return e!==void 0&&E!=null&&p(e,["labels"],E),i}function fR(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["source"]);o!=null&&mR(o,i);const l=f(e,["config"]);return l!=null&&dR(l,i),i}function hR(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>yu(o))),p(e,["generatedImages"],s)}return e}function mR(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=f(t,["personImage"]);e!==void 0&&o!=null&&p(e,["instances[0]","personImage","image"],Tn(o));const l=f(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>cR(d))),p(e,["instances[0]","productImages"],u)}return i}function pR(t){const e={},i=f(t,["referenceImage"]);i!=null&&p(e,["referenceImage"],Tn(i));const s=f(t,["referenceId"]);s!=null&&p(e,["referenceId"],s);const o=f(t,["referenceType"]);o!=null&&p(e,["referenceType"],o);const l=f(t,["maskImageConfig"]);l!=null&&p(e,["maskImageConfig"],lR(l));const u=f(t,["controlImageConfig"]);u!=null&&p(e,["controlImageConfig"],tN(u));const d=f(t,["styleImageConfig"]);d!=null&&p(e,["styleImageConfig"],d);const h=f(t,["subjectImageConfig"]);return h!=null&&p(e,["subjectImageConfig"],h),e}function J0(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&p(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&p(e,["scores"],s);const o=f(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function Y0(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&p(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&p(e,["scores"],s);const o=f(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function gR(t){const e={},i=f(t,["category"]);if(i!=null&&p(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&p(e,["threshold"],s),e}function yR(t){const e={},i=f(t,["image"]);return i!=null&&p(e,["image"],Tn(i)),e}function vR(t,e){const i={},s=f(t,["mode"]);e!==void 0&&s!=null&&p(e,["parameters","mode"],s);const o=f(t,["maxPredictions"]);e!==void 0&&o!=null&&p(e,["parameters","maxPredictions"],o);const l=f(t,["confidenceThreshold"]);e!==void 0&&l!=null&&p(e,["parameters","confidenceThreshold"],l);const u=f(t,["maskDilation"]);e!==void 0&&u!=null&&p(e,["parameters","maskDilation"],u);const d=f(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&p(e,["parameters","binaryColorThreshold"],d);const h=f(t,["labels"]);return e!==void 0&&h!=null&&p(e,["labels"],h),i}function _R(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["source"]);o!=null&&bR(o,i);const l=f(e,["config"]);return l!=null&&vR(l,i),i}function xR(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>$N(o))),p(e,["generatedMasks"],s)}return e}function bR(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Tn(o));const l=f(t,["scribbleImage"]);return e!==void 0&&l!=null&&p(e,["instances[0]","scribble"],yR(l)),i}function K0(t){const e={},i=f(t,["languageCode"]);i!=null&&p(e,["languageCode"],i);const s=f(t,["voiceConfig"]);if(s!=null&&p(e,["voiceConfig"],s),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function SR(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&p(e,["functionCallingConfig"],wN(i));const s=f(t,["retrievalConfig"]);return s!=null&&p(e,["retrievalConfig"],s),e}function ER(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>x)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const l=f(t,["fileSearch"]);l!=null&&p(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],XN(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],WN(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function Q0(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>TN(b))),p(e,["functionDeclarations"],x)}const s=f(t,["retrieval"]);s!=null&&p(e,["retrieval"],s);const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const l=f(t,["computerUse"]);if(l!=null&&p(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&p(e,["enterpriseWebSearch"],d);const h=f(t,["googleMaps"]);h!=null&&p(e,["googleMaps"],h);const m=f(t,["googleSearch"]);m!=null&&p(e,["googleSearch"],m);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function wR(t){const e={},i=f(t,["baseModel"]);i!=null&&p(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&p(e,["createTime"],s);const o=f(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function TR(t){const e={},i=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&p(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&p(e,["createTime"],s);const o=f(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function CR(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const o=f(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&p(e,["defaultCheckpointId"],l),i}function AR(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const o=f(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&p(e,["defaultCheckpointId"],l),i}function NR(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","name"],$e(t,s));const o=f(e,["config"]);return o!=null&&CR(o,i),i}function RR(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["config"]);return o!=null&&AR(o,i),i}function IR(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const o=f(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h);const m=f(t,["enhanceInputImage"]);e!==void 0&&m!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=f(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const x=f(t,["labels"]);e!==void 0&&x!=null&&p(e,["labels"],x);const b=f(t,["numberOfImages"]);e!==void 0&&b!=null&&p(e,["parameters","sampleCount"],b);const E=f(t,["mode"]);return e!==void 0&&E!=null&&p(e,["parameters","mode"],E),i}function MR(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["_url","model"],$e(t,s));const o=f(e,["image"]);o!=null&&p(i,["instances[0]","image"],Tn(o));const l=f(e,["upscaleFactor"]);l!=null&&p(i,["parameters","upscaleConfig","upscaleFactor"],l);const u=f(e,["config"]);return u!=null&&IR(u,i),i}function DR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>yu(l))),p(e,["generatedImages"],o)}return e}function kR(t){const e={},i=f(t,["uri"]);i!=null&&p(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&p(e,["videoBytes"],qi(s));const o=f(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function UR(t){const e={},i=f(t,["gcsUri"]);i!=null&&p(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&p(e,["videoBytes"],qi(s));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function PR(t){const e={},i=f(t,["image"]);i!=null&&p(e,["_self"],Tn(i));const s=f(t,["maskMode"]);return s!=null&&p(e,["maskMode"],s),e}function OR(t){const e={},i=f(t,["image"]);i!=null&&p(e,["image"],vu(i));const s=f(t,["referenceType"]);return s!=null&&p(e,["referenceType"],s),e}function LR(t){const e={},i=f(t,["image"]);i!=null&&p(e,["image"],Tn(i));const s=f(t,["referenceType"]);return s!=null&&p(e,["referenceType"],s),e}function X0(t){const e={},i=f(t,["uri"]);i!=null&&p(e,["uri"],i);const s=f(t,["videoBytes"]);s!=null&&p(e,["encodedVideo"],qi(s));const o=f(t,["mimeType"]);return o!=null&&p(e,["encoding"],o),e}function W0(t){const e={},i=f(t,["uri"]);i!=null&&p(e,["gcsUri"],i);const s=f(t,["videoBytes"]);s!=null&&p(e,["bytesBase64Encoded"],qi(s));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qR="Content-Type",BR="X-Server-Timeout",zR="User-Agent",hf="x-goog-api-client",VR="1.30.0",HR=`google-genai-sdk/${VR}`,GR="v1beta1",jR="v1beta",_v=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class $R{constructor(e){var i,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:GR,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:jR,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const o=[this.getRequestUrlInternal(i)];return s&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))o.searchParams.append(u,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(i))typeof l=="object"?s[o]=Object.assign(Object.assign({},s[o]),l):l!==void 0&&(s[o]=l);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,o){if(i&&i.timeout||o){const l=new AbortController,u=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const d=setTimeout(()=>l.abort(),i.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=u}return i&&i.extraBody!==null&&FR(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async o=>(await xv(o),new lf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async o=>(await xv(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var i;return Cs(this,arguments,function*(){const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:h}=yield st(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=l.decode(h,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const b=JSON.parse(JSON.stringify(x.error)),E=b.status,T=b.code,A=`got status: ${E}. ${JSON.stringify(x)}`;if(T>=400&&T<600)throw new pu({message:A,status:T})}}catch(x){if(x.name==="ApiError")throw x}u+=m;let v=u.match(_v);for(;v;){const x=v[1];try{const b=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield st(new lf(b)),u=u.slice(v[0].length),v=u.match(_v)}catch(b){throw new Error(`exception parsing stream chunk ${x}. ${b}`)}}}}finally{o.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=HR+" "+this.clientOptions.userAgentExtra;return e[zR]=i,e[hf]=i,e[qR]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))s.append(o,l);e.timeout&&e.timeout>0&&s.append(BR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const o={};i!=null&&(o.mimeType=i.mimeType,o.name=i.name,o.displayName=i.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);o.sizeBytes=String(u.size);const d=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const h={file:o},m=this.getFileName(e),v=ge("upload/v1beta/files",h._url),x=await this.fetchUploadUrl(v,o.sizeBytes,o.mimeType,m,h,i==null?void 0:i.httpOptions);return l.upload(e,x,this)}async uploadFileToFileSearchStore(e,i,s){var o;const l=this.clientOptions.uploader,u=await l.stat(i),d=String(u.size),h=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),x={};s!=null&&s.customMetadata&&(x.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(x.chunkingConfig=s.chunkingConfig);const b=await this.fetchUploadUrl(m,d,h,v,x,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(i,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,o,l,u){var d;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},o?{"X-Goog-Upload-File-Name":o}:{})};const m=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:h});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(d=m==null?void 0:m.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function xv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(s);throw i>=400&&i<600?new pu({message:o,status:i}):new Error(o)}}function FR(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,u){const d=Object.assign({},l);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const m=u[h],v=d[h];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?d[h]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),d[h]=m)}return d}const o=s(i,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JR="mcp_used/unknown";let YR=!1;function Z0(t){for(const e of t)if(KR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return YR}function e_(t){var e;const i=(e=t[hf])!==null&&e!==void 0?e:"";t[hf]=(i+` ${JR}`).trimStart()}function KR(t){return t!==null&&typeof t=="object"&&t instanceof jf}function QR(t,e=100){return Cs(this,arguments,function*(){let s,o=0;for(;o<e;){const l=yield st(t.listTools({cursor:s}));for(const u of l.tools)yield yield st(u),o++;if(!l.nextCursor)break;s=l.nextCursor}})}class jf{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new jf(e,i)}async initialize(){var e,i,s,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const v of this.mcpClients)try{for(var d=!0,h=(i=void 0,$o(QR(v))),m;m=await h.next(),e=m.done,!e;d=!0){o=m.value,d=!1;const x=o;u.push(x);const b=x.name;if(l[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);l[b]=v}}catch(x){i={error:x}}finally{try{!d&&!e&&(s=h.return)&&await s.call(h)}finally{if(i)throw i.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),HT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:s.name,arguments:s.args},void 0,l);i.push({functionResponse:{name:s.name,response:u.isError?{error:u}:u}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function XR(t,e,i){const s=new UT;let o;i.data instanceof Blob?o=JSON.parse(await i.data.text()):o=JSON.parse(i.data),Object.assign(s,o),e(s)}class WR{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=t1(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),h=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let m=()=>{};const v=new Promise(M=>{m=M}),x=e.callbacks,b=function(){m({})},E=this.apiClient,T={onopen:b,onmessage:M=>{XR(E,x.onmessage,M)},onerror:(i=x==null?void 0:x.onerror)!==null&&i!==void 0?i:function(M){},onclose:(s=x==null?void 0:x.onclose)!==null&&s!==void 0?s:function(M){}},A=this.webSocketFactory.create(h,e1(u),T);A.connect(),await v;const V={setup:{model:$e(this.apiClient,e.model)}};return A.send(JSON.stringify(V)),new ZR(A,this.apiClient)}}class ZR{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=BA(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=qA(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(ws.PLAY)}pause(){this.sendPlaybackControl(ws.PAUSE)}stop(){this.sendPlaybackControl(ws.STOP)}resetContext(){this.sendPlaybackControl(ws.RESET_CONTEXT)}close(){this.conn.close()}}function e1(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function t1(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function i1(t,e,i){const s=new kT;let o;i.data instanceof Blob?o=await i.data.text():i.data instanceof ArrayBuffer?o=new TextDecoder().decode(i.data):o=i.data;const l=JSON.parse(o);if(t.isVertexAI()){const u=HA(l);Object.assign(s,u)}else Object.assign(s,l);e(s)}class r1{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new WR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,o,l,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&Z0(e.config.tools)&&e_(x);const b=l1(x);if(this.apiClient.isVertexAI())v=`${h}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,v);else{const ae=this.apiClient.getApiKey();let _e="BidiGenerateContent",Ce="key";ae!=null&&ae.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),_e="BidiGenerateContentConstrained",Ce="access_token"),v=`${h}/ws/google.ai.generativelanguage.${m}.GenerativeService.${_e}?${Ce}=${ae}`}let E=()=>{};const T=new Promise(ae=>{E=ae}),A=e.callbacks,N=function(){var ae;(ae=A==null?void 0:A.onopen)===null||ae===void 0||ae.call(A),E({})},P=this.apiClient,V={onopen:N,onmessage:ae=>{i1(P,A.onmessage,ae)},onerror:(i=A==null?void 0:A.onerror)!==null&&i!==void 0?i:function(ae){},onclose:(s=A==null?void 0:A.onclose)!==null&&s!==void 0?s:function(ae){}},M=this.webSocketFactory.create(v,a1(b),V);M.connect(),await T;let j=$e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const ae=this.apiClient.getProject(),_e=this.apiClient.getLocation();j=`projects/${ae}/locations/${_e}/`+j}let B={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[iu.AUDIO]}:e.config.responseModalities=[iu.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],Q=[];for(const ae of X)if(this.isCallableTool(ae)){const _e=ae;Q.push(await _e.tool())}else Q.push(ae);Q.length>0&&(e.config.tools=Q);const ce={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=LA(this.apiClient,ce):B=OA(this.apiClient,ce),delete B.config,M.send(JSON.stringify(B)),new o1(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const s1={turnComplete:!0};class o1{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=pn(i.turns),e.isVertexAI()||(s=s.map(o=>gu(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(n1)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},s1),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:VA(e)}:i={realtimeInput:zA(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function a1(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function l1(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bv=10;function Sv(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(As(u)){o=!0;break}if(!o)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function As(t){return"callTool"in t&&typeof t.callTool=="function"}function u1(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(o=>As(o)))!==null&&s!==void 0?s:!1}function Ev(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,o)=>{if(As(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(o)}),i}function wv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c1 extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,o,l,u,d;const h=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!u1(i)||Sv(i.config))return await this.generateContentInternal(h);const m=Ev(i);if(m.length>0){const A=m.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let v,x;const b=pn(h.contents),E=(l=(o=(s=h.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:bv;let T=0;for(;T<E&&(v=await this.generateContentInternal(h),!(!v.functionCalls||v.functionCalls.length===0));){const A=v.candidates[0].content,N=[];for(const P of(d=(u=i.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(As(P)){const M=await P.callTool(v.functionCalls);N.push(...M)}T++,x={role:"user",parts:N},h.contents=pn(h.contents),h.contents.push(A),h.contents.push(x),wv(h.config)&&(b.push(A),b.push(x))}return wv(h.config)&&(v.automaticFunctionCallingHistory=b),v},this.generateContentStream=async i=>{var s,o,l,u,d;if(this.maybeMoveToResponseJsonSchem(i),Sv(i.config)){const x=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(x)}const h=Ev(i);if(h.length>0){const x=h.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(o=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(d=(u=i==null?void 0:i.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var o;let l;const u=[];if(s!=null&&s.generatedImages)for(const h of s.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((o=h==null?void 0:h.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=h==null?void 0:h.safetyAttributes:u.push(h);let d;return l?d={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:s.sdkHttpResponse},d}),this.list=async i=>{var s;const u={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((s=u.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Er(ni.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const o={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(o)},this.generateVideos=async i=>{var s,o,l,u,d,h;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((o=i.video)===null||o===void 0)&&o.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((u=(l=i.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((h=(d=i.source)===null||d===void 0?void 0:d.video)===null||h===void 0)&&h.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,o;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const u=await Promise.all(l.map(async h=>As(h)?await h.tool():h)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&Z0(e.config.tools)){const h=(o=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},h);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),e_(m),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return d}async initAfcToolsMap(e){var i,s,o;const l=new Map;for(const u of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(As(u)){const d=u,h=await d.tool();for(const m of(o=h.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,d)}}return l}async processAfcStream(e){var i,s,o;const l=(o=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:bv;let u=!1,d=0;const h=await this.initAfcToolsMap(e);return(function(m,v,x){var b,E;return Cs(this,arguments,function*(){for(var T,A,N,P;d<l;){u&&(d++,u=!1);const B=yield st(m.processParamsMaybeAddMcpUsage(x)),X=yield st(m.generateContentStreamInternal(B)),Q=[],ce=[];try{for(var V=!0,M=(A=void 0,$o(X)),j;j=yield st(M.next()),T=j.done,!T;V=!0){P=j.value,V=!1;const ae=P;if(yield yield st(ae),ae.candidates&&(!((b=ae.candidates[0])===null||b===void 0)&&b.content)){ce.push(ae.candidates[0].content);for(const _e of(E=ae.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(d<l&&_e.functionCall){if(!_e.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(_e.functionCall.name)){const Ce=yield st(v.get(_e.functionCall.name).callTool([_e.functionCall]));Q.push(...Ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${_e.functionCall.name}`)}}}}catch(ae){A={error:ae}}finally{try{!V&&!T&&(N=M.return)&&(yield st(N.call(M)))}finally{if(A)throw A.error}}if(Q.length>0){u=!0;const ae=new Ho;ae.candidates=[{content:{role:"user",parts:Q}}],yield yield st(ae);const _e=[];_e.push(...ce),_e.push({role:"user",parts:Q});const Ce=pn(x.contents).concat(_e);x.contents=Ce}else break}})})(this,h,e)}async generateContentInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=gv(this.apiClient,e);return d=ge("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=vv(v),b=new Ho;return Object.assign(b,x),b})}else{const m=pv(this.apiClient,e);return d=ge("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=yv(v),b=new Ho;return Object.assign(b,x),b})}}async generateContentStreamInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=gv(this.apiClient,e);return d=ge("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(x){return Cs(this,arguments,function*(){var b,E,T,A;try{for(var N=!0,P=$o(x),V;V=yield st(P.next()),b=V.done,!b;N=!0){A=V.value,N=!1;const M=A,j=vv(yield st(M.json()));j.sdkHttpResponse={headers:M.headers};const B=new Ho;Object.assign(B,j),yield yield st(B)}}catch(M){E={error:M}}finally{try{!N&&!b&&(T=P.return)&&(yield st(T.call(P)))}finally{if(E)throw E.error}}})})}else{const m=pv(this.apiClient,e);return d=ge("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(x){return Cs(this,arguments,function*(){var b,E,T,A;try{for(var N=!0,P=$o(x),V;V=yield st(P.next()),b=V.done,!b;N=!0){A=V.value,N=!1;const M=A,j=yv(yield st(M.json()));j.sdkHttpResponse={headers:M.headers};const B=new Ho;Object.assign(B,j),yield yield st(B)}}catch(M){E={error:M}}finally{try{!N&&!b&&(T=P.return)&&(yield st(T.call(P)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=vN(this.apiClient,e);return d=ge("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=xN(v),b=new Zy;return Object.assign(b,x),b})}else{const m=yN(this.apiClient,e);return d=ge("{model}:batchEmbedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=_N(v),b=new Zy;return Object.assign(b,x),b})}}async generateImagesInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=MN(this.apiClient,e);return d=ge("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=kN(v),b=new ev;return Object.assign(b,x),b})}else{const m=IN(this.apiClient,e);return d=ge("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=DN(v),b=new ev;return Object.assign(b,x),b})}}async editImageInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=hN(this.apiClient,e);return l=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=mN(h),v=new ST;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=MR(this.apiClient,e);return l=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=DR(h),v=new ET;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=fR(this.apiClient,e);return l=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=hR(h),v=new wT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=_R(this.apiClient,e);return l=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=xR(h),v=new TT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=QN(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>ff(v))}else{const m=KN(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>df(v))}}async listInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=sR(this.apiClient,e);return d=ge("{models_url}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=aR(v),b=new tv;return Object.assign(b,x),b})}else{const m=rR(this.apiClient,e);return d=ge("{models_url}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=oR(v),b=new tv;return Object.assign(b,x),b})}}async update(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=RR(this.apiClient,e);return d=ge("{model}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>ff(v))}else{const m=NR(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>df(v))}}async delete(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=uN(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=dN(v),b=new nv;return Object.assign(b,x),b})}else{const m=lN(this.apiClient,e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=cN(v),b=new nv;return Object.assign(b,x),b})}}async countTokens(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=sN(this.apiClient,e);return d=ge("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=aN(v),b=new iv;return Object.assign(b,x),b})}else{const m=rN(this.apiClient,e);return d=ge("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=oN(v),b=new iv;return Object.assign(b,x),b})}}async computeTokens(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=XA(this.apiClient,e);return l=ge("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=WA(h),v=new CT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=BN(this.apiClient,e);return d=ge("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const x=LN(v),b=new ru;return Object.assign(b,x),b})}else{const m=qN(this.apiClient,e);return d=ge("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>{const x=ON(v),b=new ru;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d1 extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=gT(e);return d=ge("{operationName}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u}else{const m=pT(e);return d=ge("{operationName}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u}}async fetchPredictVideosOperationInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=lT(e);return l=ge("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f1(t){const e={},i=f(t,["data"]);if(i!=null&&p(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function h1(t){const e={},i=f(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>S1(l))),p(e,["parts"],o)}const s=f(t,["role"]);return s!=null&&p(e,["role"],s),e}function m1(t,e,i){const s={},o=f(e,["expireTime"]);i!==void 0&&o!=null&&p(i,["expireTime"],o);const l=f(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&p(i,["newSessionExpireTime"],l);const u=f(e,["uses"]);i!==void 0&&u!=null&&p(i,["uses"],u);const d=f(e,["liveConnectConstraints"]);i!==void 0&&d!=null&&p(i,["bidiGenerateContentSetup"],b1(t,d));const h=f(e,["lockAdditionalFields"]);return i!==void 0&&h!=null&&p(i,["fieldMask"],h),s}function p1(t,e){const i={},s=f(e,["config"]);return s!=null&&p(i,["config"],m1(t,s,i)),i}function g1(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function y1(t){const e={},i=f(t,["id"]);i!=null&&p(e,["id"],i);const s=f(t,["args"]);s!=null&&p(e,["args"],s);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function v1(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&p(e,["enableWidget"],i),e}function _1(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&p(e,["timeRangeFilter"],i),e}function x1(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],s);const o=f(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const l=f(t,["temperature"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","temperature"],l);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],Gf(x));const b=f(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const E=f(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=f(t,["systemInstruction"]);e!==void 0&&T!=null&&p(e,["setup","systemInstruction"],h1(Pt(T)));const A=f(t,["tools"]);if(e!==void 0&&A!=null){let X=Ps(A);Array.isArray(X)&&(X=X.map(Q=>w1(Us(Q)))),p(e,["setup","tools"],X)}const N=f(t,["sessionResumption"]);e!==void 0&&N!=null&&p(e,["setup","sessionResumption"],E1(N));const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&p(e,["setup","inputAudioTranscription"],P);const V=f(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&p(e,["setup","outputAudioTranscription"],V);const M=f(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&p(e,["setup","realtimeInputConfig"],M);const j=f(t,["contextWindowCompression"]);e!==void 0&&j!=null&&p(e,["setup","contextWindowCompression"],j);const B=f(t,["proactivity"]);return e!==void 0&&B!=null&&p(e,["setup","proactivity"],B),i}function b1(t,e){const i={},s=f(e,["model"]);s!=null&&p(i,["setup","model"],$e(t,s));const o=f(e,["config"]);return o!=null&&p(i,["config"],x1(o,i)),i}function S1(t){const e={},i=f(t,["mediaResolution"]);i!=null&&p(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=f(t,["fileData"]);l!=null&&p(e,["fileData"],g1(l));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],y1(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],f1(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const x=f(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=f(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function E1(t){const e={},i=f(t,["handle"]);if(i!=null&&p(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function w1(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(x=>x)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&p(e,["googleSearchRetrieval"],s);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const l=f(t,["fileSearch"]);l!=null&&p(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],v1(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],_1(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T1(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(l=>`${i}.${l}`);e.push(...o)}else e.push(i)}return e.join(",")}function C1(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(i){const l=T1(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(m=>u.includes(m)?`generationConfig.${m}`:m));const h=[];l&&h.push(l),d.length>0&&h.push(...d),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class A1 extends ii{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=p1(this.apiClient,e);l=ge("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=C1(d,e.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N1(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&p(e,["displayName"],s),i}function R1(t){const e={},i=f(t,["config"]);return i!=null&&N1(i,e),e}function I1(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&p(e,["_query","force"],s),i}function M1(t){const e={},i=f(t,["name"]);i!=null&&p(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&I1(s,e),e}function D1(t){const e={},i=f(t,["name"]);return i!=null&&p(e,["_url","name"],i),e}function k1(t,e){const i={},s=f(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["customMetadata"],l)}const o=f(t,["chunkingConfig"]);return e!==void 0&&o!=null&&p(e,["chunkingConfig"],o),i}function U1(t){const e={},i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const l=f(t,["error"]);l!=null&&p(e,["error"],l);const u=f(t,["response"]);return u!=null&&p(e,["response"],O1(u)),e}function P1(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&p(e,["_url","file_search_store_name"],i);const s=f(t,["fileName"]);s!=null&&p(e,["fileName"],s);const o=f(t,["config"]);return o!=null&&k1(o,e),e}function O1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&p(e,["parent"],s);const o=f(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function L1(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),i}function q1(t){const e={},i=f(t,["config"]);return i!=null&&L1(i,e),e}function B1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["fileSearchStores"],l)}return e}function z1(t,e){const i={},s=f(t,["mimeType"]);e!==void 0&&s!=null&&p(e,["mimeType"],s);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const l=f(t,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["customMetadata"],d)}const u=f(t,["chunkingConfig"]);return e!==void 0&&u!=null&&p(e,["chunkingConfig"],u),i}function V1(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&p(e,["_url","file_search_store_name"],i);const s=f(t,["config"]);return s!=null&&z1(s,e),e}function H1(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&p(e,["_query","force"],s),i}function j1(t){const e={},i=f(t,["name"]);i!=null&&p(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&G1(s,e),e}function $1(t){const e={},i=f(t,["name"]);return i!=null&&p(e,["_url","name"],i),e}function F1(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),i}function J1(t){const e={},i=f(t,["parent"]);i!=null&&p(e,["_url","parent"],i);const s=f(t,["config"]);return s!=null&&F1(s,e),e}function Y1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&p(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=f(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),p(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K1 extends ii{constructor(e){super(),this.apiClient=e,this.list=async i=>new Er(ni.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$1(e);return l=ge("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var i,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j1(e);o=ge("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=J1(e);return l=ge("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=Y1(h),v=new AT;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q1 extends ii{constructor(e,i=new K1(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new Er(ni.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=R1(e);return l=ge("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=D1(e);return l=ge("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var i,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=M1(e);o=ge("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=q1(e);return l=ge("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=B1(h),v=new NT;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=V1(e);return l=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=H1(h),v=new RT;return Object.assign(v,m),v})}}async importFile(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=P1(e);return l=ge("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=U1(h),v=new qf;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X1(t,e){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],s),i}function W1(t,e){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],s),i}function Z1(t,e,i){const s={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=f(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&p(e,["displayName"],o),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=f(t,["epochCount"]);e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","epochCount"],l);const u=f(t,["learningRateMultiplier"]);if(u!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],u),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=f(t,["batchSize"]);e!==void 0&&d!=null&&p(e,["tuningTask","hyperparameters","batchSize"],d);const h=f(t,["learningRate"]);if(e!==void 0&&h!=null&&p(e,["tuningTask","hyperparameters","learningRate"],h),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function eI(t,e,i){const s={};let o=f(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const E=f(t,["validationDataset"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec"],Tv(E))}else if(o==="PREFERENCE_TUNING"){const E=f(t,["validationDataset"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec"],Tv(E))}const l=f(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&p(e,["tunedModelDisplayName"],l);const u=f(t,["description"]);e!==void 0&&u!=null&&p(e,["description"],u);let d=f(i,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=f(t,["epochCount"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(d==="PREFERENCE_TUNING"){const E=f(t,["epochCount"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=f(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(h==="PREFERENCE_TUNING"){const E=f(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=f(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=f(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=f(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let v=f(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=f(t,["adapterSize"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(v==="PREFERENCE_TUNING"){const E=f(t,["adapterSize"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=f(t,["labels"]);e!==void 0&&x!=null&&p(e,["labels"],x);const b=f(t,["beta"]);return e!==void 0&&b!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),s}function tI(t,e){const i={},s=f(t,["baseModel"]);s!=null&&p(i,["baseModel"],s);const o=f(t,["preTunedModel"]);o!=null&&p(i,["preTunedModel"],o);const l=f(t,["trainingDataset"]);l!=null&&fI(l);const u=f(t,["config"]);return u!=null&&Z1(u,i),i}function nI(t,e){const i={},s=f(t,["baseModel"]);s!=null&&p(i,["baseModel"],s);const o=f(t,["preTunedModel"]);o!=null&&p(i,["preTunedModel"],o);const l=f(t,["trainingDataset"]);l!=null&&hI(l,i,e);const u=f(t,["config"]);return u!=null&&eI(u,i,e),i}function iI(t,e){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],s),i}function rI(t,e){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],s),i}function sI(t,e,i){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),s}function oI(t,e,i){const s={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),s}function aI(t,e){const i={},s=f(t,["config"]);return s!=null&&sI(s,i),i}function lI(t,e){const i={},s=f(t,["config"]);return s!=null&&oI(s,i),i}function uI(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&p(i,["nextPageToken"],o);const l=f(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>t_(d))),p(i,["tuningJobs"],u)}return i}function cI(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const o=f(t,["nextPageToken"]);o!=null&&p(i,["nextPageToken"],o);const l=f(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>mf(d))),p(i,["tuningJobs"],u)}return i}function dI(t,e){const i={},s=f(t,["name"]);s!=null&&p(i,["model"],s);const o=f(t,["name"]);return o!=null&&p(i,["endpoint"],o),i}function fI(t,e){const i={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(t,["examples"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),p(i,["examples","examples"],o)}return i}function hI(t,e,i){const s={};let o=f(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=f(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=f(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=f(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=f(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=f(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function t_(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const o=f(t,["name"]);o!=null&&p(i,["name"],o);const l=f(t,["state"]);l!=null&&p(i,["state"],O0(l));const u=f(t,["createTime"]);u!=null&&p(i,["createTime"],u);const d=f(t,["tuningTask","startTime"]);d!=null&&p(i,["startTime"],d);const h=f(t,["tuningTask","completeTime"]);h!=null&&p(i,["endTime"],h);const m=f(t,["updateTime"]);m!=null&&p(i,["updateTime"],m);const v=f(t,["description"]);v!=null&&p(i,["description"],v);const x=f(t,["baseModel"]);x!=null&&p(i,["baseModel"],x);const b=f(t,["_self"]);return b!=null&&p(i,["tunedModel"],dI(b)),i}function mf(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const o=f(t,["name"]);o!=null&&p(i,["name"],o);const l=f(t,["state"]);l!=null&&p(i,["state"],O0(l));const u=f(t,["createTime"]);u!=null&&p(i,["createTime"],u);const d=f(t,["startTime"]);d!=null&&p(i,["startTime"],d);const h=f(t,["endTime"]);h!=null&&p(i,["endTime"],h);const m=f(t,["updateTime"]);m!=null&&p(i,["updateTime"],m);const v=f(t,["error"]);v!=null&&p(i,["error"],v);const x=f(t,["description"]);x!=null&&p(i,["description"],x);const b=f(t,["baseModel"]);b!=null&&p(i,["baseModel"],b);const E=f(t,["tunedModel"]);E!=null&&p(i,["tunedModel"],E);const T=f(t,["preTunedModel"]);T!=null&&p(i,["preTunedModel"],T);const A=f(t,["supervisedTuningSpec"]);A!=null&&p(i,["supervisedTuningSpec"],A);const N=f(t,["preferenceOptimizationSpec"]);N!=null&&p(i,["preferenceOptimizationSpec"],N);const P=f(t,["tuningDataStats"]);P!=null&&p(i,["tuningDataStats"],P);const V=f(t,["encryptionSpec"]);V!=null&&p(i,["encryptionSpec"],V);const M=f(t,["partnerModelTuningSpec"]);M!=null&&p(i,["partnerModelTuningSpec"],M);const j=f(t,["customBaseModel"]);j!=null&&p(i,["customBaseModel"],j);const B=f(t,["experiment"]);B!=null&&p(i,["experiment"],B);const X=f(t,["labels"]);X!=null&&p(i,["labels"],X);const Q=f(t,["outputUri"]);Q!=null&&p(i,["outputUri"],Q);const ce=f(t,["pipelineJob"]);ce!=null&&p(i,["pipelineJob"],ce);const ae=f(t,["serviceAccount"]);ae!=null&&p(i,["serviceAccount"],ae);const _e=f(t,["tunedModelDisplayName"]);_e!=null&&p(i,["tunedModelDisplayName"],_e);const Ce=f(t,["veoTuningSpec"]);return Ce!=null&&p(i,["veoTuningSpec"],Ce),i}function mI(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const o=f(t,["name"]);o!=null&&p(i,["name"],o);const l=f(t,["metadata"]);l!=null&&p(i,["metadata"],l);const u=f(t,["done"]);u!=null&&p(i,["done"],u);const d=f(t,["error"]);return d!=null&&p(i,["error"],d),i}function Tv(t,e){const i={},s=f(t,["gcsUri"]);s!=null&&p(i,["validationDatasetUri"],s);const o=f(t,["vertexDatasetResource"]);return o!=null&&p(i,["validationDatasetUri"],o),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pI extends ii{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Er(ni.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const o={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(o.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},i);return await this.tuneInternal(o)}else{const o=Object.assign({},i),l=await this.tuneMldevInternal(o);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:af.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=rI(e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>mf(v))}else{const m=iI(e);return d=ge("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>t_(v))}}async listInternal(e){var i,s,o,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=lI(e);return d=ge("tuningJobs",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=cI(v),b=new rv;return Object.assign(b,x),b})}else{const m=aI(e);return d=ge("tunedModels",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:v.headers},b})),u.then(v=>{const x=uI(v),b=new rv;return Object.assign(b,x),b})}}async cancel(e){var i,s,o,l;let u="",d={};if(this.apiClient.isVertexAI()){const h=W1(e);u=ge("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const h=X1(e);u=ge("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=nI(e,e);return l=ge("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>mf(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tI(e);return l=ge("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>mI(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gI{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const yI=1024*1024*8,vI=3,_I=1e3,xI=2,ou="x-goog-upload-status";async function bI(t,e,i){var s;const o=await n_(t,e,i),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function SI(t,e,i){var s;const o=await n_(t,e,i),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=I0(l),d=new Bf;return Object.assign(d,u),d}async function n_(t,e,i){var s,o;let l=0,u=0,d=new lf(new Response),h="upload";for(l=t.size;u<l;){const m=Math.min(yI,l-u),v=t.slice(u,u+m);u+m>=l&&(h+=", finalize");let x=0,b=_I;for(;x<vI&&(d=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((s=d==null?void 0:d.headers)===null||s===void 0)&&s[ou]));)x++,await wI(b),b=b*xI;if(u+=m,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[ou])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function EI(t){return{size:t.size,type:t.type}}function wI(t){return new Promise(e=>setTimeout(e,t))}class TI{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bI(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SI(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await EI(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CI{create(e,i,s){return new AI(e,i,s)}}class AI{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cv="x-goog-api-key";class NI{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Cv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Cv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RI="gl-node/";class II{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=oT(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const o=new NI(this.apiKey);this.apiClient=new $R({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:RI+"web",uploader:new TI,downloader:new gI}),this.models=new c1(this.apiClient),this.live=new r1(this.apiClient,o,new CI),this.batches=new PC(this.apiClient),this.chats=new gA(this.models,this.apiClient),this.caches=new hA(this.apiClient),this.files=new CA(this.apiClient),this.operations=new d1(this.apiClient),this.authTokens=new A1(this.apiClient),this.tunings=new pI(this.apiClient),this.fileSearchStores=new Q1(this.apiClient)}}const MI="AIzaSyAyJvzd8d-kWuSYAPoIoahqlY9UmoznZVY";let pf=null;pf=new II({apiKey:MI});const DI=t=>{if(!pf)return null;const i=`
    Eres un asistente de ventas virtual experto y creativo para la marca "3D2".
    Tu especialidad es la impresin 3D y el corte lser.
    Tu objetivo es ayudar a los clientes a encontrar regalos nicos, explicar los materiales (PLA, madera, acrlico) y sugerir personalizaciones.
    
    Aqu tienes el catlogo actual de productos:
    ${t.map(s=>`- ${s.name} ($${s.price}): ${s.description} [Categora: ${s.category}]`).join(`
`)}

    Reglas:
    1. Responde siempre en espaol.
    2. Tu tono es amigable, artesanal y moderno.
    3. Si te preguntan por un producto personalizado (como un nombre o logo), di que s lo hacemos! y que pueden contactarnos para detalles.
    4. Explica brevemente las ventajas de la impresin 3D (biodegradable, formas nicas) si viene al caso.
    5. Utiliza emojis relacionados (, , , ) para mantener un tono fresco.
  `;return pf.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:i,temperature:.7}})},kI=async(t,e)=>{try{return(await t.sendMessage({message:e})).text||"Lo siento, no pude procesar tu respuesta en este momento."}catch(i){return console.error("Error communicating with Gemini:",i),"Hubo un problema tcnico al conectar con el asistente. Por favor intenta ms tarde."}},UI=({products:t})=>{const[e,i]=O.useState(!1),[s,o]=O.useState(!1),[l,u]=O.useState([{id:"welcome",role:"model",text:"Hola!  Soy el asistente virtual de Tienda Moderna. En qu puedo ayudarte hoy?",timestamp:new Date}]),[d,h]=O.useState(""),[m,v]=O.useState(!1),x=O.useRef(null),b=O.useRef(null);O.useEffect(()=>{e&&!b.current&&(b.current=DI(t))},[e,t]),O.useEffect(()=>{E()},[l,e]);const E=()=>{var N;(N=x.current)==null||N.scrollIntoView({behavior:"smooth"})},T=async()=>{if(!d.trim()||!b.current)return;const N={id:Date.now().toString(),role:"user",text:d,timestamp:new Date};u(M=>[...M,N]),h(""),v(!0);const P=await kI(b.current,N.text),V={id:(Date.now()+1).toString(),role:"model",text:P,timestamp:new Date};u(M=>[...M,V]),v(!1)},A=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),T())};return e?_.jsxs("div",{className:`fixed z-40 bg-white shadow-2xl rounded-2xl border border-gray-200 transition-all duration-300 flex flex-col ${s?"bottom-6 right-6 w-72 h-16 overflow-hidden cursor-pointer":"bottom-6 right-6 w-80 sm:w-96 h-[500px]"}`,children:[_.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center text-white cursor-pointer",onClick:()=>s?o(!1):null,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:_.jsx(Xg,{size:18})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-sm",children:"Asistente IA"}),!s&&_.jsx("p",{className:"text-xs text-indigo-100",children:"Impulsado por Gemini"})]})]}),_.jsxs("div",{className:"flex gap-2",children:[!s&&_.jsx("button",{onClick:N=>{N.stopPropagation(),o(!0)},className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:_.jsx(pw,{size:16})}),_.jsx("button",{onClick:N=>{N.stopPropagation(),i(!1),o(!1)},className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:_.jsx(ia,{size:16})})]})]}),!s&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[l.map(N=>_.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm ${N.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-white text-slate-800 shadow-sm border border-gray-100 rounded-tl-none"}`,children:N.text})},N.id)),m&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-tl-none shadow-sm border border-gray-100 flex items-center gap-2",children:[_.jsx(lw,{size:16,className:"animate-spin text-indigo-600"}),_.jsx("span",{className:"text-xs text-slate-500",children:"Escribiendo..."})]})}),_.jsx("div",{ref:x})]}),_.jsx("div",{className:"p-3 border-t border-gray-100 bg-white",children:_.jsxs("div",{className:"relative flex items-center",children:[_.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),onKeyDown:A,placeholder:"Pregunta sobre productos...",className:"w-full pl-4 pr-12 py-3 bg-gray-100 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",disabled:m}),_.jsx("button",{onClick:T,disabled:!d.trim()||m,className:"absolute right-2 p-2 bg-white text-indigo-600 rounded-lg hover:bg-indigo-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:_.jsx(tf,{size:18})})]})})]})]}):_.jsxs("button",{onClick:()=>i(!0),className:"fixed bottom-6 right-6 z-40 p-4 bg-indigo-600 text-white rounded-full shadow-xl hover:bg-indigo-700 hover:scale-110 transition-all flex items-center gap-2 group",children:[_.jsx(Xg,{size:24,className:"group-hover:rotate-12 transition-transform"}),_.jsx("span",{className:"font-medium max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 whitespace-nowrap",children:"Asistente IA"})]})},PI=({isOpen:t,onClose:e,items:i,total:s,onConfirmOrder:o})=>{const[l,u]=O.useState("form"),[d,h]=O.useState({customerName:"",customerEmail:"",customerPhone:"",address:"",notes:"",paymentMethod:"transferencia",shippingMethod:"retiro",shippingCost:0}),v=s>=5e4,x=d.shippingMethod==="retiro"||v?0:d.shippingCost,b=s+x;if(!t)return null;const E=A=>{if(A.preventDefault(),!d.customerName||!d.customerEmail||!d.customerPhone){alert("Por favor completa todos los campos obligatorios");return}if((d.shippingMethod==="caba"||d.shippingMethod==="gba")&&!d.address){alert("Por favor ingresa tu direccin de envo");return}if((d.shippingMethod==="caba"||d.shippingMethod==="gba")&&!v&&d.shippingCost===0){alert("Por favor ingresa el costo de envo calculado");return}const N={id:`ORD-${Date.now()}`,customerName:d.customerName,customerEmail:d.customerEmail,customerPhone:d.customerPhone,items:i,total:b,paymentMethod:d.paymentMethod,shippingMethod:d.shippingMethod,shippingCost:x,status:"pendiente",timestamp:new Date().toISOString(),address:d.address||void 0,notes:d.notes||void 0};o(N),u("success"),setTimeout(()=>{u("form"),h({customerName:"",customerEmail:"",customerPhone:"",address:"",notes:"",paymentMethod:"transferencia",shippingMethod:"retiro",shippingCost:0}),e()},5e3)},T=[{id:"transferencia",name:"Transferencia Bancaria",icon:_.jsx(ef,{size:20}),description:"Te enviaremos los datos bancarios"},{id:"efectivo",name:"Efectivo",icon:_.jsx(KE,{size:20}),description:"Pago al retirar/recibir"},{id:"mercadopago",name:"MercadoPago",icon:_.jsx(vr,{size:20}),description:"Te enviaremos el link de pago"}];return _.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:_.jsxs("div",{className:"flex min-h-screen items-center justify-center p-2 sm:p-4",children:[_.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e}),_.jsx("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-[95vw] sm:max-w-lg lg:max-w-2xl max-h-[90vh] overflow-y-auto",children:l==="form"?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"sticky top-0 bg-white border-b px-4 sm:px-6 py-3 sm:py-4 flex justify-between items-center",children:[_.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-slate-900",children:"Finalizar Pedido"}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:_.jsx(ia,{size:20})})]}),_.jsxs("form",{onSubmit:E,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[_.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[_.jsx("h3",{className:"font-bold text-slate-900 mb-3",children:"Resumen del Pedido"}),_.jsx("div",{className:"space-y-2 mb-4",children:i.map(A=>_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsxs("span",{className:"text-slate-600",children:[A.name," x",A.quantity]}),_.jsxs("span",{className:"font-medium",children:["$",(A.price*A.quantity).toFixed(2)]})]},A.id))}),_.jsxs("div",{className:"border-t pt-3 space-y-2",children:[_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsx("span",{className:"text-slate-600",children:"Subtotal"}),_.jsxs("span",{className:"font-medium",children:["$",s.toFixed(2)]})]}),_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsx("span",{className:"text-slate-600",children:"Envo"}),_.jsx("span",{className:"font-medium",children:x===0?_.jsx("span",{className:"text-green-600",children:"GRATIS"}):`$${x.toFixed(2)}`})]}),_.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-bold",children:[_.jsx("span",{children:"Total"}),_.jsxs("span",{className:"text-indigo-600",children:["$",b.toFixed(2)]})]})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"font-bold text-slate-900",children:"Informacin de Contacto"}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Nombre Completo ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"text",required:!0,value:d.customerName,onChange:A=>h({...d,customerName:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Juan Prez"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Email ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"email",required:!0,value:d.customerEmail,onChange:A=>h({...d,customerEmail:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"tu@email.com"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Telfono ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"tel",required:!0,value:d.customerPhone,onChange:A=>h({...d,customerPhone:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+54 11 1234-5678"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[_.jsx(dw,{size:16}),"Direccin de Envo (opcional)"]}),_.jsx("input",{type:"text",value:d.address,onChange:A=>h({...d,address:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Calle 123, Ciudad"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[_.jsx(ow,{size:16}),"Notas adicionales (opcional)"]}),_.jsx("textarea",{value:d.notes,onChange:A=>h({...d,notes:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:3,placeholder:"Detalles especiales sobre tu pedido..."})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"font-bold text-slate-900",children:"Mtodo de Envo"}),_.jsxs("div",{className:"grid gap-3",children:[_.jsxs("label",{className:`relative flex items-start gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${d.shippingMethod==="retiro"?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-slate-300"}`,children:[_.jsx("input",{type:"radio",name:"shippingMethod",value:"retiro",checked:d.shippingMethod==="retiro",onChange:A=>h({...d,shippingMethod:"retiro",shippingCost:0}),className:"sr-only"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium text-slate-900",children:"Retiro en Punto"}),_.jsx("div",{className:"text-sm text-slate-500",children:"Coordinas con nosotros el punto de encuentro"}),_.jsx("div",{className:"text-sm font-medium text-green-600 mt-1",children:"GRATIS"})]}),d.shippingMethod==="retiro"&&_.jsx(hr,{size:20,className:"text-indigo-600"})]}),_.jsxs("label",{className:`relative flex items-start gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${d.shippingMethod==="caba"?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-slate-300"}`,children:[_.jsx("input",{type:"radio",name:"shippingMethod",value:"caba",checked:d.shippingMethod==="caba",onChange:A=>h({...d,shippingMethod:"caba"}),className:"sr-only"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium text-slate-900",children:"Envo a CABA"}),_.jsx("div",{className:"text-sm text-slate-500",children:"Entrega a domicilio en Capital Federal"}),v?_.jsx("div",{className:"text-sm font-medium text-green-600 mt-1",children:"GRATIS (compra mayor a $50.000)"}):_.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Costo calculado por logstica"})]}),d.shippingMethod==="caba"&&_.jsx(hr,{size:20,className:"text-indigo-600"})]}),_.jsxs("label",{className:`relative flex items-start gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${d.shippingMethod==="gba"?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-slate-300"}`,children:[_.jsx("input",{type:"radio",name:"shippingMethod",value:"gba",checked:d.shippingMethod==="gba",onChange:A=>h({...d,shippingMethod:"gba"}),className:"sr-only"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium text-slate-900",children:"Envo a GBA"}),_.jsx("div",{className:"text-sm text-slate-500",children:"Entrega a domicilio en Gran Buenos Aires"}),v?_.jsx("div",{className:"text-sm font-medium text-green-600 mt-1",children:"GRATIS (compra mayor a $50.000)"}):_.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Costo calculado por logstica"})]}),d.shippingMethod==="gba"&&_.jsx(hr,{size:20,className:"text-indigo-600"})]})]}),(d.shippingMethod==="caba"||d.shippingMethod==="gba")&&!v&&_.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[_.jsxs("p",{className:"text-sm text-yellow-800 mb-2",children:[_.jsx("strong",{children:"Importante:"})," Te contactaremos para calcular el costo exacto del envo segn tu ubicacin. Si ya lo coordinaste, ingresa el monto:"]}),_.jsx("input",{type:"number",min:"0",value:d.shippingCost||"",onChange:A=>h({...d,shippingCost:parseFloat(A.target.value)||0}),className:"w-full px-4 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"Costo de envo (opcional por ahora)"})]}),v&&d.shippingMethod!=="retiro"&&_.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-center gap-2",children:[_.jsx(hr,{size:18,className:"text-green-600"}),_.jsxs("p",{className:"text-sm text-green-800",children:[_.jsx("strong",{children:"Felicitaciones!"})," Tu compra califica para envo gratis"]})]}),_.jsx("p",{className:"text-xs text-slate-500",children:" Preparacin: 24hs  Envo coordinado con logstica"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"font-bold text-slate-900",children:"Mtodo de Pago"}),_.jsx("div",{className:"grid gap-3",children:T.map(A=>_.jsxs("label",{className:`relative flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${d.paymentMethod===A.id?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-slate-300"}`,children:[_.jsx("input",{type:"radio",name:"paymentMethod",value:A.id,checked:d.paymentMethod===A.id,onChange:N=>h({...d,paymentMethod:N.target.value}),className:"sr-only"}),_.jsx("div",{className:`flex-shrink-0 ${d.paymentMethod===A.id?"text-indigo-600":"text-slate-400"}`,children:A.icon}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium text-slate-900",children:A.name}),_.jsx("div",{className:"text-sm text-slate-500",children:A.description})]}),d.paymentMethod===A.id&&_.jsx(hr,{size:20,className:"text-indigo-600"})]},A.id))})]}),_.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-indigo-700 transition-all shadow-lg hover:shadow-xl active:scale-[0.98]",children:"Confirmar Pedido"})]})]}):_.jsxs("div",{className:"p-8",children:[_.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:_.jsx(hr,{size:40,className:"text-green-600"})}),_.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4 text-center",children:"Pedido Confirmado!"}),_.jsxs("p",{className:"text-slate-600 mb-6 text-center",children:["Gracias por tu compra. Te contactaremos pronto a ",_.jsx("strong",{children:d.customerEmail})]}),_.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-200 rounded-xl p-6 mb-6",children:[_.jsxs("h3",{className:"font-bold text-indigo-900 mb-4 text-lg flex items-center gap-2",children:[_.jsx(ef,{size:20}),"Datos para ",d.paymentMethod==="transferencia"?"Transferencia":d.paymentMethod==="mercadopago"?"MercadoPago":"el Pago"]}),d.paymentMethod==="transferencia"&&_.jsxs("div",{className:"space-y-3 text-sm",children:[_.jsxs("div",{className:"flex justify-between border-b border-indigo-200 pb-2",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"Banco:"}),_.jsx("span",{className:"font-bold text-slate-900",children:"Banco Provincia"})]}),_.jsxs("div",{className:"flex justify-between border-b border-indigo-200 pb-2",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"Tipo:"}),_.jsx("span",{className:"font-bold text-slate-900",children:"Caja de Ahorro"})]}),_.jsxs("div",{className:"flex justify-between border-b border-indigo-200 pb-2",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"CBU:"}),_.jsx("span",{className:"font-mono font-bold text-slate-900",children:"0140058803500158646826"})]}),_.jsxs("div",{className:"flex justify-between border-b border-indigo-200 pb-2",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"Alias:"}),_.jsx("span",{className:"font-mono font-bold text-slate-900",children:"rock.ciclos.soda"})]}),_.jsxs("div",{className:"flex justify-between border-b border-indigo-200 pb-2",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"Titular:"}),_.jsx("span",{className:"font-bold text-slate-900",children:"Yamil Sanchez"})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"CUIL:"}),_.jsx("span",{className:"font-mono font-bold text-slate-900",children:"20-33286626-6"})]})]}),d.paymentMethod==="mercadopago"&&_.jsxs("div",{className:"space-y-3 text-sm",children:[_.jsxs("div",{className:"flex justify-between border-b border-indigo-200 pb-2",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"Alias:"}),_.jsx("span",{className:"font-mono font-bold text-slate-900",children:"yamiro.rock"})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-600 font-medium",children:"CVU:"}),_.jsx("span",{className:"font-mono font-bold text-slate-900 text-xs",children:"0000003100081752940884"})]}),_.jsx("div",{className:"bg-white rounded-lg p-3 mt-3",children:_.jsx("p",{className:"text-xs text-slate-600",children:"Tambin te enviaremos un link de pago directo por email"})})]}),d.paymentMethod==="efectivo"&&_.jsx("p",{className:"text-sm text-slate-700",children:"Coordinaremos contigo el punto de encuentro para el pago en efectivo y la entrega del producto."})]}),_.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-4",children:[_.jsxs("p",{className:"text-sm text-slate-700",children:[_.jsx("strong",{children:"Envo:"})," ",d.shippingMethod==="retiro"?"Retiro coordinado":d.shippingMethod==="caba"?"Envo a CABA":"Envo a GBA",x===0&&" - GRATIS"]}),_.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Preparacin: 24hs  Te contactaremos para coordinar"})]}),_.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Recibirs un email con toda esta informacin"})]})})]})})},OI="modulepreload",LI=function(t){return"/"+t},Av={},qI=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let u=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=u(i.map(m=>{if(m=LI(m),m in Av)return;Av[m]=!0;const v=m.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":OI,v||(b.as="script"),b.crossOrigin="",b.href=m,h&&b.setAttribute("nonce",h),document.head.appendChild(b),v)return new Promise((E,T)=>{b.addEventListener("load",E),b.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},ds={};async function BI(t){const e=ds==null?void 0:ds.VITE_CLOUDINARY_CLOUD_NAME,i=ds==null?void 0:ds.VITE_CLOUDINARY_UPLOAD_PRESET;if(!e||!i)throw new Error("Cloudinary no configurado (VITE_CLOUDINARY_CLOUD_NAME / VITE_CLOUDINARY_UPLOAD_PRESET)");const s=`https://api.cloudinary.com/v1_1/${e}/image/upload`,o=new FormData;o.append("file",t),o.append("upload_preset",i);const l=await fetch(s,{method:"POST",body:o});if(!l.ok)throw new Error("Fall subida a Cloudinary");const u=await l.json();if(!u.secure_url)throw new Error("Respuesta invlida de Cloudinary");return u.secure_url}var gf=function(t,e){return gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},gf(t,e)};function i_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gf(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var au=function(){return au=Object.assign||function(e){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},au.apply(this,arguments)};function Ls(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]]);return i}function r_(t,e,i,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,i):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,i,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(l=(o<3?u(l):o>3?u(e,i,l):u(e,i))||l);return o>3&&l&&Object.defineProperty(e,i,l),l}function s_(t,e){return function(i,s){e(i,s,t)}}function o_(t,e,i,s,o,l){function u(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var d=s.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?s.static?t:t.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,s.name):{}),x,b=!1,E=i.length-1;E>=0;E--){var T={};for(var A in s)T[A]=A==="access"?{}:s[A];for(var A in s.access)T.access[A]=s.access[A];T.addInitializer=function(P){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(P||null))};var N=(0,i[E])(d==="accessor"?{get:v.get,set:v.set}:v[h],T);if(d==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(x=u(N.get))&&(v.get=x),(x=u(N.set))&&(v.set=x),(x=u(N.init))&&o.unshift(x)}else(x=u(N))&&(d==="field"?o.unshift(x):v[h]=x)}m&&Object.defineProperty(m,s.name,v),b=!0}function a_(t,e,i){for(var s=arguments.length>2,o=0;o<e.length;o++)i=s?e[o].call(t,i):e[o].call(t);return s?i:void 0}function l_(t){return typeof t=="symbol"?t:"".concat(t)}function u_(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function c_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ve(t,e,i,s){function o(l){return l instanceof i?l:new i(function(u){u(l)})}return new(i||(i=Promise))(function(l,u){function d(v){try{m(s.next(v))}catch(x){u(x)}}function h(v){try{m(s.throw(v))}catch(x){u(x)}}function m(v){v.done?l(v.value):o(v.value).then(d,h)}m((s=s.apply(t,e||[])).next())})}function d_(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(v){return h([m,v])}}function h(m){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(i=0)),i;)try{if(s=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,o=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){i.label=m[1];break}if(m[0]===6&&i.label<l[1]){i.label=l[1],l=m;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(m);break}l[2]&&i.ops.pop(),i.trys.pop();continue}m=e.call(t,i)}catch(v){m=[6,v],o=0}finally{s=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var _u=Object.create?(function(t,e,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(e,i);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,o)}):(function(t,e,i,s){s===void 0&&(s=i),t[s]=e[i]});function f_(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&_u(e,t,i)}function lu(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $f(t,e){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var s=i.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(u)throw u.error}}return l}function h_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($f(arguments[e]));return t}function m_(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<i;e++)for(var l=arguments[e],u=0,d=l.length;u<d;u++,o++)s[o]=l[u];return s}function p_(t,e,i){if(i||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function Rs(t){return this instanceof Rs?(this.v=t,this):new Rs(t)}function g_(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(E){return function(T){return Promise.resolve(T).then(E,x)}}function d(E,T){s[E]&&(o[E]=function(A){return new Promise(function(N,P){l.push([E,A,N,P])>1||h(E,A)})},T&&(o[E]=T(o[E])))}function h(E,T){try{m(s[E](T))}catch(A){b(l[0][3],A)}}function m(E){E.value instanceof Rs?Promise.resolve(E.value.v).then(v,x):b(l[0][2],E)}function v(E){h("next",E)}function x(E){h("throw",E)}function b(E,T){E(T),l.shift(),l.length&&h(l[0][0],l[0][1])}}function y_(t){var e,i;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,l){e[o]=t[o]?function(u){return(i=!i)?{value:Rs(t[o](u)),done:!1}:l?l(u):u}:l}}function v_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof lu=="function"?lu(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(l){i[l]=t[l]&&function(u){return new Promise(function(d,h){u=t[l](u),o(d,h,u.done,u.value)})}}function o(l,u,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},u)}}function __(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var zI=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},yf=function(t){return yf=Object.getOwnPropertyNames||function(e){var i=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[i.length]=s);return i},yf(t)};function x_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i=yf(t),s=0;s<i.length;s++)i[s]!=="default"&&_u(e,t,i[s]);return zI(e,t),e}function b_(t){return t&&t.__esModule?t:{default:t}}function S_(t,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(t):s?s.value:e.get(t)}function E_(t,e,i,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}function w_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function T_(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],i&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:s,async:i})}else i&&t.stack.push({async:!0});return e}var VI=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var s=new Error(i);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function C_(t){function e(l){t.error=t.hasError?new VI(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var i,s=0;function o(){for(;i=t.stack.pop();)try{if(!i.async&&s===1)return s=0,t.stack.push(i),Promise.resolve().then(o);if(i.dispose){var l=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function A_(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,s,o,l,u){return s?e?".jsx":".js":o&&(!l||!u)?i:o+l+"."+u.toLowerCase()+"js"}):t}const HI={__extends:i_,__assign:au,__rest:Ls,__decorate:r_,__param:s_,__esDecorate:o_,__runInitializers:a_,__propKey:l_,__setFunctionName:u_,__metadata:c_,__awaiter:ve,__generator:d_,__createBinding:_u,__exportStar:f_,__values:lu,__read:$f,__spread:h_,__spreadArrays:m_,__spreadArray:p_,__await:Rs,__asyncGenerator:g_,__asyncDelegator:y_,__asyncValues:v_,__makeTemplateObject:__,__importStar:x_,__importDefault:b_,__classPrivateFieldGet:S_,__classPrivateFieldSet:E_,__classPrivateFieldIn:w_,__addDisposableResource:T_,__disposeResources:C_,__rewriteRelativeImportExtension:A_},GI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:T_,get __assign(){return au},__asyncDelegator:y_,__asyncGenerator:g_,__asyncValues:v_,__await:Rs,__awaiter:ve,__classPrivateFieldGet:S_,__classPrivateFieldIn:w_,__classPrivateFieldSet:E_,__createBinding:_u,__decorate:r_,__disposeResources:C_,__esDecorate:o_,__exportStar:f_,__extends:i_,__generator:d_,__importDefault:b_,__importStar:x_,__makeTemplateObject:__,__metadata:c_,__param:s_,__propKey:l_,__read:$f,__rest:Ls,__rewriteRelativeImportExtension:A_,__runInitializers:a_,__setFunctionName:u_,__spread:h_,__spreadArray:p_,__spreadArrays:m_,__values:lu,default:HI},Symbol.toStringTag,{value:"Module"})),jI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ff extends Error{constructor(e,i="FunctionsError",s){super(e),this.name=i,this.context=s}}class $I extends Ff{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nv extends Ff{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rv extends Ff{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vf||(vf={}));class FI{constructor(e,{headers:i={},customFetch:s,region:o=vf.Any}={}){this.url=e,this.headers=i,this.region=o,this.fetch=jI(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ve(this,arguments,void 0,function*(i,s={}){var o;let l,u;try{const{headers:d,method:h,body:m,signal:v,timeout:x}=s;let b={},{region:E}=s;E||(E=this.region);const T=new URL(`${this.url}/${i}`);E&&E!=="any"&&(b["x-region"]=E,T.searchParams.set("forceFunctionRegion",E));let A;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",A=m):typeof m=="string"?(b["Content-Type"]="text/plain",A=m):typeof FormData<"u"&&m instanceof FormData?A=m:(b["Content-Type"]="application/json",A=JSON.stringify(m)):A=m;let N=v;x&&(u=new AbortController,l=setTimeout(()=>u.abort(),x),v?(N=u.signal,v.addEventListener("abort",()=>u.abort())):N=u.signal);const P=yield this.fetch(T.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:A,signal:N}).catch(B=>{throw new $I(B)}),V=P.headers.get("x-relay-error");if(V&&V==="true")throw new Nv(P);if(!P.ok)throw new Rv(P);let M=((o=P.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return M==="application/json"?j=yield P.json():M==="application/octet-stream"||M==="application/pdf"?j=yield P.blob():M==="text/event-stream"?j=P:M==="multipart/form-data"?j=yield P.formData():j=yield P.text(),{data:j,error:null,response:P}}catch(d){return{data:null,error:d,response:d instanceof Rv||d instanceof Nv?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var Ut={};const qs=iS(GI);var Pl={},Ol={},Ll={},ql={},Bl={},zl={},Iv;function N_(){if(Iv)return zl;Iv=1,Object.defineProperty(zl,"__esModule",{value:!0});class t extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return zl.default=t,zl}var Mv;function R_(){if(Mv)return Bl;Mv=1,Object.defineProperty(Bl,"__esModule",{value:!0});const e=qs.__importDefault(N_());class i{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,x,b;let E=null,T=null,A=null,N=h.status,P=h.statusText;if(h.ok){if(this.method!=="HEAD"){const B=await h.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?T=B:T=JSON.parse(B))}const M=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),j=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");M&&j&&j.length>1&&(A=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(E={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,A=null,N=406,P="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const M=await h.text();try{E=JSON.parse(M),Array.isArray(E)&&h.status===404&&(T=[],E=null,N=200,P="OK")}catch{h.status===404&&M===""?(N=204,P="No Content"):E={message:M}}if(E&&this.isMaybeSingle&&(!((b=E==null?void 0:E.details)===null||b===void 0)&&b.includes("0 rows"))&&(E=null,N=200,P="OK"),E&&this.shouldThrowOnError)throw new e.default(E)}return{error:E,data:T,count:A,status:N,statusText:P}});return this.shouldThrowOnError||(d=d.catch(h=>{var m,v,x,b,E,T;let A="";const N=h==null?void 0:h.cause;if(N){const P=(m=N==null?void 0:N.message)!==null&&m!==void 0?m:"",V=(v=N==null?void 0:N.code)!==null&&v!==void 0?v:"";A=`${(x=h==null?void 0:h.name)!==null&&x!==void 0?x:"FetchError"}: ${h==null?void 0:h.message}`,A+=`

Caused by: ${(b=N==null?void 0:N.name)!==null&&b!==void 0?b:"Error"}: ${P}`,V&&(A+=` (${V})`),N!=null&&N.stack&&(A+=`
${N.stack}`)}else A=(E=h==null?void 0:h.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(T=h==null?void 0:h.name)!==null&&T!==void 0?T:"FetchError"}: ${h==null?void 0:h.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Bl.default=i,Bl}var Dv;function I_(){if(Dv)return ql;Dv=1,Object.defineProperty(ql,"__esModule",{value:!0});const e=qs.__importDefault(R_());class i extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var v;const x=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ql.default=i,ql}var kv;function Jf(){if(kv)return Ll;kv=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=qs.__importDefault(I_()),i=new RegExp("[,()]");class s extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}regexMatch(l,u){return this.url.searchParams.append(l,`match.${u}`),this}regexIMatch(l,u){return this.url.searchParams.append(l,`imatch.${u}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}isDistinct(l,u){return this.url.searchParams.append(l,`isdistinct.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&i.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return Ll.default=s,Ll}var Uv;function M_(){if(Uv)return Ol;Uv=1,Object.defineProperty(Ol,"__esModule",{value:!0});const e=qs.__importDefault(Jf());class i{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(o,l){const{head:u=!1,count:d}=l??{},h=u?"HEAD":"GET";let m=!1;const v=(o??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(m.length>0){const v=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(x.length>0){const b=[...new Set(x)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ol.default=i,Ol}var Pv;function JI(){if(Pv)return Pl;Pv=1,Object.defineProperty(Pl,"__esModule",{value:!0});const t=qs,e=t.__importDefault(M_()),i=t.__importDefault(Jf());class s{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:m}={}){var v;let x;const b=new URL(`${this.url}/rpc/${l}`);let E;d||h?(x=d?"HEAD":"GET",Object.entries(u).filter(([A,N])=>N!==void 0).map(([A,N])=>[A,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([A,N])=>{b.searchParams.append(A,N)})):(x="POST",E=u);const T=new Headers(this.headers);return m&&T.set("Prefer",`count=${m}`),new i.default({method:x,url:b,headers:T,schema:this.schemaName,body:E,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Pl.default=s,Pl}var Ov;function YI(){if(Ov)return Ut;Ov=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const t=qs,e=t.__importDefault(JI());Ut.PostgrestClient=e.default;const i=t.__importDefault(M_());Ut.PostgrestQueryBuilder=i.default;const s=t.__importDefault(Jf());Ut.PostgrestFilterBuilder=s.default;const o=t.__importDefault(I_());Ut.PostgrestTransformBuilder=o.default;const l=t.__importDefault(R_());Ut.PostgrestBuilder=l.default;const u=t.__importDefault(N_());return Ut.PostgrestError=u.default,Ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Ut}var D_=YI();const k_=fu(D_),KI=nS({__proto__:null,default:k_},[D_]),{PostgrestClient:QI,PostgrestQueryBuilder:MD,PostgrestFilterBuilder:DD,PostgrestTransformBuilder:kD,PostgrestBuilder:UD,PostgrestError:PD}=k_||KI;class XI{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const s=this.getWebSocketConstructor();return new s(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const WI="2.86.0",ZI=`realtime-js/${WI}`,U_="1.0.0",eM="2.0.0",Lv=U_,_f=1e4,tM=1e3,nM=100;var pr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pr||(pr={}));var Et;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Et||(Et={}));var En;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(En||(En={}));var xf;(function(t){t.websocket="websocket"})(xf||(xf={}));var gr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gr||(gr={}));class iM{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,s;const o=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var i,s;const o=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,i,s){var o,l;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+m.length+x.length,E=new ArrayBuffer(this.HEADER_LENGTH+b);let T=new DataView(E),A=0;T.setUint8(A++,this.KINDS.userBroadcastPush),T.setUint8(A++,h.length),T.setUint8(A++,d.length),T.setUint8(A++,u.length),T.setUint8(A++,m.length),T.setUint8(A++,x.length),T.setUint8(A++,i),Array.from(h,P=>T.setUint8(A++,P.charCodeAt(0))),Array.from(d,P=>T.setUint8(A++,P.charCodeAt(0))),Array.from(u,P=>T.setUint8(A++,P.charCodeAt(0))),Array.from(m,P=>T.setUint8(A++,P.charCodeAt(0))),Array.from(x,P=>T.setUint8(A++,P.charCodeAt(0)));var N=new Uint8Array(E.byteLength+s.byteLength);return N.set(new Uint8Array(E),0),N.set(new Uint8Array(s),E.byteLength),N.buffer}decode(e,i){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return i(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,d,h]=s;return i({join_ref:o,ref:l,topic:u,event:d,payload:h})}return i({})}_binaryDecode(e){const i=new DataView(e),s=i.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,o)}}_decodeUserBroadcast(e,i,s){const o=i.getUint8(1),l=i.getUint8(2),u=i.getUint8(3),d=i.getUint8(4);let h=this.HEADER_LENGTH+4;const m=s.decode(e.slice(h,h+o));h=h+o;const v=s.decode(e.slice(h,h+l));h=h+l;const x=s.decode(e.slice(h,h+u));h=h+u;const b=e.slice(h,e.byteLength),E=d===this.JSON_ENCODING?JSON.parse(s.decode(b)):b,T={type:this.BROADCAST_EVENT,event:v,payload:E};return u>0&&(T.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>i.includes(s)))}}class P_{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const qv=(t,e,i={})=>{var s;const o=(s=i.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=rM(u,t,e,o),l),{}):{}},rM=(t,e,i,s)=>{const o=e.find(d=>d.name===t),l=o==null?void 0:o.type,u=i[t];return l&&!s.includes(l)?O_(l,u):bf(u)},O_=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return lM(e,i)}switch(t){case nt.bool:return sM(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return oM(e);case nt.json:case nt.jsonb:return aM(e);case nt.timestamp:return uM(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return bf(e);default:return bf(e)}},bf=t=>t,sM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oM=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lM=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,s=t[i];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,i);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>O_(e,d))}return t},uM=t=>typeof t=="string"?t.replace(" ","T"):t,L_=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hd{constructor(e,i,s={},o=_f){this.channel=e,this.event=i,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var s;return this._hasReceived(e)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bv||(Bv={}));class Fo{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=Fo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Fo.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,s,o){const l=this.cloneDeep(e),u=this.transformState(i),d={},h={};return this.map(l,(m,v)=>{u[m]||(h[m]=v)}),this.map(u,(m,v)=>{const x=l[m];if(x){const b=v.map(N=>N.presence_ref),E=x.map(N=>N.presence_ref),T=v.filter(N=>E.indexOf(N.presence_ref)<0),A=x.filter(N=>b.indexOf(N.presence_ref)<0);T.length>0&&(d[m]=T),A.length>0&&(h[m]=A)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,i,s,o){const{joins:l,leaves:u}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),v.length>0){const x=e[d].map(E=>E.presence_ref),b=v.filter(E=>x.indexOf(E.presence_ref)<0);e[d].unshift(...b)}s(d,v,h)}),this.map(u,(d,h)=>{let m=e[d];if(!m)return;const v=h.map(x=>x.presence_ref);m=m.filter(x=>v.indexOf(x.presence_ref)<0),e[d]=m,o(d,m,h),m.length===0&&delete e[d]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(s=>i(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,s)=>{const o=e[s];return"metas"in o?i[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[s]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zv||(zv={}));var Jo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jo||(Jo={}));var Zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class Yf{constructor(e,i={config:{}},s){var o,l;if(this.topic=e,this.params=i,this.socket=s,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Hd(this,En.join,this.params,this.timeout),this.rejoinTimer=new P_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Fo(this),this.broadcastEndpointURL=L_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Jo.PRESENCE]&&this.bindings[Jo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},b={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Zn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Zn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var T;if(this.socket.setAuth(),E===void 0){e==null||e(Zn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,N=(T=A==null?void 0:A.length)!==null&&T!==void 0?T:0,P=[];for(let V=0;V<N;V++){const M=A[V],{filter:{event:j,schema:B,table:X,filter:Q}}=M,ce=E&&E[V];if(ce&&ce.event===j&&ce.schema===B&&ce.table===X&&ce.filter===Q)P.push(Object.assign(Object.assign({},M),{id:ce.id}));else{this.unsubscribe(),this.state=Et.errored,e==null||e(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Zn.SUBSCRIBED);return}}).receive("error",E=>{this.state=Et.errored,e==null||e(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,s){return this.state===Et.joined&&e===Jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,s)}async httpSend(e,i,s={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,i={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Hd(this,En.leave,{},e),s.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(e,i,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(l),u}_push(e,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Hd(this,e,i,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nM){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,s){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:v}=En;if(s&&[d,h,m,v].indexOf(u)>=0&&s!==this._joinRef())return;let b=this._onMessage(u,i,s);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var T,A,N;return((T=E.filter)===null||T===void 0?void 0:T.event)==="*"||((N=(A=E.filter)===null||A===void 0?void 0:A.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(E=>E.callback(b,s)):(l=this.bindings[u])===null||l===void 0||l.filter(E=>{var T,A,N,P,V,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const j=E.id,B=(T=E.filter)===null||T===void 0?void 0:T.event;return j&&((A=i.ids)===null||A===void 0?void 0:A.includes(j))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const j=(V=(P=E==null?void 0:E.filter)===null||P===void 0?void 0:P.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return j==="*"||j===((M=i==null?void 0:i.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof b=="object"&&"ids"in b){const T=b.data,{schema:A,table:N,commit_timestamp:P,type:V,errors:M}=T;b=Object.assign(Object.assign({},{schema:A,table:N,commit_timestamp:P,eventType:V,new:{},old:{},errors:M}),this._getPayloadRecords(T))}E.callback(b,s)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,s){const o=e.toLocaleLowerCase(),l={type:o,filter:i,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,i){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Yf.isEqual(o.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const s in e)if(e[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(En.close,{},e)}_onError(e){this._on(En.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=qv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=qv(e.columns,e.old_record)),i}}const Gd=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cM=[1e3,2e3,5e3,1e4],dM=1e4,fM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hM{constructor(e,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_f,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gd,this.ref=0,this.reconnectTimer=null,this.vsn=Lv,this.logger=Gd,this.conn=null,this.sendBuffer=[],this.serializer=new iM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=i==null?void 0:i.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${xf.websocket}`,this.httpEndpoint=L_(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,s){this.logger(e,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case pr.connecting:return gr.Connecting;case pr.open:return gr.Open;case pr.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Yf(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${i} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tM,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:u}=i,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pr.open||this.conn.readyState===pr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(En.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${s}${o}`}_workerObjectUrl(e){let i;if(e)i=e;else{const s=new Blob([fM],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(s=>{const o={access_token:i,version:ZI};i&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(En.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(i)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new P_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,s,o,l,u,d,h,m,v,x,b,E;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:_f,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Vl.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Gd,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:Lv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(T=>cM[T-1]||dM),this.vsn){case U_:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((T,A)=>A(JSON.stringify(T))),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:((T,A)=>A(JSON.parse(T)));break;case eM:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class xu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mM extends xu{constructor(e,i,s){super(e),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sf extends xu{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const Kf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pM=()=>Response,Ef=t=>{if(Array.isArray(t))return t.map(i=>Ef(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,s])=>{const o=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Ef(s)}),e},gM=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yM=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),jd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},vM=(t,e,i)=>ve(void 0,void 0,void 0,function*(){const s=yield pM();t instanceof s&&!(i!=null&&i.noResolveJson)?t.json().then(o=>{const l=t.status||500,u=(o==null?void 0:o.statusCode)||l+"";e(new mM(jd(o),l,u))}).catch(o=>{e(new Sf(jd(o),o))}):e(new Sf(jd(t),t))}),_M=(t,e,i,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(gM(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),i))};function sa(t,e,i,s,o,l){return ve(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(i,_M(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s!=null&&s.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>vM(h,d,s))})})}function Xo(t,e,i,s){return ve(this,void 0,void 0,function*(){return sa(t,"GET",e,i,s)})}function Sn(t,e,i,s,o){return ve(this,void 0,void 0,function*(){return sa(t,"POST",e,s,o,i)})}function wf(t,e,i,s,o){return ve(this,void 0,void 0,function*(){return sa(t,"PUT",e,s,o,i)})}function xM(t,e,i,s){return ve(this,void 0,void 0,function*(){return sa(t,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function Qf(t,e,i,s,o){return ve(this,void 0,void 0,function*(){return sa(t,"DELETE",e,s,o,i)})}class bM{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}var q_;class SM{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[q_]="BlobDownloadBuilder",this.promise=null}asStream(){return new bM(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}q_=Symbol.toStringTag;const EM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wM{constructor(e,i={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=s,this.fetch=Kf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,s,o){return ve(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Vv),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(i),v=this._getFinalPath(m),x=yield(e=="PUT"?wf:Sn)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}upload(e,i,s){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,s)})}uploadToSignedUrl(e,i,s,o){return ve(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",i);try{let h;const m=Object.assign({upsert:Vv.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",m.cacheControl)):(h=s,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const x=yield wf(this.fetch,d.toString(),h,{headers:v});return{data:{path:l,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ct(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,i){return ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);i!=null&&i.upsert&&(o["x-upsert"]="true");const l=yield Sn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new xu("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}update(e,i,s){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,s)})}move(e,i,s){return ve(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}copy(e,i,s){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrl(e,i,s){return ve(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Sn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrls(e,i,s){return ve(this,void 0,void 0,function*(){try{const o=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}download(e,i){const o=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>Xo(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new SM(h,this.shouldThrowOnError)}info(e){return ve(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const s=yield Xo(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Ef(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}exists(e){return ve(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield xM(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s)&&s instanceof Sf){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,i){const s=this._getFinalPath(e),o=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&o.push(l);const d=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}list(e,i,s){return ve(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},EM),i),{prefix:e||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}listV2(e,i){return ve(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const B_="2.86.0",z_={"X-Client-Info":`storage-js/${B_}`};class TM{constructor(e,i={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},z_),i),this.fetch=Kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ve(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield Xo(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createBucket(e){return ve(this,arguments,void 0,function*(i,s={public:!1}){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}updateBucket(e,i){return ve(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var Wo=class extends Error{constructor(t,e){var i;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CM(t,e,i){const s=new URL(e,t);if(i)for(const[o,l]of Object.entries(i))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function AM(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function NM(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:o,body:l,headers:u}){const d=CM(t.baseUrl,s,o),h=await AM(t.auth),m=await e(d,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),v=await m.text(),x=(m.headers.get("content-type")||"").includes("application/json"),b=x&&v?JSON.parse(v):v;if(!m.ok){const E=x?b:void 0,T=E==null?void 0:E.error;throw new Wo((T==null?void 0:T.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:E})}return{status:m.status,headers:m.headers,data:b}}}}function Hl(t){return t.join("")}var RM=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Hl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hl(t.namespace)}`}),!0}catch(e){if(e instanceof Wo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof Wo&&i.status===409)return;throw i}}};function fs(t){return t.join("")}var IM=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof Wo&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof Wo&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},MM=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=NM({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new RM(this.client,e),this.tableOps=new IM(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class DM{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},z_),i),this.fetch=Kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}listBuckets(e){return ve(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&i.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&i.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&i.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&i.set("sortOrder",e.sortOrder),e!=null&&e.search&&i.set("search",e.search);const s=i.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Xo(this.fetch,o,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}from(e){if(!yM(e))throw new xu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new MM({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ve(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Xf={"X-Client-Info":`storage-js/${B_}`,"Content-Type":"application/json"};class V_ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function tn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class $d extends V_{constructor(e,i,s){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kM extends V_{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var Hv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hv||(Hv={}));const Wf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UM=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PM=(t,e,i)=>ve(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new $d(Gv(u),o,d))}).catch(()=>{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new $d(d,o,u))});else{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new $d(d,o,u))}}else e(new kM(Gv(t),t))}),OM=(t,e,i,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(UM(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),i)):o};function LM(t,e,i,s,o,l){return ve(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(i,OM(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s!=null&&s.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>PM(h,d,s))})})}function nn(t,e,i,s,o){return ve(this,void 0,void 0,function*(){return LM(t,"POST",e,s,o,i)})}class qM{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xf),i),this.fetch=Wf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}getIndex(e,i){return ve(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}listIndexes(e){return ve(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return ve(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}}class BM{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xf),i),this.fetch=Wf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield nn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}getVectors(e){return ve(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}listVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield nn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}queryVectors(e){return ve(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}deleteVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield nn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}}class zM{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xf),i),this.fetch=Wf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}listBuckets(){return ve(this,arguments,void 0,function*(e={}){try{return{data:yield nn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}}class VM extends zM{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new HM(this.url,this.headers,e,this.fetch)}createBucket(e){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ve(this,void 0,void 0,function*(){return i.createBucket.call(this,e)})}getBucket(e){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ve(this,void 0,void 0,function*(){return i.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ve(this,arguments,void 0,function*(i={}){return e.listBuckets.call(this,i)})}deleteBucket(e){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ve(this,void 0,void 0,function*(){return i.deleteBucket.call(this,e)})}}class HM extends qM{constructor(e,i,s,o){super(e,i,o),this.vectorBucketName=s}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new GM(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class GM extends BM{constructor(e,i,s,o,l){super(e,i,l),this.vectorBucketName=s,this.indexName=o}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class jM extends TM{constructor(e,i={},s,o){super(e,i,s,o)}from(e){return new wM(this.url,this.headers,e,this.fetch)}get vectors(){return new VM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DM(this.url+"/iceberg",this.headers,this.fetch)}}const $M="2.86.0";let Go="";typeof Deno<"u"?Go="deno":typeof document<"u"?Go="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Go="react-native":Go="node";const FM={"X-Client-Info":`supabase-js-${Go}/${$M}`},JM={headers:FM},YM={schema:"public"},KM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QM={},XM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WM=()=>Headers,ZM=(t,e,i)=>{const s=XM(i),o=WM();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let m=new o(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},u),{headers:m}))}};function e2(t){return t.endsWith("/")?t:t+"/"}function t2(t,e){var i,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:m,realtime:v,global:x}=e,b={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(i=x==null?void 0:x.headers)!==null&&i!==void 0?i:{}),(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function n2(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const H_="2.86.0",Ss=30*1e3,Tf=3,Fd=Tf*Ss,i2="http://localhost:9999",r2="supabase.auth.token",s2={"X-Client-Info":`gotrue-js/${H_}`},Cf="X-Supabase-Api-Version",G_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a2=600*1e3;class Zo extends Error{constructor(e,i,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function Se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class l2 extends Zo{constructor(e,i,s){super(e,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function u2(t){return Se(t)&&t.name==="AuthApiError"}class yr extends Zo{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Bi extends Zo{constructor(e,i,s,o){super(e,s,o),this.name=i,this.status=s}}class en extends Bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c2(t){return Se(t)&&t.name==="AuthSessionMissingError"}class hs extends Bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends Bi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jl extends Bi{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d2(t){return Se(t)&&t.name==="AuthImplicitGrantRedirectError"}class jv extends Bi{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Af extends Bi{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Jd(t){return Se(t)&&t.name==="AuthRetryableFetchError"}class $v extends Bi{constructor(e,i,s){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class Nf extends Bi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fv=` 	
\r=`.split(""),f2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Fv.length;e+=1)t[Fv[e].charCodeAt(0)]=-2;for(let e=0;e<uu.length;e+=1)t[uu[e].charCodeAt(0)]=e;return t})();function Jv(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(uu[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(uu[s]),e.queuedBits-=6}}function j_(t,e,i){const s=f2[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yv(t){const e=[],i=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{p2(u,s,i)};for(let u=0;u<t.length;u+=1)j_(t.charCodeAt(u),o,l);return e.join("")}function h2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function m2(t,e){for(let i=0;i<t.length;i+=1){let s=t.charCodeAt(i);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}h2(s,e)}}function p2(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Ns(t){const e=[],i={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)j_(t.charCodeAt(o),i,s);return new Uint8Array(e)}function g2(t){const e=[];return m2(t,i=>e.push(i)),new Uint8Array(e)}function _r(t){const e=[],i={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Jv(o,i,s)),Jv(null,i,s),e.join("")}function y2(t){return Math.round(Date.now()/1e3)+t}function v2(){return Symbol("auth-callback")}const It=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},$_=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function _2(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return i.searchParams.forEach((s,o)=>{e[o]=s}),e}const F_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Es=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},dr=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Ui=async(t,e)=>{await t.removeItem(e)};class bu{constructor(){this.promise=new bu.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}bu.promiseConstructor=Promise;function Yd(t){const e=t.split(".");if(e.length!==3)throw new Nf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!o2.test(e[s]))throw new Nf("JWT not in base64url format");return{header:JSON.parse(Yv(e[0])),payload:JSON.parse(Yv(e[1])),signature:Ns(e[2]),raw:{header:e[0],payload:e[1]}}}async function b2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function S2(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function E2(t){return("0"+t.toString(16)).substr(-2)}function w2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let o="";for(let l=0;l<56;l++)o+=i.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,E2).join("")}async function T2(t){const i=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function C2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await T2(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(t,e,i=!1){const s=w2();let o=s;i&&(o+="/PASSWORD_RECOVERY"),await Es(t,`${e}-code-verifier`,o);const l=await C2(s);return[l,s===l?"plain":"s256"]}const A2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N2(t){const e=t.headers.get(Cf);if(!e||!e.match(A2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function R2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function I2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ps(t){if(!M2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kd(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function D2(t,e){return new Proxy(t,{get:(i,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,s,o)}})}function Kv(t){return JSON.parse(JSON.stringify(t))}const mr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k2=[502,503,504];async function Qv(t){var e;if(!x2(t))throw new Af(mr(t),0);if(k2.includes(t.status))throw new Af(mr(t),t.status);let i;try{i=await t.json()}catch(l){throw new yr(mr(l),l)}let s;const o=N2(t);if(o&&o.getTime()>=G_["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new $v(mr(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new en}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new $v(mr(i),t.status,i.weak_password.reasons);throw new l2(mr(i),t.status||500,s)}const U2=(t,e,i,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),i))};async function Ne(t,e,i,s){var o;const l=Object.assign({},s==null?void 0:s.headers);l[Cf]||(l[Cf]=G_["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await P2(t,e,i+d,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}}async function P2(t,e,i,s,o,l){const u=U2(e,s,o,l);let d;try{d=await t(i,Object.assign({},u))}catch(h){throw console.error(h),new Af(mr(h),0)}if(d.ok||await Qv(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(h){await Qv(h)}}function bn(t){var e;let i=null;q2(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=y2(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:s},error:null}}function Xv(t){const e=bn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function O2(t){return{data:t,error:null}}function L2(t){const{action_link:e,email_otp:i,hashed_token:s,redirect_to:o,verification_type:l}=t,u=Ls(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:i,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Wv(t){return t}function q2(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qd=["global","local","others"];class B2{constructor({url:e="",headers:i={},fetch:s}){this.url=e,this.headers=i,this.fetch=F_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Qd[0]){if(Qd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qd.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,i={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Pi})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:i}=e,s=Ls(e,["options"]),o=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:L2,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Se(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pi})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,s,o,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Wv});if(v.error)throw v.error;const x=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(T=>{const A=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);m[`${N}Page`]=A}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Se(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ps(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pi})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){ps(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Pi})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,i=!1){ps(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Pi})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ps(e.userId);try{const{data:i,error:s}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:s}}catch(i){if(Se(i))return{data:null,error:i};throw i}}async _deleteFactor(e){ps(e.userId),ps(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,s,o,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Wv});if(v.error)throw v.error;const x=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(T=>{const A=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);m[`${N}Page`]=A}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Se(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Se(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Se(i))return{data:null,error:i};throw i}}}function Zv(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const gs={debug:!!(globalThis&&$_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class z2 extends J_{}async function V2(t,e,i){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await i()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new z2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function H2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Y_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function G2(t){return parseInt(t,16)}function j2(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function $2(t){var e;const{chainId:i,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:v,uri:x,version:b}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=Y_(t.address),T=v?`${v}://${s}`:s,A=t.statement?`${t.statement}
`:"",N=`${T} wants you to sign in with your Ethereum account:
${E}

${A}`;let P=`URI: ${x}
Version: ${b}
Chain ID: ${i}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(P+=`
Expiration Time: ${o.toISOString()}`),d&&(P+=`
Not Before: ${d.toISOString()}`),h&&(P+=`
Request ID: ${h}`),m){let V=`
Resources:`;for(const M of m){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);V+=`
- ${M}`}P+=V}return`${N}
${P}`}class xt extends Error{constructor({message:e,code:i,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class cu extends xt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function F2({error:t,options:e}){var i,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(K_(u)){if(l.rp.id!==u)return new xt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function J2({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(K_(s)){if(i.rpId!==s)return new xt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Y2{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const K2=new Y2;function Q2(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:s}=t,o=Ls(t,["challenge","user","excludeCredentials"]),l=Ns(e).buffer,u=Object.assign(Object.assign({},i),{id:Ns(i.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ns(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function X2(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,s=Ls(t,["challenge","allowCredentials"]),o=Ns(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ns(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function W2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:_r(new Uint8Array(t.response.attestationObject)),clientDataJSON:_r(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Z2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:_r(new Uint8Array(o.authenticatorData)),clientDataJSON:_r(new Uint8Array(o.clientDataJSON)),signature:_r(new Uint8Array(o.signature)),userHandle:o.userHandle?_r(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function K_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function e0(){var t,e;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function eD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cu("Browser returned unexpected credential type",e)}:{data:null,error:new cu("Empty credential response",e)}}catch(e){return{data:null,error:F2({error:e,options:t})}}}async function tD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cu("Browser returned unexpected credential type",e)}:{data:null,error:new cu("Empty credential response",e)}}catch(e){return{data:null,error:J2({error:e,options:t})}}}const nD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function du(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(i(u))s[l]=u;else if(e(u)){const d=s[l];e(d)?s[l]=du(d,u):s[l]=du(u)}else s[l]=u}return s}function rD(t,e){return du(nD,t,e||{})}function sD(t,e){return du(iD,t,e||{})}class oD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:s,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!u)return{data:null,error:d};const h=o??K2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=rD(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:x}=await eD({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const m=sD(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:x}=await tD(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new yr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new Zo("rpId is required for WebAuthn authentication")};try{if(!e0())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:i,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new yr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new Zo("rpId is required for WebAuthn registration")};try{if(!e0())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:i,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new yr("Unexpected error in register",u)}}}}H2();const aD={url:i2,storageKey:r2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function t0(t,e,i){return await i()}const ys={};class ea{get jwks(){var e,i;return(i=(e=ys[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=ys[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:e})}constructor(e){var i,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},aD),e);if(this.storageKey=l.storageKey,this.instanceID=(i=ea.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,ea.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&It()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new B2({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=F_(l.fetch),this.lock=l.lock||t0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:It()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=V2:this.lock=t0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:$_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Zv(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${H_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},s="none";if(It()&&(i=_2(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),It()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(i,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),d2(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Se(i)?this._returnResult({error:i}):this._returnResult({error:new yr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,s,o;try{const l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:bn}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,s,o;try{let l;if("email"in e){const{email:v,password:x,options:b}=e;let E=null,T=null;this.flowType==="pkce"&&([E,T]=await ms(this.storage,this.storageKey)),l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:x,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:E,code_challenge_method:T},xform:bn})}else if("phone"in e){const{phone:v,password:x,options:b}=e;l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:bn})}else throw new Gl("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:u,options:d}=e;i=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Xv})}else if("phone"in e){const{phone:l,password:u,options:d}=e;i=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Xv})}else throw new Gl("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new hs;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(i){if(Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,s,o,l,u,d,h,m,v,x,b;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:A,wallet:N,statement:P,options:V}=e;let M;if(It())if(typeof N=="object")M=N;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")M=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const j=new URL((i=V==null?void 0:V.url)!==null&&i!==void 0?i:window.location.href),B=await M.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=Y_(B[0]);let Q=(s=V==null?void 0:V.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!Q){const ae=await M.request({method:"eth_chainId"});Q=G2(ae)}const ce={domain:j.host,address:X,statement:P,uri:j.href,version:"1",chainId:Q,nonce:(o=V==null?void 0:V.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=V==null?void 0:V.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=V==null?void 0:V.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=V==null?void 0:V.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=V==null?void 0:V.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=V==null?void 0:V.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=$2(ce),T=await M.request({method:"personal_sign",params:[j2(E),X]})}try{const{data:A,error:N}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:T},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:bn});if(N)throw N;if(!A||!A.session||!A.user){const P=new hs;return this._returnResult({data:{user:null,session:null},error:P})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:N})}catch(A){if(Se(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(e){var i,s,o,l,u,d,h,m,v,x,b,E;let T,A;if("message"in e)T=e.message,A=e.signature;else{const{chain:N,wallet:P,statement:V,options:M}=e;let j;if(It())if(typeof P=="object")j=P;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))j=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const B=new URL((i=M==null?void 0:M.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in j&&j.signIn){const X=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),V?{statement:V}:null));let Q;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")Q=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)Q=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)T=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),A=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${B.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(s=M==null?void 0:M.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((d=M==null?void 0:M.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((x=(v=M==null?void 0:M.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...M.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const X=await j.signMessage(new TextEncoder().encode(T),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=X}}try{const{data:N,error:P}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:_r(A)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:bn});if(P)throw P;if(!N||!N.session||!N.user){const V=new hs;return this._returnResult({data:{user:null,session:null},error:V})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(Se(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const i=await dr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(i??"").split("/");try{const{data:l,error:u}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:bn});if(await Ui(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new hs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(Se(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:s,token:o,access_token:l,nonce:u}=e,d=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:bn}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new hs;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(i){if(Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,s,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ms(this.storage,this.storageKey));const{error:x}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:v}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:v})}throw new Gl("You must provide either an email or phone number.")}catch(d){if(Se(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var i,s;try{let o,l;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:bn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(Se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var i,s,o,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ms(this.storage,this.storageKey));const m=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:O2});return!((l=m.data)===null||l===void 0)&&l.url&&It()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(Se(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:s}=e;if(s)throw s;if(!i)throw new en;const{error:o}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await Ne(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await Ne(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Gl("You must provide either an email or phone number and a type")}catch(i){if(Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await dr(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Kd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=D2(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pi}):await this._useSession(async i=>{var s,o,l;const{data:u,error:d}=i;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Pi})})}catch(i){if(Se(i))return c2(i)&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new en;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await ms(this.storage,this.storageKey));const{data:m,error:v}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Pi});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(Se(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const i=Date.now()/1e3;let s=i,o=!0,l=null;const{payload:u}=Yd(e.access_token);if(u.exp&&(s=u.exp,o=s<=i),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(Se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var s;if(!e){const{data:u,error:d}=i;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!It())throw new jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new jv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jv("No code detected.");const{data:V,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!u||!m)throw new jl("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(d);let b=v+x;h&&(b=parseInt(h));const E=b-v;E*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${x}s`);const T=b-x;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,b,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,b,v);const{data:A,error:N}=await this._getUser(l);if(N)throw N;const P={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:x,expires_at:b,refresh_token:u,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(s){if(Se(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await dr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:o,error:l}=i;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(u2(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=v2(),s={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async i=>{var s,o;try{const{data:{session:l},error:u}=i;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await ms(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(Se(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,h,m,v;const{data:x,error:b}=l;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return It()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Se(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var s;try{const{error:o,data:{session:l}}=i;if(o)throw o;const{options:u,provider:d,token:h,access_token:m,nonce:v}=e,x=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:bn}),{data:b,error:E}=x;return E?this._returnResult({data:{user:null,session:null},error:E}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new hs}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:E}))}catch(o){if(Se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var s,o;const{data:l,error:u}=i;if(u)throw u;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await S2(async o=>(o>0&&await b2(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Jd(l)&&Date.now()+u-s<Ss})}catch(s){if(this._debug(i,"error",s),Se(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",s),It()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await dr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Es(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Kd()}else if(o&&!o.user&&!o.user){const u=await dr(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Ui(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,o)):o.user=Kd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Fd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Fd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Jd(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var i,s;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new bu;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new en;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Se(l)){const u={data:null,error:l};return Jd(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,i)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Es(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const l=Kv(o);await Es(this.storage,this.storageKey,l)}else{const o=Kv(i);await Es(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ui(this.storage,this.storageKey),await Ui(this.storage,this.storageKey+"-code-verifier"),await Ui(this.storage,this.storageKey+"-user"),this.userStorage&&await Ui(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Tf} ticks`),o<=Tf&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof J_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,s){const o=[`provider=${encodeURIComponent(i)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await ms(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var s;const{data:o,error:l}=i;return l?this._returnResult({data:null,error:l}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var s,o;const{data:l,error:u}=i;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?W2(e.webauthn.credential_response):Z2(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const u=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Q2(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:X2(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Yd(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((i=(e=s.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new en})})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new en});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&It()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Se(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,i){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new en});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&It()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Se(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:s}=e;return s?this._returnResult({data:null,error:s}):i?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new en})})}catch(e){if(Se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new en})})}catch(i){if(Se(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let s=i.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+a2>o)return s;const{data:l,error:u}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,i={}){try{let s=e;if(!s){const{data:E,error:T}=await this.getSession();if(T||!E.session)return this._returnResult({data:null,error:T});s=E.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=Yd(s);i!=null&&i.allowExpired||R2(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:l,header:o,signature:u},error:null}}const v=I2(o.alg),x=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,u,g2(`${d}.${h}`)))throw new Nf("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(Se(s))return this._returnResult({data:null,error:s});throw s}}}ea.nextInstanceID={};const lD=ea;class uD extends lD{constructor(e){super(e)}}class cD{constructor(e,i,s){var o,l,u;this.supabaseUrl=e,this.supabaseKey=i;const d=n2(e);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:YM,realtime:QM,auth:Object.assign(Object.assign({},KM),{storageKey:h}),global:JM},v=t2(s??{},m);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=ZM(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new QI(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new jM(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new FI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,i,s)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,i;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(i=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:d,lock:h,debug:m,throwOnError:v},x,b){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uD({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),x),storageKey:u,autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:h,debug:m,throwOnError:v,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new hM(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,i,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dD=(t,e,i)=>new cD(t,e,i);function fD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vs={};let $l=null;function Q_(){if($l)return $l;const t=vs==null?void 0:vs.VITE_SUPABASE_URL,e=vs==null?void 0:vs.VITE_SUPABASE_ANON_KEY;if(!t||!e)throw new Error("Supabase no configurado (VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY)");return $l=dD(t,e),$l}async function X_(t,e,i){const s=Q_(),o=`${Date.now()}-${t.name}`.replace(/\s+/g,"-"),{error:l}=await s.storage.from(e).upload(o,t,{upsert:!0});if(l)throw l;const{data:u}=s.storage.from(e).getPublicUrl(o);if(!(u!=null&&u.publicUrl))throw new Error("No se pudo obtener URL pblica");return u.publicUrl}async function hD(t){try{const e=Q_(),i=`__ping-${Date.now()}.txt`,s=new Blob(["ping"],{type:"text/plain"}),{error:o}=await e.storage.from(t).upload(i,s,{upsert:!0});if(o)return{ok:!1,message:`Error al subir archivo de prueba: ${o.message}`};const{error:l}=await e.storage.from(t).remove([i]);return l?{ok:!1,message:`Subi pero no pudo eliminar: ${l.message}`}:{ok:!0,message:"Conexin y permisos OK (upload/delete)"}}catch(e){return{ok:!1,message:e.message}}}const mD=Object.freeze(Object.defineProperty({__proto__:null,testSupabase:hD,uploadToSupabase:X_},Symbol.toStringTag,{value:"Module"})),_s={APP_VERSION:"v0.0.0 build 2025-11-29T01:30:39.117Z",BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyAyJvzd8d-kWuSYAPoIoahqlY9UmoznZVY"},n0=({onClose:t,onSave:e,product:i,nextId:s,categories:o=[]})=>{var we,U,ee,pe;const[l,u]=O.useState(()=>{const K={id:s??0,name:"",price:0,category:"",image:"",images:[],description:"",featured:!1};return i?{...i,images:i.images&&i.images.length>0?i.images:i.image?[{url:i.image}]:[]}:K}),[d,h]=O.useState("select"),[m,v]=O.useState(()=>(i==null?void 0:i.technology)??"3D"),x=O.useMemo(()=>Array.from(new Set((o||[]).filter(Boolean))),[o]),[b,E]=O.useState(x),[T,A]=O.useState(((U=(we=i==null?void 0:i.images)==null?void 0:we[0])==null?void 0:U.url)??((pe=(ee=i==null?void 0:i.images)==null?void 0:ee[0])!=null&&pe.storageKey?`lf:${i.images[0].storageKey}`:(i==null?void 0:i.image)??"")),[N,P]=O.useState(""),[V,M]=O.useState(""),[j,B]=O.useState(""),[X,Q]=O.useState("local"),[ce,ae]=O.useState("images");O.useEffect(()=>{E(Array.from(new Set((o||[]).filter(Boolean))))},[o]),O.useEffect(()=>{i&&i.category?x.includes(i.category)?(h("select"),u(K=>({...K,category:i.category}))):(h("other"),u(K=>({...K,category:i.category}))):(h(x.length?"select":"other"),u(K=>({...K,category:""})))},[i,x]),O.useEffect(()=>{const K=l.images&&l.images.length>0?l.images[0]:void 0,ue=(K==null?void 0:K.url)??(K!=null&&K.storageKey?`lf:${K.storageKey}`:l.image);A(ue??"")},[l.image,l.images]);const _e=()=>{const ue=(j||l.category||"").trim();if(!ue)return alert("Nombre invlido");try{const me=localStorage.getItem("categories"),Re=me?JSON.parse(me):[];Re.includes(ue)||Re.push(ue),localStorage.setItem("categories",JSON.stringify(Re)),E(Me=>Array.from(new Set([...Me,ue]))),h("select"),u(Me=>({...Me,category:ue})),B("")}catch(me){console.error(me)}},Ce=K=>{const ue=l.category;if(!ue)return alert("No hay categora seleccionada");if(confirm(`Eliminar categora "${ue}" de la lista? Esto no modificar productos existentes.`))try{const me=localStorage.getItem("categories"),Me=(me?JSON.parse(me):[]).filter($t=>$t!==ue);localStorage.setItem("categories",JSON.stringify(Me));const Ye=b.filter($t=>$t!==ue);E(Ye),l.category===ue&&(u($t=>({...$t,category:""})),h(Ye.length>0?"select":"other")),alert("Categora eliminada.")}catch(me){console.error(me)}},Ee=Array.from(new Set([...b,l.category].filter(Boolean))),Pe=(K,ue)=>{u(me=>({...me,[K]:ue}))},ot=async K=>{if(K){if(K.size>2*1024*1024){alert("La imagen supera 2MB. Comprime o usa una URL externa para evitar llenar el almacenamiento.");return}try{if(X==="local"){const ue=await A0(K);u(me=>({...me,images:[...me.images||[],{storageKey:ue,color:V||void 0}]}))}else if(X==="cloudinary"){const ue=await BI(K);u(me=>({...me,images:[...me.images||[],{url:ue,color:V||void 0}]}))}else{const ue=_s==null?void 0:_s.VITE_SUPABASE_URL,me=_s==null?void 0:_s.VITE_SUPABASE_ANON_KEY;if(!ue||!me){alert("Supabase no est configurado. Define VITE_SUPABASE_URL y VITE_SUPABASE_ANON_KEY en tu entorno antes de usar este destino.");return}const Re=await X_(K,ce);u(Me=>({...Me,images:[...Me.images||[],{url:Re,color:V||void 0}]}))}P(""),M("")}catch(ue){console.error(ue),alert(ue.message||"No se pudo guardar la imagen.")}}},se=async()=>{const K=N.trim();if(!K){alert("Por favor ingresa una URL de imagen");return}const ue=[".jpg",".jpeg",".png",".webp",".gif"],me=K.toLowerCase();if(!(!ue.some(Me=>me.includes(Me))&&!confirm("La URL no parece terminar en una extensin de imagen (.jpg/.png/.webp). Deseas intentar de todos modos?"))){try{if(!((await fetch(K,{method:"HEAD"})).headers.get("content-type")||"").includes("image/")){alert("La URL no parece ser una imagen directa (content-type). Usa un enlace directo a .jpg/.png/.webp o sube el archivo.");return}}catch(Me){console.warn("No se pudo verificar la URL (HEAD). Intentando agregar de todos modos.",Me)}try{const Me=new AbortController,Ye=setTimeout(()=>Me.abort(),2500);await fetch(K,{method:"GET",mode:"cors",cache:"no-store",signal:Me.signal}),clearTimeout(Ye)}catch(Me){console.warn("GET de prueba fall (posible CORS/hotlink). Se agregar igual y SmartImage mostrar error si no carga.",Me)}u(Me=>({...Me,images:[...Me.images||[],{url:K,color:V||void 0}]})),P(""),M("")}},R=K=>{u(ue=>({...ue,images:(ue.images||[]).filter((me,Re)=>Re!==K)}))},$=K=>{u(ue=>{var Me;const me=[...ue.images||[]];if(K<0||K>=me.length)return ue;const[Re]=me.splice(K,1);return me.unshift(Re),{...ue,images:me,image:((Me=me[0])==null?void 0:Me.url)||ue.image}})},ie=(K,ue)=>{u(me=>{const Re=[...me.images||[]];return Re[K]?(Re[K]={...Re[K],color:ue||void 0},{...me,images:Re}):me})},fe=K=>{if(K.preventDefault(),!l.name||l.name.trim().length===0){alert("El nombre es obligatorio");return}if(!l.price||Number(l.price)<=0){alert("El precio debe ser mayor a 0");return}const ue=l.category;if(!ue||ue.trim().length===0){alert("La categora es obligatoria");return}l.technology=m,console.log("Categora guardada:",ue,"| Tecnologa:",m),l.images&&l.images.length>0&&(l.image=l.images[0].url),typeof l.featured!="boolean"&&(l.featured=!1),l.id||(l.id=s??Date.now()),e(l)};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),_.jsxs("form",{onSubmit:fe,onMouseDown:K=>K.stopPropagation(),onTouchStart:K=>K.stopPropagation(),className:"relative z-10 bg-white rounded-2xl shadow-xl w-full max-w-[95vw] sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white pb-2 border-b",children:[_.jsx("h3",{className:"text-base sm:text-lg font-bold",children:i?"Editar Producto":"Nuevo Producto"}),_.jsx("button",{type:"button",onClick:t,className:"text-slate-500 text-sm sm:text-base",children:"Cerrar"})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tecnologa"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"technology",value:"3D",checked:m==="3D",onChange:()=>{v("3D"),console.log("Tecnologa cambiada a: 3D")},className:"text-indigo-600"}),_.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Impresin 3D"})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"technology",value:"Lser",checked:m==="Lser",onChange:()=>{v("Lser"),console.log("Tecnologa cambiada a: Lser")},className:"text-indigo-600"}),_.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Corte Lser"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"product-name",className:"block text-sm font-medium text-slate-700",children:"Nombre"}),_.jsx("input",{id:"product-name",name:"name",autoComplete:"off",value:l.name,onChange:K=>Pe("name",K.target.value),className:"mt-1 block w-full rounded-md border-gray-200"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Precio"}),_.jsx("input",{id:"product-price",name:"price",type:"number",value:l.price,onChange:K=>Pe("price",Number(K.target.value)),className:"mt-1 block w-full rounded-md border-gray-200"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{id:"product-featured",type:"checkbox",checked:!!l.featured,onChange:K=>Pe("featured",K.target.checked)}),_.jsx("label",{htmlFor:"product-featured",className:"text-sm font-medium text-slate-700",children:"Marcar como Destacado"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"product-category",className:"block text-sm font-medium text-slate-700",children:"Categora"}),b.length>0?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsxs("select",{id:"product-category-select",value:l.category||"__none",onChange:K=>{const ue=K.target.value;ue==="__other"?(h("other"),u(me=>({...me,category:""}))):ue==="__none"?(h(b.length?"select":"other"),u(me=>({...me,category:""}))):(h("select"),u(me=>({...me,category:ue})))},className:"mt-1 block w-full rounded-md border-gray-200 p-2",children:[_.jsx("option",{value:"__none",children:"-- Seleccionar categora --"}),Ee.map(K=>_.jsx("option",{value:K,children:K},K)),_.jsx("option",{value:"__other",children:"Otra..."})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"Nueva categora",value:j,onChange:K=>B(K.target.value),className:"px-2 py-1 border rounded-md text-sm"}),_.jsx("button",{type:"button",onClick:_e,className:"px-3 py-1 rounded-md bg-emerald-50 text-emerald-700 text-sm",children:"Agregar"}),_.jsx("button",{type:"button",onClick:()=>Ce(),className:"ml-2 px-3 py-1 rounded-md bg-red-50 text-red-700 text-sm",children:"Quitar"})]})]}),d==="other"&&_.jsx("input",{id:"product-category",name:"category",autoComplete:"off",value:l.category,onChange:K=>Pe("category",K.target.value),className:"mt-2 block w-full rounded-md border-gray-200",placeholder:"Nueva categora"})]}):_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("input",{id:"product-category",name:"category",autoComplete:"off",value:l.category,onChange:K=>Pe("category",K.target.value),className:"mt-1 block w-full rounded-md border-gray-200",placeholder:"Ej: Hogar"}),_.jsx("input",{type:"text",placeholder:"Nueva categora",value:j,onChange:K=>B(K.target.value),className:"px-2 py-1 border rounded-md text-sm"}),_.jsx("button",{type:"button",onClick:_e,className:"px-3 py-1 rounded-md bg-emerald-50 text-emerald-700 text-sm",children:"Agregar"})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Imgenes y Colores"}),_.jsxs("div",{className:"mt-1 grid gap-2",children:[_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("label",{className:"text-xs text-slate-600",children:"Destino:"}),_.jsxs("select",{value:X,onChange:K=>Q(K.target.value),className:"text-sm border rounded px-2 py-1",children:[_.jsx("option",{value:"local",children:"Local (IndexedDB)"}),_.jsx("option",{value:"cloudinary",children:"Cloudinary"}),_.jsx("option",{value:"supabase",children:"Supabase"})]}),X==="supabase"&&_.jsx("input",{type:"text",value:ce,onChange:K=>ae(K.target.value),className:"text-sm border rounded px-2 py-1",placeholder:"Bucket (ej: images)"})]}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("input",{type:"text",placeholder:"URL de imagen",value:N,onChange:K=>P(K.target.value),className:"block w-full rounded-md border border-gray-300 px-3 py-2"}),_.jsx("input",{type:"text",placeholder:"Color (opcional)",value:V,onChange:K=>M(K.target.value),className:"block w-40 rounded-md border border-gray-300 px-3 py-2"}),_.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm whitespace-nowrap hover:bg-indigo-700",children:"Agregar"})]}),_.jsx("div",{className:"text-xs text-slate-400",children:"O sube una imagen desde tu equipo:"}),_.jsx("div",{className:"bg-yellow-50 p-2 rounded text-xs text-yellow-800 mb-2",children:" Recomendacin: Usa URLs externas siempre que sea posible. Subir archivos llena la memoria del navegador muy rpido y puede borrar tus datos."}),_.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var me;const ue=(me=K.target.files)==null?void 0:me[0];ue&&ot(ue)},className:"block w-full text-sm text-slate-600"}),l.images&&l.images.length>0&&_.jsxs("div",{className:"mt-3 space-y-2",children:[_.jsx("div",{className:"text-xs text-slate-500",children:'Imgenes agregadas (haz clic en "Principal" para elegir la principal):'}),l.images.map((K,ue)=>_.jsxs("div",{className:"flex items-center gap-3 border rounded-md p-2",children:[_.jsx(br,{src:K.url,storageKey:K.storageKey,alt:`img-${ue}`,className:"h-14 w-14 object-cover rounded",showError:!0}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"text-xs text-slate-500",children:"Color:"}),_.jsx("input",{type:"text",value:K.color||"",onChange:me=>ie(ue,me.target.value),className:"mt-1 block w-48 rounded-md border border-gray-300 px-3 py-2",placeholder:"Ej: Rojo"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",onClick:()=>$(ue),className:`px-3 py-1 rounded-md text-sm ${ue===0?"bg-emerald-600 text-white":"bg-gray-100 text-slate-700"}`,children:ue===0?"Principal":"Hacer principal"}),_.jsx("button",{type:"button",onClick:()=>R(ue),className:"px-3 py-1 rounded-md bg-red-50 text-red-700 text-sm",children:"Quitar"})]})]},ue))]}),T&&_.jsxs("div",{className:"mt-3",children:[_.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Previsualizacin (principal):"}),_.jsx(br,{src:T,alt:"preview",className:"h-28 rounded-md object-cover border",showError:!0})]})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{htmlFor:"product-description",className:"block text-sm font-medium text-slate-700",children:"Descripcin"}),_.jsx("textarea",{id:"product-description",name:"description",value:l.description,onChange:K=>Pe("description",K.target.value),className:"mt-1 block w-full rounded-md border-gray-200",rows:4})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"product-stock",className:"block text-sm font-medium text-slate-700",children:"Stock Disponible"}),_.jsx("input",{id:"product-stock",type:"number",min:"0",value:l.stock??"",onChange:K=>Pe("stock",K.target.value?parseInt(K.target.value):void 0),className:"mt-1 block w-full rounded-md border-gray-200",placeholder:"Ej: 10"}),_.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Dejar vaco si no deseas controlar stock"})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[_.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-gray-100",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-teal-600 text-white",children:"Guardar"})]})]})]})},pD=({orders:t})=>{const[e,i]=O.useState("all"),s=O.useMemo(()=>{const u=new Date,d=new Date(u.getFullYear(),u.getMonth(),u.getDate()),h=new Date(u.getTime()-10080*60*1e3),m=new Date(u.getFullYear(),u.getMonth(),1);return t.filter(v=>{const x=new Date(v.timestamp);switch(e){case"today":return x>=d;case"week":return x>=h;case"month":return x>=m;default:return!0}})},[t,e]),o=O.useMemo(()=>{const u=s.reduce((b,E)=>b+E.total,0),d=s.filter(b=>b.status==="completed").length,h=s.filter(b=>b.status==="pending").length,m=s.filter(b=>b.status==="processing").length,v={};s.forEach(b=>{b.items.forEach(E=>{v[E.name]||(v[E.name]={count:0,total:0,name:E.name}),v[E.name].count+=E.quantity,v[E.name].total+=E.price*E.quantity})});const x=Object.values(v).sort((b,E)=>E.total-b.total).slice(0,5);return{total:u,completed:d,pending:h,processing:m,topProducts:x}},[s]),l=()=>{const u=["ID","Fecha","Cliente","Email","Telfono","Total","Mtodo Pago","Estado","Productos"],d=s.map(b=>[b.id,new Date(b.timestamp).toLocaleString("es-AR"),b.customer.name,b.customer.email,b.customer.phone,b.total.toFixed(2),b.paymentMethod,b.status,b.items.map(E=>`${E.name} (x${E.quantity})`).join("; ")]),h=[u,...d].map(b=>b.map(E=>`"${E}"`).join(",")).join(`
`),m=new Blob([h],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(m),x=document.createElement("a");x.href=v,x.download=`ventas-${e}-${Date.now()}.csv`,x.click(),URL.revokeObjectURL(v)};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:"Control de Ventas"}),_.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Analiza el rendimiento de tu tienda"})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[_.jsx("div",{className:"flex gap-2 bg-gray-100 rounded-lg p-1",children:["today","week","month","all"].map(u=>_.jsxs("button",{onClick:()=>i(u),className:`px-3 py-1.5 text-sm rounded-md transition-all ${e===u?"bg-white text-indigo-600 shadow-sm font-medium":"text-slate-600 hover:text-slate-900"}`,children:[u==="today"&&"Hoy",u==="week"&&"Semana",u==="month"&&"Mes",u==="all"&&"Todo"]},u))}),_.jsxs("button",{onClick:l,className:"px-4 py-2 bg-green-600 text-white rounded-lg flex items-center gap-2 hover:bg-green-700 transition-colors",children:[_.jsx(rw,{size:16}),"Exportar CSV"]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[_.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl p-4 sm:p-6 text-white shadow-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx(vr,{size:20,className:"opacity-80 sm:w-6 sm:h-6"}),_.jsx(nf,{size:16,className:"opacity-60 sm:w-5 sm:h-5"})]}),_.jsx("p",{className:"text-xs sm:text-sm opacity-90 mb-1",children:"Total Vendido"}),_.jsxs("p",{className:"text-2xl sm:text-3xl font-bold",children:["$",o.total.toFixed(2)]})]}),_.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 sm:p-6 text-white shadow-lg",children:[_.jsx("div",{className:"flex items-center justify-between mb-2",children:_.jsx(b0,{size:20,className:"opacity-80 sm:w-6 sm:h-6"})}),_.jsx("p",{className:"text-xs sm:text-sm opacity-90 mb-1",children:"rdenes"}),_.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:s.length})]}),_.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 sm:p-6 text-white shadow-lg",children:[_.jsx("div",{className:"flex items-center justify-between mb-2",children:_.jsx(x0,{size:20,className:"opacity-80 sm:w-6 sm:h-6"})}),_.jsx("p",{className:"text-xs sm:text-sm opacity-90 mb-1",children:"En Proceso"}),_.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:o.processing})]}),_.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 sm:p-6 text-white shadow-lg",children:[_.jsx("div",{className:"flex items-center justify-between mb-2",children:_.jsx(_0,{size:20,className:"opacity-80 sm:w-6 sm:h-6"})}),_.jsx("p",{className:"text-xs sm:text-sm opacity-90 mb-1",children:"Pendientes"}),_.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:o.pending})]})]}),_.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[_.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[_.jsx(nf,{size:20,className:"text-indigo-600"}),"Productos Ms Vendidos"]}),o.topProducts.length===0?_.jsx("p",{className:"text-slate-500 text-sm",children:"No hay datos para mostrar"}):_.jsx("div",{className:"space-y-3",children:o.topProducts.map((u,d)=>_.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full font-bold text-sm",children:d+1}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-slate-900",children:u.name}),_.jsxs("p",{className:"text-xs text-slate-500",children:[u.count," unidades vendidas"]})]})]}),_.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:["$",u.total.toFixed(2)]})]},u.name))})]}),_.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[_.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Distribucin por Estado"}),_.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[_.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.completed}),_.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Completadas"})]}),_.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[_.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.processing}),_.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"En Proceso"})]}),_.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg border border-amber-200",children:[_.jsx("p",{className:"text-2xl font-bold text-amber-600",children:o.pending}),_.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Pendientes"})]})]})]})]})},gD=({products:t,onUpdatePrices:e,onClose:i})=>{const[s,o]=O.useState("percentage"),[l,u]=O.useState("all"),[d,h]=O.useState(""),[m,v]=O.useState(new Set),[x,b]=O.useState(""),[E,T]=O.useState(!1),A=O.useMemo(()=>{const j=new Set(t.map(B=>B.category));return Array.from(j).filter(Boolean)},[t]),N=O.useMemo(()=>{switch(l){case"all":return t;case"category":return t.filter(j=>j.category===d);case"selected":return t.filter(j=>m.has(j.id));default:return[]}},[l,t,d,m]),P=O.useMemo(()=>{if(!x||isNaN(Number(x)))return N;const j=Number(x);return N.map(B=>{let X=B.price;return s==="percentage"?X=B.price*(1+j/100):X=B.price+j,X=Math.max(0,Math.round(X*100)/100),{...B,price:X}})},[N,x,s]),V=j=>{const B=new Set(m);B.has(j)?B.delete(j):B.add(j),v(B)},M=()=>{if(!x||isNaN(Number(x))){alert("Ingresa un valor numrico vlido.");return}if(N.length===0){alert("No hay productos seleccionados para actualizar.");return}if(!confirm(`Aplicar cambios de precio a ${N.length} producto(s)?`))return;const j=new Set(N.map(X=>X.id)),B=t.map(X=>j.has(X.id)&&P.find(ce=>ce.id===X.id)||X);e(B),alert("Precios actualizados correctamente."),i()};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[95vw] sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[_.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 sm:p-6 text-white flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:[_.jsx(vr,{size:24,className:"hidden sm:block"}),_.jsx(vr,{size:20,className:"sm:hidden"}),"Actualizar Precios"]}),_.jsx("p",{className:"text-xs sm:text-sm opacity-90 mt-1",children:"Ajusta precios de forma rpida"})]}),_.jsx("button",{onClick:i,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:_.jsx(ia,{size:24})})]}),_.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto flex-1",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Tipo de Ajuste"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("button",{onClick:()=>o("percentage"),className:`flex-1 p-4 rounded-xl border-2 transition-all ${s==="percentage"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-200 bg-white text-slate-600 hover:border-gray-300"}`,children:[_.jsx(Kg,{className:"mx-auto mb-2",size:24}),_.jsx("p",{className:"font-medium",children:"Porcentaje"}),_.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Aumentar/reducir %"})]}),_.jsxs("button",{onClick:()=>o("fixed"),className:`flex-1 p-4 rounded-xl border-2 transition-all ${s==="fixed"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-200 bg-white text-slate-600 hover:border-gray-300"}`,children:[_.jsx(vr,{className:"mx-auto mb-2",size:24}),_.jsx("p",{className:"font-medium",children:"Monto Fijo"}),_.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Sumar/restar $"})]})]})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[s==="percentage"?"Porcentaje":"Monto"," de Ajuste"]}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:x,onChange:j=>b(j.target.value),placeholder:s==="percentage"?"ej: 10 (aumenta 10%)":"ej: 5.50 (suma $5.50)",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-indigo-600 focus:outline-none",step:"0.01"}),s==="percentage"&&_.jsx(Kg,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]}),_.jsx("p",{className:"text-xs text-slate-500 mt-2",children:s==="percentage"?"Valores negativos reducen el precio (ej: -15 para descontar 15%)":"Valores negativos restan del precio (ej: -10 para descontar $10)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Aplicar a"}),_.jsxs("div",{className:"flex gap-2 mb-3",children:[_.jsxs("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="all"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-600 hover:bg-gray-200"}`,children:["Todos (",t.length,")"]}),_.jsx("button",{onClick:()=>u("category"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="category"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-600 hover:bg-gray-200"}`,children:"Por Categora"}),_.jsxs("button",{onClick:()=>u("selected"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="selected"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-600 hover:bg-gray-200"}`,children:["Seleccionados (",m.size,")"]})]}),l==="category"&&_.jsxs("select",{value:d,onChange:j=>h(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-indigo-600 focus:outline-none",children:[_.jsx("option",{value:"",children:"Selecciona una categora"}),A.map(j=>_.jsx("option",{value:j,children:j},j))]}),l==="selected"&&_.jsx("div",{className:"max-h-48 overflow-y-auto border-2 border-gray-200 rounded-xl p-3 space-y-2",children:t.map(j=>_.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:m.has(j.id),onChange:()=>V(j.id),className:"w-4 h-4 text-indigo-600"}),_.jsx("span",{className:"text-sm text-slate-700",children:j.name}),_.jsxs("span",{className:"text-xs text-slate-500 ml-auto",children:["$",j.price.toFixed(2)]})]},j.id))})]}),N.length>0&&x&&_.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsx(nf,{className:"text-blue-600",size:20}),_.jsx("h4",{className:"font-bold text-blue-900",children:"Vista Previa"})]}),_.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:[N.length," producto(s) sern actualizados"]}),_.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2",children:[P.slice(0,10).map(j=>{const B=t.find(Q=>Q.id===j.id),X=j.price-((B==null?void 0:B.price)||0);return _.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg text-sm",children:[_.jsx("span",{className:"text-slate-700 font-medium",children:j.name}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-slate-400 line-through",children:["$",B==null?void 0:B.price.toFixed(2)]}),_.jsxs("span",{className:"font-bold text-blue-600",children:["$",j.price.toFixed(2)]}),_.jsxs("span",{className:`text-xs ${X>=0?"text-green-600":"text-red-600"}`,children:["(",X>=0?"+":"",X.toFixed(2),")"]})]})]},j.id)}),P.length>10&&_.jsxs("p",{className:"text-xs text-slate-500 text-center mt-2",children:["... y ",P.length-10," ms"]})]})]}),N.length===0&&l!=="all"&&_.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[_.jsx(Mw,{className:"text-amber-600 flex-shrink-0",size:20}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-amber-900",children:"Sin productos seleccionados"}),_.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[l==="category"&&"Selecciona una categora",l==="selected"&&"Marca al menos un producto"]})]})]})]}),_.jsxs("div",{className:"border-t border-gray-200 p-4 sm:p-6 bg-gray-50 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[_.jsx("button",{onClick:i,className:"px-6 py-3 bg-white border-2 border-gray-300 text-slate-700 rounded-xl font-medium hover:bg-gray-50 transition-colors order-2 sm:order-1",children:"Cancelar"}),_.jsxs("button",{onClick:M,disabled:!x||N.length===0,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 order-1 sm:order-2",children:[_.jsx(vr,{size:20}),_.jsxs("span",{className:"hidden sm:inline",children:["Aplicar Cambios (",N.length,")"]}),_.jsxs("span",{className:"sm:hidden",children:["Aplicar (",N.length,")"]})]})]})]})})},yD=({products:t,onAdd:e,onEdit:i,onDelete:s})=>{const[o,l]=O.useState(!1),[u,d]=O.useState(null),[h,m]=O.useState([]),[v,x]=O.useState({}),[b,E]=O.useState("products"),[T,A]=O.useState([]),[N,P]=O.useState([]),[V,M]=O.useState(!1),j=Sr(),B=localStorage.getItem("admin_user"),X=()=>{N0(),j("/admin/login")};O.useEffect(()=>{try{const R=localStorage.getItem("users"),$=R?JSON.parse(R):[];m($.map(fe=>({username:fe.username})));const ie={};$.forEach(fe=>{ie[fe.username]=sf(fe.username)}),x(ie)}catch{}try{const R=localStorage.getItem("customOrders"),$=R?JSON.parse(R):[];A($)}catch{}try{const R=localStorage.getItem("orders"),$=R?JSON.parse(R):[];P($)}catch{}},[]);const Q=()=>{try{const R=localStorage.getItem("users"),$=R?JSON.parse(R):[];m($.map(fe=>({username:fe.username})));const ie={};$.forEach(fe=>{ie[fe.username]=sf(fe.username)}),x(ie)}catch{}},ce=R=>{if(confirm(`Eliminar usuario ${R}? Esta accin no se puede revertir.`))try{const $=localStorage.getItem("users"),fe=($?JSON.parse($):[]).filter(we=>we.username!==R);localStorage.setItem("users",JSON.stringify(fe)),nu(R),Q()}catch{}},ae=R=>{if(confirm(`Desbloquear usuario ${R}?`))try{nu(R),Q(),alert("Usuario desbloqueado.")}catch{}},_e=()=>{if(!confirm("Esto migrar todos los productos existentes para limpiar las categoras y asignar la tecnologa correctamente. Continuar?"))return;const R=t.map(ie=>{let fe=ie.category||"",we=ie.technology||"3D";const U=fe.toLowerCase(),ee=/\b3\s*d\b/i.test(fe)||U.includes(" 3d")||U.startsWith("3d")||U.endsWith("3d"),pe=/lser|laser/i.test(fe);return ee?(we="3D",fe=fe.replace(/\s*3\s*d\s*/gi,"").trim()):pe&&(we="Lser",fe=fe.replace(/\s*(lser|laser)\s*/gi,"").trim()),{...ie,category:fe,technology:we}});localStorage.setItem("products",JSON.stringify(R));const $=Array.from(new Set(R.map(ie=>ie.category).filter(Boolean)));localStorage.setItem("categories",JSON.stringify($)),alert(`Migracin completada. ${R.length} productos actualizados.`),window.location.reload()},Ce=(R,$)=>{const ie=T.map(fe=>fe.id===R?{...fe,status:$}:fe);A(ie),localStorage.setItem("customOrders",JSON.stringify(ie))},Ee=R=>{if(!confirm("Eliminar este pedido personalizado?"))return;const $=T.filter(ie=>ie.id!==R);A($),localStorage.setItem("customOrders",JSON.stringify($))},Pe=()=>{try{const R={products:t,categories:JSON.parse(localStorage.getItem("categories")||"[]"),orders:JSON.parse(localStorage.getItem("orders")||"[]"),customOrders:JSON.parse(localStorage.getItem("customOrders")||"[]"),timestamp:new Date().toISOString()},$=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),ie=URL.createObjectURL($),fe=document.createElement("a");fe.href=ie,fe.download=`backup-3d2-${Date.now()}.json`,fe.click(),URL.revokeObjectURL(ie),alert("Backup exportado correctamente.")}catch(R){console.error(R),alert("No se pudo exportar el backup.")}},ot=async()=>{const R=document.createElement("input");R.type="file",R.accept="application/json",R.onchange=async()=>{var ie;const $=(ie=R.files)==null?void 0:ie[0];if($)try{const fe=await $.text(),we=JSON.parse(fe);if(!we||typeof we!="object")throw new Error("Formato invlido");Array.isArray(we.products)&&localStorage.setItem("products",JSON.stringify(we.products)),Array.isArray(we.categories)&&localStorage.setItem("categories",JSON.stringify(we.categories)),Array.isArray(we.orders)&&localStorage.setItem("orders",JSON.stringify(we.orders)),Array.isArray(we.customOrders)&&localStorage.setItem("customOrders",JSON.stringify(we.customOrders)),alert("Backup importado. Recargando..."),window.location.reload()}catch(fe){console.error(fe),alert("No se pudo importar el backup.")}},R.click()},se=async()=>{if(confirm("Esto migrar imgenes embebidas (base64) a IndexedDB para reducir tamao y evitar lmites. Continuar?"))try{const R=await Promise.all(t.map(async $=>{if(!$.images||$.images.length===0)return $;const ie=[];for(const fe of $.images)if(fe.url&&fe.url.startsWith("data:image"))try{const we=await qw(fe.url);ie.push({storageKey:we,color:fe.color})}catch{ie.push(fe)}else ie.push(fe);return{...$,images:ie}}));localStorage.setItem("products",JSON.stringify(R)),alert("Migracin completada. Se actualizaron las imgenes embebidas."),window.location.reload()}catch(R){console.error(R),alert("Fallo la migracin de imgenes.")}};return _.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-6",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[_.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[_.jsx("button",{onClick:()=>j(-1),className:"p-2 bg-gray-100 rounded-md",children:_.jsx($E,{size:20})}),_.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Panel Admin"}),B&&_.jsxs("div",{className:"hidden sm:block ml-4 text-sm text-slate-500",children:["Usuario: ",_.jsx("span",{className:"font-medium text-slate-700",children:B})]})]}),_.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto overflow-x-auto pb-2 sm:pb-0",children:[b==="products"&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>M(!0),className:"whitespace-nowrap px-3 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-md text-xs sm:text-sm flex items-center gap-1 sm:gap-2 hover:from-green-700 hover:to-emerald-700 transition-all",children:[_.jsx(vr,{size:14,className:"sm:w-4 sm:h-4"}),_.jsx("span",{className:"hidden sm:inline",children:"Actualizar"})," Precios"]}),_.jsx("button",{onClick:_e,className:"hidden md:inline-flex whitespace-nowrap px-3 py-2 bg-orange-600 text-white rounded-md text-xs sm:text-sm",children:"Migrar Productos"}),_.jsx("button",{onClick:se,className:"hidden md:inline-flex whitespace-nowrap px-3 py-2 bg-indigo-600 text-white rounded-md text-xs sm:text-sm",children:"Migrar Imgenes"}),_.jsx("button",{onClick:Pe,className:"whitespace-nowrap px-3 py-2 bg-slate-800 text-white rounded-md text-xs sm:text-sm",children:"Exportar"}),_.jsx("button",{onClick:async()=>{const R=prompt("Bucket Supabase a probar","images")||"images",{testSupabase:$}=await qI(async()=>{const{testSupabase:fe}=await Promise.resolve().then(()=>mD);return{testSupabase:fe}},[]),ie=await $(R);alert(ie.ok?`Supabase OK (${R}): ${ie.message}`:`Supabase Error (${R}): ${ie.message}`)},className:"hidden lg:inline-flex whitespace-nowrap px-3 py-2 bg-purple-600 text-white rounded-md text-xs sm:text-sm",children:"Test Supabase"}),_.jsx("button",{onClick:ot,className:"whitespace-nowrap px-3 py-2 bg-slate-100 text-slate-800 border border-gray-300 rounded-md text-xs sm:text-sm",children:"Importar"}),_.jsxs("button",{onClick:()=>l(!0),className:"whitespace-nowrap px-3 py-2 bg-teal-600 text-white rounded-md flex items-center gap-1 text-xs sm:text-sm",children:[_.jsx(E0,{size:14}),"Nuevo"]})]}),_.jsx("button",{onClick:X,className:"whitespace-nowrap px-3 py-2 bg-white border border-gray-200 rounded-md text-xs sm:text-sm text-slate-700",children:"Salir"})]})]}),_.jsxs("div",{className:"flex gap-2 mb-4 sm:mb-6 border-b overflow-x-auto pb-0",children:[_.jsxs("button",{onClick:()=>E("products"),className:`px-3 sm:px-4 py-2 sm:py-3 font-medium flex items-center gap-1 sm:gap-2 border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base ${b==="products"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[_.jsx(b0,{size:18,className:"sm:w-5 sm:h-5"}),"Productos (",t.length,")",t.filter(R=>R.stock!==void 0&&R.stock<5).length>0&&_.jsx("span",{className:"bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full",children:t.filter(R=>R.stock!==void 0&&R.stock<5).length})]}),_.jsxs("button",{onClick:()=>E("orders"),className:`px-4 py-3 font-medium flex items-center gap-2 border-b-2 transition-colors ${b==="orders"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[_.jsx(Ql,{size:20}),"Pedidos Personalizados (",T.length,")",T.filter(R=>R.status==="pendiente").length>0&&_.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:T.filter(R=>R.status==="pendiente").length})]}),_.jsxs("button",{onClick:()=>E("sales"),className:`px-4 py-3 font-medium flex items-center gap-2 border-b-2 transition-colors ${b==="sales"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[_.jsx(w0,{size:20}),"Ventas (",N.length,")",N.filter(R=>R.status==="pendiente").length>0&&_.jsx("span",{className:"bg-yellow-500 text-white text-xs px-2 py-0.5 rounded-full",children:N.filter(R=>R.status==="pendiente").length})]}),_.jsxs("button",{onClick:()=>E("users"),className:`px-4 py-3 font-medium flex items-center gap-2 border-b-2 transition-colors ${b==="users"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[_.jsx(Wg,{size:20}),"Usuarios (",h.length,")"]})]}),b==="products"&&_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(R=>{var $,ie,fe,we;return _.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between gap-4",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx(br,{src:((ie=($=R.images)==null?void 0:$[0])==null?void 0:ie.url)??R.image,storageKey:(we=(fe=R.images)==null?void 0:fe[0])==null?void 0:we.storageKey,alt:R.name,className:"h-20 w-20 object-cover rounded-md"}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("div",{className:"font-bold",children:R.name}),R.stock!==void 0&&_.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${R.stock===0?"bg-red-100 text-red-700":R.stock<5?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:R.stock===0?"Sin stock":`Stock: ${R.stock}`})]}),_.jsxs("div",{className:"text-sm text-slate-500",children:[R.category,R.technology?`  ${R.technology}`:"",`  $${R.price}`]}),_.jsx("div",{className:"text-sm text-slate-400 max-w-sm mt-2",children:R.description})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{onClick:()=>d(R),className:"px-3 py-1 rounded-md bg-indigo-50 text-indigo-700 flex items-center gap-2",children:[_.jsx(Tw,{size:14}),"Editar"]}),_.jsxs("button",{onClick:()=>s(R.id),className:"px-3 py-1 rounded-md bg-red-50 text-red-700 flex items-center gap-2",children:[_.jsx(T0,{size:14}),"Eliminar"]})]})]},R.id)})}),b==="orders"&&_.jsx("div",{className:"space-y-4",children:T.length===0?_.jsxs("div",{className:"text-center py-12 text-slate-500",children:[_.jsx(Ql,{size:48,className:"mx-auto mb-4 opacity-30"}),_.jsx("p",{children:"No hay pedidos personalizados an"})]}):T.sort((R,$)=>new Date($.timestamp).getTime()-new Date(R.timestamp).getTime()).map(R=>_.jsxs("div",{className:"border rounded-lg p-6 bg-white shadow-sm",children:[_.jsx("div",{className:"flex items-start justify-between mb-4",children:_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx("h3",{className:"font-bold text-lg",children:R.name}),_.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.status==="pendiente"?"bg-yellow-100 text-yellow-800":R.status==="contactado"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:R.status==="pendiente"?_.jsxs(_.Fragment,{children:[_.jsx(x0,{size:12,className:"inline mr-1"}),"Pendiente"]}):R.status==="contactado"?"Contactado":_.jsxs(_.Fragment,{children:[_.jsx(hr,{size:12,className:"inline mr-1"}),"Completado"]})}),_.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs font-medium",children:R.technology})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm text-slate-600 mb-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Ql,{size:16,className:"text-slate-400"}),_.jsx("a",{href:`mailto:${R.email}`,className:"hover:text-indigo-600",children:R.email})]}),R.phone&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(S0,{size:16,className:"text-slate-400"}),_.jsx("a",{href:`tel:${R.phone}`,className:"hover:text-indigo-600",children:R.phone})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(_0,{size:16,className:"text-slate-400"}),_.jsx("span",{children:new Date(R.timestamp).toLocaleString("es-AR")})]})]}),_.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[_.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"Descripcin del proyecto:"}),_.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap",children:R.description})]})]})}),_.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t",children:[R.status==="pendiente"&&_.jsx("button",{onClick:()=>Ce(R.id,"contactado"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Marcar como Contactado"}),R.status==="contactado"&&_.jsx("button",{onClick:()=>Ce(R.id,"completado"),className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm hover:bg-green-700",children:"Marcar como Completado"}),_.jsx("button",{onClick:()=>Ee(R.id),className:"px-4 py-2 bg-red-50 text-red-700 rounded-md text-sm hover:bg-red-100",children:"Eliminar"})]})]},R.id))}),b==="sales"&&_.jsx(pD,{orders:N}),b==="users"&&_.jsx("div",{children:h.length===0?_.jsxs("div",{className:"text-center py-12 text-slate-500",children:[_.jsx(Wg,{size:48,className:"mx-auto mb-4 opacity-30"}),_.jsx("p",{children:"No hay usuarios registrados"})]}):_.jsx("div",{className:"space-y-2",children:h.map(R=>{var $;return _.jsxs("div",{className:"flex items-center justify-between border rounded p-3",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:R.username}),_.jsx("div",{className:"text-sm text-slate-500",children:($=v[R.username])!=null&&$.locked?`Bloqueado hasta ${v[R.username].until?new Date(v[R.username].until).toLocaleString():"..."}`:"Activo"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:()=>ae(R.username),className:"px-3 py-1 bg-emerald-50 text-emerald-700 rounded-md",children:"Desbloquear"}),_.jsx("button",{onClick:()=>ce(R.username),className:"px-3 py-1 bg-red-50 text-red-700 rounded-md",children:"Eliminar"})]})]},R.username)})})}),(()=>{try{const R=localStorage.getItem("categories"),$=R?JSON.parse(R):[],ie=Array.from(new Set([...t.map(fe=>fe.category).filter(Boolean),...$]));return _.jsxs(_.Fragment,{children:[o&&_.jsx(n0,{categories:ie,onClose:()=>l(!1),onSave:fe=>{e(fe),l(!1)},nextId:t.length+1}),u&&_.jsx(n0,{categories:ie,product:u,onClose:()=>d(null),onSave:fe=>{i(fe),d(null)},nextId:t.length+1}),V&&_.jsx(gD,{products:t,onUpdatePrices:fe=>{fe.forEach(we=>i(we)),M(!1)},onClose:()=>M(!1)})]})}catch{return null}})()]})},Fl="admin_user",Xd="admin_pass_hash",vD=()=>{const t=Sr(),[e,i]=O.useState("login"),[s,o]=O.useState(""),[l,u]=O.useState(""),[d,h]=O.useState(""),[m,v]=O.useState(!0),[x,b]=O.useState(7),[E,T]=O.useState({locked:!1}),[A,N]=O.useState(0);O.useEffect(()=>{const M=localStorage.getItem(Fl);i(M?"login":"setup"),tu()&&t("/admin"),N(R0()),T(ty())},[t]);const P=async M=>{if(M.preventDefault(),!s||!l)return alert("Usuario y contrasea requeridos");if(l!==d)return alert("Las contraseas no coinciden");const j=await eu(l,s);localStorage.setItem(Fl,s),localStorage.setItem(Xd,j),ey(m,m?x:void 0),rf(),t("/admin")},V=async M=>{M.preventDefault();const j=ty();if(j.locked){const ce=j.until||Date.now();return alert("Cuenta bloqueada hasta: "+new Date(ce).toLocaleString())}const B=localStorage.getItem(Fl),X=localStorage.getItem(Xd);if(!B||!X)return alert("No hay cuenta configurada.");if(s!==B)return alert("Usuario incorrecto");if(await eu(l,s)===X)ey(m,m?x:void 0),rf(),t("/admin");else{const ce=Gw(4,30);if(N(ce.attempts),T({locked:ce.locked,until:ce.until}),ce.locked)return alert("Demasiados intentos. Cuenta bloqueada hasta: "+new Date(ce.until).toLocaleString());const ae=Math.max(0,4-ce.attempts);alert("Contrasea incorrecta. Intentos restantes: "+ae)}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[_.jsx("h2",{className:"text-xl font-bold mb-4",children:e==="setup"?"Configurar cuenta Admin":"Ingresar Admin"}),_.jsxs("form",{onSubmit:e==="setup"?P:V,className:"space-y-4",children:[E.locked&&_.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded",children:["Cuenta bloqueada hasta: ",E.until?new Date(E.until).toLocaleString():"..."]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Usuario"}),_.jsx("input",{value:s,onChange:M=>o(M.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Contrasea"}),_.jsx("input",{type:"password",value:l,onChange:M=>u(M.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),e==="setup"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Confirmar contrasea"}),_.jsx("input",{type:"password",value:d,onChange:M=>h(M.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("label",{className:"inline-flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",checked:m,onChange:M=>v(M.target.checked)}),_.jsx("span",{className:"text-sm text-slate-600",children:"Recordarme"})]}),m&&_.jsxs("label",{className:"text-sm text-slate-600",children:["Expira en",_.jsx("input",{type:"number",min:1,value:x,onChange:M=>b(Number(M.target.value)),className:"ml-2 w-16 rounded-md border-gray-200 p-1"}),"das"]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("button",{type:"submit",disabled:E.locked,className:"px-4 py-2 bg-teal-600 text-white rounded-md disabled:opacity-50",children:e==="setup"?"Crear cuenta":"Entrar"}),e==="login"&&_.jsx("button",{type:"button",onClick:()=>{localStorage.removeItem(Fl),localStorage.removeItem(Xd),i("setup"),alert("Cuenta borrada, configura una nueva.")},className:"text-sm text-slate-500",children:"Borrar cuenta"})]})]})]})})},W_="users";function _D(){try{const t=localStorage.getItem(W_);return t?JSON.parse(t):[]}catch{return[]}}function xD(t){try{localStorage.setItem(W_,JSON.stringify(t))}catch{}}const bD=()=>{const t=Sr(),[e,i]=O.useState(""),[s,o]=O.useState(""),[l,u]=O.useState(""),[d,h]=O.useState(null),m=async v=>{if(v.preventDefault(),h(null),!e||!s)return h("Usuario y contrasea son requeridos");if(s!==l)return h("Las contraseas no coinciden");const x=_D();if(x.find(E=>E.username===e))return h("El usuario ya existe. Por favor elige otro nombre.");const b=await eu(s,e);x.push({username:e,hash:b}),xD(x),h("Registro exitoso. Ya puedes iniciar sesin (si la aplicacin lo soporta)."),setTimeout(()=>t("/"),1200)};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Registro de usuario"}),d&&_.jsx("div",{className:"mb-4 text-sm text-slate-700",children:d}),_.jsxs("form",{onSubmit:m,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Usuario"}),_.jsx("input",{value:e,onChange:v=>i(v.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Contrasea"}),_.jsx("input",{type:"password",value:s,onChange:v=>o(v.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Confirmar contrasea"}),_.jsx("input",{type:"password",value:l,onChange:v=>u(v.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-md",children:"Registrarme"}),_.jsx("button",{type:"button",onClick:()=>t("/"),className:"text-sm text-slate-500",children:"Volver"})]})]})]})})},SD="users";function ED(){try{const t=localStorage.getItem(SD);return t?JSON.parse(t):[]}catch{return[]}}const wD=({onLogin:t})=>{const e=Sr(),[i,s]=O.useState(""),[o,l]=O.useState(""),[u,d]=O.useState(!1),[h,m]=O.useState(null);O.useEffect(()=>{m(null)},[]);const v=async x=>{if(x.preventDefault(),m(null),!i||!o)return m("Usuario y contrasea requeridos");const E=ED().find(N=>N.username===i);if(!E)return m("Usuario no encontrado");const T=sf(i);if(T.locked)return m("Cuenta bloqueada hasta "+(T.until?new Date(T.until).toLocaleString():"..."));if(await eu(o,i)===E.hash)nu(i),Fw(i,u),t&&t(i),e("/");else{const N=$w(i,4,30);N.locked?m("Demasiados intentos. Cuenta bloqueada hasta "+(N.until?new Date(N.until).toLocaleString():"...")):m("Contrasea incorrecta. Intentos restantes: "+(4-N.attempts))}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Ingresar"}),h&&_.jsx("div",{className:"mb-4 text-sm text-red-600",children:h}),_.jsxs("form",{onSubmit:v,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Usuario"}),_.jsx("input",{value:i,onChange:x=>s(x.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-slate-700",children:"Contrasea"}),_.jsx("input",{type:"password",value:o,onChange:x=>l(x.target.value),className:"mt-1 w-full rounded-md border-gray-200 p-2"})]}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("label",{className:"inline-flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",checked:u,onChange:x=>d(x.target.checked)}),_.jsx("span",{className:"text-sm text-slate-600",children:"Recordarme"})]})}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Entrar"}),_.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-slate-500",children:"Volver"})]})]})]})})},TD=({onSubmit:t})=>{const[e,i]=O.useState({name:"",email:"",phone:"",description:"",technology:"3D"}),[s,o]=O.useState(!1),l=u=>{if(u.preventDefault(),!e.name||!e.email||!e.description){alert("Por favor completa todos los campos obligatorios");return}const d={id:Date.now(),...e,timestamp:new Date,status:"pendiente"};t(d),o(!0),setTimeout(()=>{i({name:"",email:"",phone:"",description:"",technology:"3D"}),o(!1)},3e3)};return s?_.jsxs("div",{className:"max-w-2xl mx-auto p-8 bg-green-50 border-2 border-green-500 rounded-2xl text-center animate-fade-in",children:[_.jsx("div",{className:"w-16 h-16 bg-green-500 text-white rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(tf,{size:32})}),_.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-2",children:"Solicitud Enviada!"}),_.jsx("p",{className:"text-green-700",children:"Nos pondremos en contacto contigo pronto para discutir tu proyecto personalizado."})]}):_.jsxs("div",{className:"max-w-2xl mx-auto p-8 bg-white rounded-2xl shadow-xl",children:[_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Diseo Personalizado"}),_.jsx("p",{className:"text-slate-600",children:"Cuntanos qu necesitas y crearemos algo nico para ti"})]}),_.jsxs("form",{onSubmit:l,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 mb-2",children:["Nombre completo ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{id:"name",type:"text",value:e.name,onChange:u=>i(d=>({...d,name:u.target.value})),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Tu nombre",required:!0})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{id:"email",type:"email",value:e.email,onChange:u=>i(d=>({...d,email:u.target.value})),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"tu@email.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-700 mb-2",children:"Telfono"}),_.jsx("input",{id:"phone",type:"tel",value:e.phone,onChange:u=>i(d=>({...d,phone:u.target.value})),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+54 9 11 1234-5678"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tecnologa preferida"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"technology",value:"3D",checked:e.technology==="3D",onChange:u=>i(d=>({...d,technology:"3D"})),className:"text-indigo-600"}),_.jsx("span",{className:"text-sm",children:"Impresin 3D"})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"technology",value:"Lser",checked:e.technology==="Lser",onChange:u=>i(d=>({...d,technology:"Lser"})),className:"text-indigo-600"}),_.jsx("span",{className:"text-sm",children:"Corte Lser"})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"technology",value:"Ambas",checked:e.technology==="Ambas",onChange:u=>i(d=>({...d,technology:"Ambas"})),className:"text-indigo-600"}),_.jsx("span",{className:"text-sm",children:"Ambas"})]})]})]}),_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-2",children:["Describe tu proyecto ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("textarea",{id:"description",value:e.description,onChange:u=>i(d=>({...d,description:u.target.value})),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent min-h-[150px]",placeholder:"Cuntanos qu quieres crear: dimensiones, materiales, colores, cantidad, uso previsto, etc.",required:!0}),_.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Incluye todos los detalles que consideres importantes para tu proyecto"})]}),_.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[_.jsx(tf,{size:20}),"Enviar Solicitud"]}),_.jsx("p",{className:"text-xs text-center text-slate-500",children:"Te responderemos en menos de 24 horas con un presupuesto personalizado"})]})]})},CD=({children:t})=>tu()?_.jsx(_.Fragment,{children:t}):_.jsx(rE,{to:"/admin/login",replace:!0}),xs={},AD=[{id:1,name:"Dinosaurio Articulado T-Rex",price:15,category:"Juguetes 3D",image:"https://images.unsplash.com/photo-1603665230139-143054c5e8b9?auto=format&fit=crop&q=80&w=800",description:"Figura de accin articulada flexible, impresa en PLA biodegradable de alta calidad. Varios colores."},{id:2,name:"Caja de T Mandala",price:28.5,category:"Corte Lser",image:"https://images.unsplash.com/photo-1516916759473-600c07bc99d7?auto=format&fit=crop&q=80&w=800",description:"Caja organizadora de madera MDF con diseo calado de mandala. 4 divisiones."},{id:3,name:"Lmpara Luna Litofana",price:35,category:"Hogar 3D",image:"https://images.unsplash.com/photo-1540932296217-27953f393c72?auto=format&fit=crop&q=80&w=800",description:"Esfera iluminada con textura realista de la luna. Incluye base de madera y luz LED."},{id:4,name:"Llavero Personalizado Nombre",price:5.99,category:"Personalizados",image:"https://images.unsplash.com/photo-1632167421267-43003e508546?auto=format&fit=crop&q=80&w=800",description:"Llavero impreso en 3D en dos colores a eleccin. Ideal para souvenirs y regalos."},{id:5,name:"Soporte Celular Geomtrico",price:12,category:"Accesorios",image:"https://images.unsplash.com/photo-1586775490184-b79136e26399?auto=format&fit=crop&q=80&w=800",description:"Diseo low-poly moderno, resistente y estilizado para tu escritorio."},{id:6,name:"Topper para Torta 'Feliz Cumple'",price:8.5,category:"Eventos",image:"https://images.unsplash.com/photo-1535141192574-5d4897c12636?auto=format&fit=crop&q=80&w=800",description:"Adorno de torta en acrlico dorado o madera, corte lser de precisin."},{id:7,name:"Maceta Baby Groot",price:18.99,category:"Hogar 3D",image:"https://images.unsplash.com/photo-1520412092553-02dd1792080c?auto=format&fit=crop&q=80&w=800",description:"La maceta ms tierna para tus suculentas. Impresin 3D detallada y pintada a mano."},{id:8,name:"Rompecabezas 3D Madera",price:32,category:"Juguetes Lser",image:"https://images.unsplash.com/photo-1603354350317-6f7aaa5911c5?auto=format&fit=crop&q=80&w=800",description:"Kit para armar vehculos o animales en madera. Diversin educativa sin pegamento."}],ND=()=>{const[t,e]=O.useState([]),[i,s]=O.useState(!1),[o,l]=O.useState(()=>{try{const se=localStorage.getItem("orders");return se?JSON.parse(se):[]}catch{return[]}}),[u,d]=O.useState(()=>{try{const se=localStorage.getItem("products");if(se)return JSON.parse(se)}catch{}return AD}),h=Sr(),[m,v]=O.useState(!1),[x,b]=O.useState(fr.HOME),[E,T]=O.useState("Destacados"),[A,N]=O.useState(()=>{try{const se=localStorage.getItem("categories"),R=se?JSON.parse(se):[],$=Array.from(new Set(JSON.parse(localStorage.getItem("products")||"[]").map(ie=>ie.category).filter(Boolean)));return Array.from(new Set([...$,...R]))}catch{return[]}}),[P,V]=O.useState(()=>Jw()),[M,j]=O.useState(()=>{try{const se=localStorage.getItem("customOrders");return se?JSON.parse(se):[]}catch{return[]}});O.useEffect(()=>{const se=localStorage.getItem("cart");se&&e(JSON.parse(se))},[]),O.useEffect(()=>{try{localStorage.setItem("cart",JSON.stringify(t))}catch(se){if(se instanceof Error&&se.name==="QuotaExceededError"){console.warn("LocalStorage lleno, limpiando datos antiguos..."),localStorage.removeItem("session"),localStorage.removeItem("failedAttempts");try{localStorage.setItem("cart",JSON.stringify(t))}catch{console.error("No se pudo guardar el carrito")}}}},[t]),O.useEffect(()=>{try{localStorage.setItem("products",JSON.stringify(u))}catch(se){se instanceof Error&&se.name==="QuotaExceededError"&&(console.warn("LocalStorage lleno al guardar productos"),alert("Atencin! La memoria del navegador est llena. No se pueden guardar ms productos. Intenta borrar algunos o usar URLs para las imgenes."))}},[u]),O.useEffect(()=>{try{localStorage.setItem("customOrders",JSON.stringify(M))}catch(se){se instanceof Error&&se.name==="QuotaExceededError"&&console.warn("LocalStorage lleno al guardar pedidos personalizados")}},[M]),O.useEffect(()=>{try{localStorage.setItem("orders",JSON.stringify(o))}catch(se){se instanceof Error&&se.name==="QuotaExceededError"&&console.warn("LocalStorage lleno al guardar rdenes")}},[o]);const B=se=>{if(se.stock===0){alert("Este producto est agotado");return}e(R=>{const $=R.find(ie=>ie.id===se.id);return $?se.stock!==void 0&&$.quantity>=se.stock?(alert(`Solo hay ${se.stock} unidades disponibles de este producto`),R):R.map(ie=>ie.id===se.id?{...ie,quantity:ie.quantity+1}:ie):[...R,{...se,quantity:1}]}),v(!0)},X=se=>{e(R=>R.filter($=>$.id!==se))},Q=(se,R)=>{e($=>$.map(ie=>{if(ie.id===se){const fe=ie.quantity+R;return ie.stock!==void 0&&fe>ie.stock?(alert(`Solo hay ${ie.stock} unidades disponibles`),ie):{...ie,quantity:Math.max(1,fe)}}return ie}))},ce=()=>{v(!1),s(!0)},ae=se=>{d(R=>R.map($=>{const ie=se.items.find(fe=>fe.id===$.id);return ie&&$.stock!==void 0?{...$,stock:Math.max(0,$.stock-ie.quantity)}:$})),l(R=>[...R,se]),e([]),console.log("Nueva orden confirmada:",se),console.log("Stock actualizado")},_e=se=>{d(R=>{const $=R.length?Math.max(...R.map(ie=>ie.id))+1:1;return[...R,{...se,id:$}]})},Ce=se=>{d(R=>R.map($=>$.id===se.id?se:$))},Ee=se=>{d(R=>R.filter($=>$.id!==se))},Pe=se=>{j(R=>[...R,se]),console.log("Nuevo pedido personalizado:",se)},ot=()=>x===fr.SUCCESS?_.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4 text-center animate-fade-in",children:[_.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-6",children:_.jsx(ZE,{size:40})}),_.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Gracias por tu compra!"}),_.jsx("p",{className:"text-slate-500 mb-8 max-w-md",children:"Tu pedido ha sido procesado. Si compraste personalizados, te contactaremos pronto para los detalles."}),_.jsx("button",{onClick:()=>b(fr.HOME),className:"px-8 py-3 bg-slate-900 text-white font-medium rounded-xl hover:bg-slate-800 transition-all shadow-lg",children:"Volver a la Tienda"})]}):x===fr.CHECKOUT?_.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4 text-center",children:[_.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-indigo-600 rounded-full animate-spin mb-6"}),_.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Preparando tu pedido..."}),_.jsx("p",{className:"text-slate-500",children:"Calibrando impresoras y ajustando lser."})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"relative bg-slate-900 text-white py-24 px-4 sm:px-6 lg:px-8 rounded-3xl mb-12 overflow-hidden shadow-2xl mx-4 lg:mx-8 mt-6",children:[_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("img",{src:"https://images.unsplash.com/photo-1513346940221-18f46db008d9?auto=format&fit=crop&q=80&w=1600",alt:"3D Printing Background",className:"w-full h-full object-cover opacity-20"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-900/90 to-transparent"})]}),_.jsx("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 z-10 hidden lg:block",children:_.jsxs("div",{className:"relative w-64 h-64 animate-float",children:[_.jsx("div",{className:"absolute inset-0 animate-spin-slow",children:_.jsx("div",{className:"w-full h-full rounded-3xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 shadow-2xl shadow-indigo-500/50 flex items-center justify-center transform perspective-1000 rotate-y-12 p-8",children:_.jsx("img",{src:"/3d2-proyecto-web/LOGO.jpg",alt:"3D Logo",className:"w-full h-full object-contain drop-shadow-2xl"})})}),_.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 blur-xl opacity-50 animate-pulse"})]})}),_.jsxs("div",{className:"relative z-10 max-w-3xl",children:[_.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-600/30 border border-indigo-400/30 rounded-full text-indigo-200 text-sm font-bold mb-4 backdrop-blur-sm tracking-wide uppercase",children:"Impresin 3D & Corte Lser"}),_.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black leading-tight mb-6",children:["Tus ideas,",_.jsx("br",{}),_.jsx("span",{className:"text-indigo-400",children:"hechas realidad."})]}),_.jsx("p",{className:"text-lg text-slate-300 mb-8 max-w-lg leading-relaxed",children:"Desde juguetes articulados hasta decoracin personalizada. Creamos objetos nicos con tecnologa 3D y precisin lser para ti."}),_.jsxs("div",{className:"flex flex-wrap gap-4",children:[_.jsx("button",{onClick:()=>T("__all__"),className:"px-8 py-4 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-900/20",children:"Ver Catlogo"}),_.jsx("button",{onClick:()=>T("Personalizados"),className:"px-8 py-4 bg-white/5 backdrop-blur-md text-white border border-white/10 rounded-xl font-bold hover:bg-white/10 transition-all",children:"Pedido Personalizado"})]})]})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-end mb-10 gap-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Regalera & Deco"}),_.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Objetos nicos creados capa por capa."})]}),_.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0 w-full sm:w-auto no-scrollbar",children:[_.jsx("button",{onClick:()=>T("Destacados"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${E==="Destacados"?"bg-slate-900 text-white":"bg-white border border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"Destacados"}),_.jsx("button",{onClick:()=>T("__all__"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${E==="__all__"?"bg-slate-900 text-white":"bg-white border border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"Todo"}),A.map(se=>_.jsx("button",{onClick:()=>T(se),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${E===se?"bg-slate-900 text-white":"bg-white border border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:se},se))]})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:E==="Personalizados"?_.jsx("div",{className:"col-span-full",children:_.jsx(TD,{onSubmit:Pe})}):(E?u.filter(se=>{if(E==="3D"){const R=(se.category||"").toUpperCase().includes("3D"),$=se.technology==="3D"||!se.technology&&R;return console.log(`Producto: ${se.name} | Tecnologa: ${se.technology} | Inferred3D: ${R} | Match 3D: ${$}`),$}if(E==="Lser"){const R=(se.category||"").toLowerCase().includes("lser")||(se.category||"").toLowerCase().includes("laser"),$=se.technology==="Lser"||!se.technology&&R;return console.log(`Producto: ${se.name} | Tecnologa: ${se.technology} | InferredLaser: ${R} | Match Lser: ${$}`),$}return E==="Destacados"?!!se.featured:E==="__all__"?!0:se.category===E}):u.filter(se=>!!se.featured)).map(se=>_.jsx(Qw,{product:se,onAddToCart:B},se.id))})]})]});return _.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[_.jsx(Kw,{cartCount:t.reduce((se,R)=>se+R.quantity,0),onOpenCart:()=>v(!0),onGoHome:()=>{b(fr.HOME),h("/")},onOpenAdmin:()=>h("/admin"),onLogin:()=>h("/login"),currentUser:P,onLogoutUser:()=>{Yw(),V(null)},onCategorySelect:se=>{b(fr.HOME),h("/"),T(se)}}),_.jsx("main",{className:"pt-4",children:_.jsxs(oE,{children:[_.jsx(bs,{index:!0,element:ot()}),_.jsx(bs,{path:"register",element:_.jsx(bD,{})}),_.jsx(bs,{path:"login",element:_.jsx(wD,{onLogin:se=>V(se)})}),_.jsx(bs,{path:"admin/login",element:_.jsx(vD,{})}),_.jsx(bs,{path:"admin",element:_.jsx(CD,{children:_.jsx(yD,{products:u,onAdd:_e,onEdit:Ce,onDelete:Ee})})})]})}),_.jsx(nT,{isOpen:m,onClose:()=>v(!1),items:t,onRemoveItem:X,onUpdateQuantity:Q,onCheckout:ce}),_.jsx(PI,{isOpen:i,onClose:()=>s(!1),items:t,total:t.reduce((se,R)=>se+R.price*R.quantity,0),onConfirmOrder:ae}),_.jsx(UI,{products:u}),_.jsx("footer",{className:"bg-white border-t border-gray-200 py-12 mt-12",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[_.jsxs("div",{className:"text-center md:text-left",children:[_.jsx("h3",{className:"font-black text-xl text-slate-900 mb-4",children:"3D2"}),_.jsx("p",{className:"text-slate-500 text-sm max-w-xs mx-auto md:mx-0 mb-6",children:"Transformamos filamento y madera en tus ideas favoritas. Calidad y detalle en cada impresin."})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"Enlaces Rpidos"}),_.jsxs("ul",{className:"space-y-2 text-sm text-slate-500",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors",children:"Catlogo"})}),_.jsx("li",{children:_.jsx("a",{href:"https://www.instagram.com/3d2_creart/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-indigo-600 transition-colors",children:"Instagram"})}),_.jsx("li",{children:(()=>{const R=`https://wa.me/${(xs==null?void 0:xs.VITE_WHATSAPP_NUMBER)||"1234567890"}`;return _.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"hover:text-indigo-600 transition-colors",children:"Trabajos a Pedido"})})()}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors",children:"Preguntas Frecuentes"})})]})]}),_.jsxs("div",{className:"text-center md:text-right",children:[_.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"Contacto & Redes"}),_.jsxs("div",{className:"flex flex-col items-center md:items-end space-y-2 mb-6 text-sm text-slate-500",children:[_.jsxs("p",{className:"flex items-center gap-2 hover:text-indigo-600 transition-colors cursor-pointer",children:[_.jsx(Ql,{size:14})," info@3d2store.com"]}),_.jsxs("p",{className:"flex items-center gap-2 hover:text-indigo-600 transition-colors cursor-pointer",children:[_.jsx(S0,{size:14})," +54 9 11 1234-5678"]})]}),_.jsxs("div",{className:"flex items-center justify-center md:justify-end gap-3",children:[_.jsx("a",{href:"https://www.instagram.com/3d2_creart/",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-100 rounded-full text-slate-600 hover:bg-gradient-to-br hover:from-purple-500 hover:via-pink-500 hover:to-red-500 hover:text-white transition-all duration-300 transform hover:-translate-y-1 shadow-sm","aria-label":"Instagram",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),_.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),_.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),_.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-100 rounded-full text-slate-600 hover:bg-blue-600 hover:text-white transition-all duration-300 transform hover:-translate-y-1 shadow-sm","aria-label":"Facebook",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),_.jsx("a",{href:xs!=null&&xs.VITE_WHATSAPP_NUMBER?"https://wa.me/undefined":"https://wa.me/1234567890",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-100 rounded-full text-slate-600 hover:bg-green-500 hover:text-white transition-all duration-300 transform hover:-translate-y-1 shadow-sm","aria-label":"WhatsApp",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]}),_.jsxs("div",{className:"border-t border-gray-100 pt-8 flex flex-col md:flex-row justify-between items-center text-slate-400 text-sm",children:[_.jsx("p",{children:" 2025 3D2 Store. Todos los derechos reservados."}),_.jsxs("span",{className:"mt-2 md:mt-0 text-xs text-slate-400",children:["Build: ","v0.0.0 build 2025-11-29T01:30:39.117Z"]}),_.jsxs("div",{className:"flex gap-4 mt-2 md:mt-0",children:[_.jsx("a",{href:"#",className:"hover:text-indigo-600",children:"Privacidad"}),_.jsx("a",{href:"#",className:"hover:text-indigo-600",children:"Trminos"})]})]})]})})]})},RD="v0.0.0 build 2025-11-29T01:30:39.117Z";console.info("[3D2] Build version:",RD);const Z_=document.getElementById("root");if(!Z_)throw new Error("Could not find root element to mount to");const ID=mS.createRoot(Z_);ID.render(_.jsx(Jl.StrictMode,{children:_.jsx(RE,{children:_.jsx(ND,{})})}));
